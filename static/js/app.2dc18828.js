(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(t,e){},"019f":function(t,e,a){},"0251":function(t,e,a){},"0305":function(t,e,a){"use strict";a("0719")},"0332":function(t,e,a){"use strict";a("9aac")},"0719":function(t,e,a){},"0781":function(t,e,a){"use strict";a.r(e);var i=a("24ab"),s=a.n(i),o=a("83d6"),l=a.n(o),n=l.a.showSettings,r=l.a.tagsView,c=l.a.fixedHeader,d=l.a.sidebarLogo,u={theme:s.a.theme,showSettings:n,tagsView:r,fixedHeader:c,sidebarLogo:d},p={CHANGE_SETTING:function(t,e){var a=e.key,i=e.value;t.hasOwnProperty(a)&&(t[a]=i)}},m={changeSetting:function(t,e){var a=t.commit;a("CHANGE_SETTING",e)}};e["default"]={namespaced:!0,state:u,mutations:p,actions:m}},"07a1":function(t,e,a){},"096e":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-skill",use:"icon-skill-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-skill"><path d="M31.652 93.206h33.401c1.44 2.418 3.077 4.663 4.93 6.692h-38.33v-6.692zm0-10.586h28.914a44.8 44.8 0 0 1-1.264-6.688h-27.65v6.688zm0-17.27H59.39c.288-2.286.714-4.532 1.34-6.687H31.65v6.687h.003zm53.913 44.84v5.85c0 2.798-2.095 5.075-4.667 5.075h-70.07c-2.576 0-4.663-2.277-4.663-5.075V31.26l23.22-20.96v22.25H17.16v6.688h18.39V6.688h45.348c2.576 0 4.667 2.277 4.667 5.066v20.009c1.987-.675 4.053-1.128 6.17-1.445v-18.56C91.738 5.28 86.874 0 80.902 0H31.15L0 28.118v87.917c0 6.48 4.859 11.759 10.832 11.759h70.07c5.974 0 10.837-5.27 10.837-11.759v-4.41c-2.117-.312-4.183-.765-6.17-1.435h-.004zM23.279 58.667h-7.96v6.688h7.96v-6.688zm-7.956 41.23h7.96v-6.691h-7.96v6.692zm7.956-23.96h-7.96v6.687h7.96v-6.688zm89.718-15.042l-4.896-4.07-12.447 17.613-11.19-9.305-3.762 5.311 16.091 13.38 16.204-22.929zM128 70.978c0-18.632-13.97-33.782-31.147-33.782-17.168 0-31.135 15.155-31.135 33.782 0 18.628 13.97 33.783 31.135 33.783 17.172 0 31.143-15.15 31.143-33.783H128zm-6.17 0c0 14.933-11.203 27.1-24.981 27.1-13.77 0-24.987-12.158-24.987-27.1 0-14.941 11.195-27.099 24.987-27.099 13.778 0 24.982 12.158 24.982 27.1z" /></symbol>'});l.a.add(n);e["default"]=n},"097d":function(t,e,a){"use strict";a("9207")},"0995":function(t,e,a){"use strict";a("6d1b")},"0c47":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"h",(function(){return l})),a.d(e,"a",(function(){return n})),a.d(e,"e",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"d",(function(){return d})),a.d(e,"g",(function(){return u}));var i=a("53ca");a("99af"),a("d3b7"),a("159b"),a("c740"),a("4e82"),a("4de4"),a("4fad"),a("d81d"),a("c1f9"),a("caad"),a("2532");function s(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}function o(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}function l(t,e,a,i){var o=[];try{if(n(e)||n(a))return o;var l="string"!==typeof e?s(new Date(e)):e,r="string"!==typeof a?s(new Date(a)):a;l=l.length>10?l.substring(0,10):l,r=r.length>10?r.substring(0,10):r,t.forEach((function(t,e){if(t.begda<=l&&r<=t.endda){var a=o.findIndex((function(e){return e[i]===t[i]}));-1===a?o.push(t):t.endda>o[a].endda&&(o[a]=t)}})),o.sort((function(t,e){return t[i]>e[i]?1:t[i]<e[i]?-1:void 0}))}catch(c){console.error(c.message)}return o}function n(t){return null===t||void 0===t||""===t}function r(t,e){var a=e.success,i={delete:"刪除",edit:"編輯",add:"新增",copy:"新增"},s="",o="";return void 0!==a&&!0===a?(s="資料"+i[t]+"成功",o="success"):(s=e.message,o="error"),c(s,o)}function c(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,i={message:t,type:e,duration:a};return i}function d(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=Object.entries(t);switch(a){case 1:e=i.map((function(t){return[t[0].toLowerCase(),t[1]]}));break;case 2:e=i.map((function(t){return[t[0].toUpperCase(),t[1]]}));break;case 3:e=i.map((function(t){return[t[0].toUpperCase().toUpperCase().substr(0,1)+t[0].substr(1),t[1]]}));break;default:e=t;break}return Object.fromEntries(e)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var s in t)if(!e.includes(s)){var o=Object(i["a"])(t[s]);a.includes(o)?t[s]="":"boolean"===o?t[s]=!0:"number"===o?t[s]=0:"object"===o?Array.isArray(t[s])?t[s]=[]:t[s]={}:t[s]=""}return t}},"0f9a":function(t,e,a){"use strict";a.r(e);a("b0c0"),a("d3b7"),a("e9c4"),a("159b"),a("ac1f"),a("5319"),a("25f0"),a("7db0");var i=a("b775");function s(t){return Object(i["a"])({url:"https://apim.innolux.com/Adapter/Jwt/GetJwtBySecurity",method:"post",data:t})}function o(t){return Object(i["a"])({url:"https://apim.innolux.com/Adapter/Jwt/TestJwtWithSecurityAdapter",method:"post"})}function l(){return Object(i["a"])({url:"https://apim.innolux.com/Adapter/SAMV4/GetMenuBySamV4",method:"get"})}function n(){return new Promise((function(t,e){t()}))}function r(t){return Object(i["a"])({url:"https://apim.innolux.com/2FALogin",method:"post",data:t})}function c(t){return Object(i["a"])({url:"https://apim.innolux.com/2FAVerify",method:"post",data:t})}var d=a("5f87"),u=a("a18c"),p={token:"",name:"",avatar:"",introduction:"",roles:[],token_samv4:"",empno:"",uuid:"",function_prv:[],token_apim:"",token_unlock:""},m={SET_TOKEN:function(t,e){t.token=e,e.length>0&&(t.token_unlock=e)},SET_INTRODUCTION:function(t,e){t.introduction=e},SET_NAME:function(t,e){var a;"CMINL".length>0&&(a=e.substring(e.indexOf("/")+1,e.length)),t.name=a},SET_AVATAR:function(t,e){t.avatar=e},SET_ROLES:function(t,e){t.roles=e},SET_TOKEN_SAMV4:function(t,e){t.token_samv4=e},SET_EMPNO:function(t,e){t.empno=e},SET_UUID:function(t,e){t.uuid=e},SET_FUNCTION_PRV:function(t,e){null===e?t.function_prv.length=0:t.function_prv.push(e)},SET_TOKEN_APIM:function(t,e){t.token_apim=e}},b={login:function(t,e){var a=t.commit,i=e.UserID,o=e.Password,l=e.Type,n=e.ad,r=e.pathname;return new Promise((function(t,e){var c={apiGroupKey:"string",type:"",token:"string",sysid:"string",account:"",password:"",system:"string",pathname:"string",ad:"string",empno:"string",key:"string",auth_sqlName:"string"};c.type=l,c.account=i,c.password=o,c.ad=n,c.pathname=r,console.log("login json:"+JSON.stringify(c)),s(c).then((function(i){var s=i;s.length>0&&"驗證失敗"!==s?(a("SET_TOKEN",s),Object(d["e"])(s),t()):(console.log("login token is null"),e())})).catch((function(t){console.log(t),e(t)}))}))},JWTInfo:function(t){var e=t.commit;return new Promise((function(t,a){o({}).then((function(a){e("SET_TOKEN_SAMV4",a.token),e("SET_NAME",a.ad),e("SET_EMPNO",a.empno),t(a)})).catch((function(t){console.log(t),a(t)}))}))},getInfo:function(t,e){var a=t.commit;t.state;return new Promise((function(t,i){l(e).then((function(e){var s=e;s||i("Verification failed, please Login again.");var o=[];s.lstNode||i("getInfo: SAMV4 Menu must be a non-null array!"),s.lstNode.forEach((function(t){o.push(t.url)}));var l="./personIcon.png",n="Introduction Not Use";(!o||o.length<=0)&&i("getInfo: roles must be a non-null array!"),a("SET_ROLES",o),a("SET_AVATAR",l),a("SET_INTRODUCTION",n),t(o)})).catch((function(t){i(t)}))}))},logout:function(t){var e=t.commit,a=t.state,i=t.dispatch;return new Promise((function(t,s){n(a.token).then((function(){e("SET_TOKEN",""),e("SET_ROLES",[]),e("SET_TOKEN_APIM",""),Object(d["d"])(),Object(u["d"])(),i("tagsView/delAllViews",null,{root:!0}),t()})).catch((function(t){s(t)}))}))},resetToken:function(t){var e=t.commit;return new Promise((function(t){e("SET_TOKEN",""),e("SET_ROLES",[]),e("SET_TOKEN_APIM",""),Object(d["d"])(),t()}))},setUUID:function(t){var e=t.commit,a=Date.now();"undefined"!==typeof performance&&"function"===typeof performance.now&&(a+=performance.now());var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===t?e:3&e|8).toString(16)}));e("SET_UUID",i)},resetUUID:function(t){var e=t.commit;e("SET_UUID","")},setFunctionPrv:function(t,e){var a=t.commit,i={funcID:e,isAdd:!1,isEdit:!0},s=p.function_prv.find((function(t){return t.funcID!==i.funcID}));s||a("SET_FUNCTION_PRV",i)},resetFunctionPrv:function(t){var e=t.commit;e("SET_FUNCTION_PRV",null)},TwoFALogin:function(t,e){var a=t.commit;return new Promise((function(t,i){var s={account:"",password:""};s.account=e.UserID,s.password=e.Password,r(s).then((function(e){console.log("TwoFALogin: "+JSON.stringify(e)),!0===e.success?(a("SET_TOKEN_APIM",e.data.token),t(e)):i(e.message)})).catch((function(t){console.log(t),i(t)}))}))},TwoFAVerify:function(t,e){t.commit;return new Promise((function(t,a){var i={system:"",otp_code:""};i.system="innoHCM",i.otp_code=e.TwoFA,c(i).then((function(e){console.log("TwoFAVerify: "+JSON.stringify(e)),!0===e.success?t(e):a(e.message)})).catch((function(t){console.log(t),a(t)}))}))}};e["default"]={namespaced:!0,state:p,mutations:m,actions:b}},1:function(t,e,a){t.exports=a("56d7")},"11d5":function(t,e,a){"use strict";a("ec61")},"11dd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("el-menu",{staticClass:"el-menu-demo no-print",attrs:{id:"navbar",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[e("el-menu-item",{attrs:{type:"primary"}},[e("router-link",{attrs:{to:"/PA/PA_Report/PA_Certificate_of_Employment"}},[t._v(" 回到在職證明填寫頁面 ")])],1),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.print}},[t._v(" 列印 或是下載PDF ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToFirstPage}},[t._v(" 第一頁 ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToPreviousPage}},[t._v(" 上一頁 ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToNextPage}},[t._v(" 下一頁 ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToLastPage}},[t._v(" 最後一頁 ")]),e("el-menu-item",{attrs:{type:"primary"}},[t._v(" 目前頁數 "+t._s(t.currentPage)+" / "+t._s(t.totalPage)+" ")])],1),e("div",{attrs:{id:"printMe"}},t._l(t.outputDataArr,(function(a,i){return e("div",{key:i,staticClass:"page"},[e("div",{attrs:{id:"p".concat(i+1)}}),e("img",{staticClass:"row",attrs:{src:a.companyInfo.employmentImgSrc}}),t._l(a.companyInfo.addressText,(function(i,s){return e("el-row",{key:i},[e("el-col",{attrs:{offset:1,span:15}},[e("div",{domProps:{innerHTML:t._s(i)}})]),a.companyInfo.addressText.length===s+2?e("el-col",{staticClass:"text-align-right",attrs:{offset:1,span:7}},[t._v("編號:"+t._s(a.PERNR))]):a.companyInfo.addressText.length===s+1?e("el-col",{staticClass:"text-align-right",attrs:{offset:1,span:7}},[t._v("Date:"+t._s(a.DATE))]):t._e()],1)})),e("hr",{staticStyle:{margin:"20px 0 10px 0"},attrs:{size:"8px",align:"center"}}),e("div",[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("姓名")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ENAME))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("NAME")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("身分證號碼")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ICNUM))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("ID NO:")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("出生日期")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.GBDAT))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("DATE OF BIRTH:")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("部門")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.STEXT))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("SERVICE DEPT.:")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.STEXT_TLINE))])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("職稱")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ZCOBJID))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("JOB TITLE:")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ZCOBJID_TLINE))])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("到職日期")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.BEGDA))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("DATE OF EMPLOYMENT:")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("附記")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v("1."+t._s(t.submitForm.REASON))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("REMARK:")]),null!=t.submitForm.REMARK?e("el-col",{attrs:{span:16}},[t._v("2."+t._s(t.submitForm.REMARK))]):t._e()],1),e("div",{staticStyle:{height:"100px"}}),e("el-row",{staticStyle:{"font-size":"24px","margin-bottom":"10px"}},[e("el-col",{attrs:{offset:12,span:8}},[t._v("董事長")])],1),e("el-row",[e("el-col",{attrs:{offset:12,span:8}},[t._v("Chairman")])],1),e("el-row",[e("el-col",{attrs:{offset:12,span:12}},[e("img",{attrs:{src:a.companyInfo.signImgSrc}})])],1),e("el-row",[e("el-col",[t._v("文件編號: "+t._s(t.submitForm.FORMNUMBER))])],1)],1)],2)})),0)],1)},s=[],o=(a("d3b7"),a("159b"),a("c740"),a("0c47")),l={NAME:"certificatePreview",props:{bbq:{type:Array,default:function(){return[{}]}}},data:function(){return{article:"",fullscreenLoading:!0,companyInfo:[{name:"CUXSG",employmentImgSrc:a("e619"),resigntaionImgSrc:a("3f84"),signImgSrc:a("8b5c"),ChairmanEnglishName:"",addressText:["35053 苗栗縣科學工業園區竹南園區科學路160號","No. 160, Kesyue Rd. Jhunan Science Park,","Miaoli County 35053, Taiwan R.O.C.","Tel：886-37-586000","&nbsp;","74147台南市台南科學工業園區環西路一段3號","No.3, Sec. 1, Huansi Rd., Southern Taiwan Science Park,","Tainan County 74147, Taiwan R.O.C.","Tel：886-6-5051888"]},{name:"群創",employmentImgSrc:a("893d"),resigntaionImgSrc:a("2640"),signImgSrc:a("94e2"),ChairmanEnglishName:"Jin Yang Hung",addressText:["35053 苗栗縣科學工業園區竹南園區科學路160號","No. 160, Kesyue Rd. Jhunan Science Park,","Miaoli County 35053, Taiwan R.O.C.","Tel：886-37-586000","&nbsp;","74147台南市台南科學工業園區環西路一段3號","No.3, Sec. 1, Huansi Rd., Southern Taiwan Science Park,","Tainan County 74147, Taiwan R.O.C.","Tel：886-6-5051888"]},{name:"群豐駿",employmentImgSrc:a("1475"),resigntaionImgSrc:a("a760"),signImgSrc:a("708f"),ChairmanEnglishName:"",addressText:["74147台南市台南科學工業園區南科八路12號A室","Room A No.12, Nanke 8th Rd., Tainan Science-Based","Industrial Park, Taiwan 74147 R.O.C","Tel：886-6-5051888"]},{name:"睿生",employmentImgSrc:a("9d7c"),resigntaionImgSrc:a("8a35"),signImgSrc:a("2a79"),ChairmanEnglishName:"",addressText:["74144台南市新市區環西路二段2號B室","Rm. B, No. 2, Sec. 2, Huanxi Rd., Xinshi Dist.,","Tainan City 74144, Taiwan (R.O.C.)","Tel：886-6-7007238"]}],outputDataArr:[{PERNR:"02000002",DATE:Object(o["c"])(new Date),ENAME:"群創測試",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",GSBER:"00012",companyInfo:{}},{PERNR:"02000007",DATE:Object(o["c"])(new Date),ENAME:"睿生測試",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",GSBER:"0008",companyInfo:{}},{PERNR:"02000001",DATE:Object(o["c"])(new Date),ENAME:"群豐駿",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",GSBER:"0009",companyInfo:{}},{PERNR:"02000002",DATE:Object(o["c"])(new Date),ENAME:"測試11 CUXSG",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",GSBER:"0011",companyInfo:{}},{PERNR:"02000002",DATE:Object(o["c"])(new Date),ENAME:"測試10 CUXSG",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",GSBER:"0010",companyInfo:{}}],submitForm:{REASON:"本在職證明僅供同仁在職進修使用",REMARK:"11111111",DOCNUMBER:"22222222"},currentPage:1,totalPage:0,pageHeightList:[]}},mounted:function(){},created:function(){var t=this;this.totalPage=this.outputDataArr.length,this.outputDataArr.forEach((function(e,a){switch(e.GSBER){case"0008":t.outputDataArr[a].companyInfo=t.companyInfo[3];break;case"0009":t.outputDataArr[a].companyInfo=t.companyInfo[2];break;case"0010":case"0011":t.outputDataArr[a].companyInfo=t.companyInfo[0];break;default:t.outputDataArr[a].companyInfo=t.companyInfo[1];break}})),console.log("load form"),console.log(this.$store.getters.certificate),this.submitForm={REASON:this.$store.getters.certificate.REASON_TEXT,REMARK:this.$store.getters.certificate.REMARK,FORMNUMBER:this.$store.getters.certificate.FORMNUMBER},window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{print:function(){window.print()},switchPage:function(t){this.currentPage=t;var e="p"+t,a=-70,i=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset+a;window.scrollTo({top:i,behavior:"smooth"})},goToFirstPage:function(){this.switchPage(1)},goToLastPage:function(){this.switchPage(this.totalPage)},goToNextPage:function(){this.currentPage+1<=this.totalPage&&this.switchPage(this.currentPage+1)},goToPreviousPage:function(){this.currentPage>1&&this.switchPage(this.currentPage-1)},handleScroll:function(t){0===this.pageHeightList.length&&this.setEachPageHeight();var e=window.scrollY,a=this.pageHeightList.findIndex((function(t){return t>e}));this.currentPage=a},setEachPageHeight:function(){var t=0;this.pageHeightList.push(t);for(var e=0;e<this.outputDataArr.length;e++){var a=document.querySelector(".page:nth-child("+(e+1)+")").offsetHeight;t+=a,this.pageHeightList.push(t)}}}},n=l,r=(a("19ed"),a("2877")),c=Object(r["a"])(n,i,s,!1,null,"7b4d8e2c",null);e["default"]=c.exports},1256:function(t,e,a){"use strict";a("4ed3")},"12a5":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-shopping",use:"icon-shopping-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-shopping"><path d="M42.913 101.36c1.642 0 3.198.332 4.667.996a12.28 12.28 0 0 1 3.89 2.772c1.123 1.184 1.987 2.582 2.592 4.193.605 1.612.908 3.318.908 5.118 0 1.8-.303 3.507-.908 5.118-.605 1.611-1.469 3.01-2.593 4.194a13.3 13.3 0 0 1-3.889 2.843 10.582 10.582 0 0 1-4.667 1.066c-1.729 0-3.306-.355-4.732-1.066a13.604 13.604 0 0 1-3.825-2.843c-1.123-1.185-1.988-2.583-2.593-4.194a14.437 14.437 0 0 1-.907-5.118c0-1.8.302-3.506.907-5.118.605-1.61 1.47-3.009 2.593-4.193a12.515 12.515 0 0 1 3.825-2.772c1.426-.664 3.003-.996 4.732-.996zm53.932.285c1.643 0 3.22.331 4.733.995a11.386 11.386 0 0 1 3.889 2.772c1.08 1.185 1.945 2.583 2.593 4.194.648 1.61.972 3.317.972 5.118 0 1.8-.324 3.506-.972 5.117-.648 1.611-1.513 3.01-2.593 4.194a12.253 12.253 0 0 1-3.89 2.843 11 11 0 0 1-4.732 1.066 10.58 10.58 0 0 1-4.667-1.066 12.478 12.478 0 0 1-3.824-2.843c-1.08-1.185-1.945-2.583-2.593-4.194a13.581 13.581 0 0 1-.973-5.117c0-1.801.325-3.507.973-5.118.648-1.611 1.512-3.01 2.593-4.194a11.559 11.559 0 0 1 3.824-2.772 11.212 11.212 0 0 1 4.667-.995zm21.781-80.747c2.42 0 4.3.355 5.64 1.066 1.34.71 2.29 1.587 2.852 2.63a6.427 6.427 0 0 1 .778 3.34c-.044 1.185-.195 2.204-.454 3.057-.26.853-.8 2.606-1.62 5.26a589.268 589.268 0 0 1-2.788 8.743 1236.373 1236.373 0 0 0-3.047 9.453c-.994 3.128-1.75 5.592-2.269 7.393-1.123 3.79-2.55 6.42-4.278 7.89-1.728 1.469-3.846 2.203-6.352 2.203H39.023l1.945 12.795h65.342c4.148 0 6.223 1.943 6.223 5.828 0 1.896-.41 3.53-1.232 4.905-.821 1.374-2.442 2.061-4.862 2.061H38.505c-1.729 0-3.176-.426-4.343-1.28-1.167-.852-2.14-1.966-2.917-3.34a21.277 21.277 0 0 1-1.88-4.478 44.128 44.128 0 0 1-1.102-4.55c-.087-.568-.324-1.942-.713-4.122-.39-2.18-.865-4.904-1.426-8.174l-1.88-10.947c-.692-4.027-1.383-8.079-2.075-12.154-1.642-9.572-3.5-20.234-5.574-31.986H6.87c-1.296 0-2.377-.356-3.24-1.067a9.024 9.024 0 0 1-2.14-2.558 10.416 10.416 0 0 1-1.167-3.2C.108 8.53 0 7.488 0 6.54c0-1.896.583-3.46 1.75-4.69C2.917.615 4.494 0 6.482 0h13.095c1.728 0 3.111.284 4.148.853 1.037.569 1.858 1.28 2.463 2.132a8.548 8.548 0 0 1 1.297 2.701c.26.948.475 1.754.648 2.417.173.758.346 1.825.519 3.199.173 1.374.345 2.772.518 4.193.26 1.706.519 3.507.778 5.403h88.678z" /></symbol>'});l.a.add(n);e["default"]=n},1430:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-qq",use:"icon-qq-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-qq"><path d="M18.448 57.545l-.244-.744-.198-.968-.132-.53v-2.181l.236-.859.24-.908.317-.953.428-1.06.561-1.103.794-1.104v-.773l.077-.724.123-.984.34-1.106.313-1.194.25-.548.289-.511.371-.569.405-.423v-2.73l.234-1.407.236-1.633.42-1.955.577-2.035.43-1.118.426-1.217.468-1.135.559-1.216.57-1.332.655-1.247.737-1.331.929-1.33.43-.762.457-.624.995-1.406 1.025-1.403 1.163-1.444 1.246-1.405 1.352-1.384 1.41-1.423 1.708-1.536 1.083-.934 1.322-1.008 1.34-.89 1.448-.855 1.392-.76 1.57-.63 1.667-.775 1.657-.532 1.653-.552 1.787-.548 1.785-.417 1.876-.347L59.128.68l1.879-.245 1.876-.252 2.002-.106h5.912l1.97.243 1.981.231 2.019.207 1.874.441 1.979.413 1.857.475 2.035.53 1.862.646 1.782.738 1.904.78 1.736.853 1.689.95 1.655 1.044 1.425.971.662.548.693.401 1.323 1.1 1.115 1.064 1.112 1.1 1.083 1.214.894 1.178 1.064 1.217.74 1.306.752 1.162.798 1.352.661 1.175 1.113 2.489.546 1.286.428 1.192.428 1.294.384 1.217.267 1.047.347 1.231.607 2.198.388 1.924.253 1.861.217 1.497.342 2.28.077.362.274.41.737 1.18.473.8.42.832.534.892.472 1.07.307 1.093.334 1.2.252 1.232.115.605.106.746v.648l-.106.643v.8l-.192.774-.35 1.5-.403.76-.299.852v.213l.142.264.4.623 1.746 2.53 1.377 1.9.66 1.267.889 1.389.774 1.52.893 1.627.894 1.828 1.006 2.069.567 1.268.518 1.239.447 1.307.44 1.175.336 1.235.342 1.16.432 2.261.343 2.31.235 2.05v2.891l-.158 1.025-.226 1.768-.308 1.59-.48 1.44-.18.588-.336.707-.28.493-.375.607-.33.383-.42.494-.375.4-.401.34-.48.207-.432.207-.355.114h-.543l-.346-.114-.66-.32-.302-.212-.317-.223-.347-.304-.35-.342-.579-.63-.684-.89-.539-.917-.538-.734-.526-.855-.741-1.517-.833-1.579-.098-.055h-.138l-.338.247-.196.415-.326.516-.567 1.533-.856 2.182-1.096 2.626-.824 1.308-.864 1.366-1.027 1.536-1.09 1.503-.557.68-.676.743-1.555 1.497.136.135.21.214.777.446 3.235 1.524 1.41.779 1.347.756 1.332.953 1.187.982.574.443.432.511.445.593.367.643.198.533.242.64.105.554.115.647-.115.433v.44l-.105.454-.242.415-.092.325-.22.394-.587.784-.543.627-.42.47-.35.348-.893.638-1.01.556-1.077.532-1.155.511-1.287.495-.693.207-.608.167-1.496.342-1.545.325-1.552.323-1.689.27-1.74.072-1.785.21h-5.539l-1.998-.114-1.86-.168-2.005-.27-1.99-.209-2.095-.286-2.03-.495-1.981-.374-1.968-.552-2.019-.707-1.98-.585-1.044-.342-.927-.323-.586-.223-.582-.12h-1.647l-1.904-.131-.962-.096-1.24-.135-.795.705-1.085.665-1.471.701-1.628.875-.99.475-1.033.376-2.281.914-1.24.305-1.3.343-1.803.344-1.13.086-1.193.1-1.246.135-1.45.053h-5.926l-3.346-.053-3.25-.321-1.644-.23-1.589-.23-1.546-.227-1.547-.305-1.442-.456-1.434-.325-1.294-.51-1.223-.474-1.142-.533-.99-.583-.984-.71-.336-.343-.44-.415-.334-.362-.3-.417-.278-.415-.215-.42-.311-.89-.109-.46-.138-.51v-.473l.138-.533v-.53l.109-.53v-1.069l.052-.564.259-.647.215-.646.39-.779.286-.3.236-.348.615-.738.49-.38.464-.266.428-.338.676-.21.543-.324.676-.341.77-.227.775-.231.897-.192.85-.11 1.008-.13 1.093-.081.284-.092h.063l.137-.115v-.13l-.2-.266-.58-.27-1.45-1.231-.975-.761-1.127-.967-1.136-1.082-1.181-1.382-1.36-1.558-.508-.843-.672-.87-.58-1.007-.522-1.1-.704-1.047-.459-1.194-.547-1.192-.546-1.33-.397-1.273-.378-1.575-.112-.057h-.115l-.059-.113h-.14l-.23.113-.114.057-.158.264-.057.321-.119.286-.206.477-.664 1.157-.345.701-.546.612-.58.736-.641.816-.677.724-.795.701-.734.658-.814.524-.89.546-.855.325-1.008.247-.99.095h-.233l-.228-.095-.18-.384-.29-.188-.38-.912-.237-.493-.255-.707-.21-.734-.113-.724-.313-1.648-.12-.972v-3.185l.12-2.379.196-1.214.23-1.252.21-1.347.374-1.254.42-1.443.431-1.407.578-1.448.545-1.38.754-1.4.699-1.52.855-1.425 1.006-1.538 1.023-1.382 1.069-1.538.891-1.071 1.142-1.227 1.202-1.237.56-.59.678-.662.985-.836 1.012-.853 1.647-1.446 1.242-.889z" /></symbol>'});l.a.add(n);e["default"]=n},1475:function(t,e,a){t.exports=a.p+"static/img/群豐駿在職logo.3b2bb46a.jpg"},1563:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"dialog"},[e("el-tabs",{attrs:{type:"card"}},[e("el-tab-pane",{attrs:{label:"選擇單一值"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.singleData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:"",height:"450"}},[e("el-table-column",{attrs:{width:"80",align:"center",label:"編號",type:"index"}}),e("el-table-column",{attrs:{prop:"singleValue",label:"單一值"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{nativeOn:{"!paste":function(e){return e.preventDefault(),t.singleDataPaste.apply(null,arguments)}},model:{value:a.row.singleValue,callback:function(e){t.$set(a.row,"singleValue",e)},expression:"scope.row.singleValue"}})]}}])}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"100"},scopedSlots:t._u([{key:"header",fn:function(){return[e("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-plus"},on:{click:t.singleDataAdd}})]},proxy:!0},{key:"default",fn:function(a){a.row;var i=a.$index;return[e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.singleDataDelete(i)}}})]}}])})],1),e("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"}},[e("el-button",{attrs:{slot:"reference",type:"danger",size:"medium",icon:"el-icon-delete"},on:{click:t.deleteSingleDataSel},slot:"reference"}),e("upload-excel-component",{attrs:{"on-success":t.singleDataSuccess,"before-upload":t.beforeUpload}}),e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("4bd7")}})])],1)],1),e("el-tab-pane",{attrs:{label:"選擇範圍"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.rangeData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:"",height:"450"}},[e("el-table-column",{attrs:{width:"80",align:"center",label:"編號",type:"index"}}),e("el-table-column",{attrs:{prop:"begValue",label:"開始值"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{nativeOn:{"!paste":function(e){return e.preventDefault(),t.rangeDataPaste.apply(null,arguments)}},model:{value:a.row.begValue,callback:function(e){t.$set(a.row,"begValue",e)},expression:"scope.row.begValue"}})]}}])}),e("el-table-column",{attrs:{prop:"endValue",label:"結束值"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{model:{value:a.row.endValue,callback:function(e){t.$set(a.row,"endValue",e)},expression:"scope.row.endValue"}})]}}])}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"100"},scopedSlots:t._u([{key:"header",fn:function(){return[e("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-plus"},on:{click:t.rangeDataAdd}})]},proxy:!0},{key:"default",fn:function(a){a.row;var i=a.$index;return[e("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.rangeDataDelete(i)}}})]}}])})],1),e("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"}},[e("el-button",{attrs:{slot:"reference",type:"danger",size:"medium",icon:"el-icon-delete"},on:{click:t.deleteRangeDataSel},slot:"reference"}),e("upload-excel-component",{attrs:{"on-success":t.rangeDataSuccess,"before-upload":t.beforeUpload}}),e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("4bd7")}})])],1)],1)],1)],1)])],1)},s=[],o=(a("a434"),a("4de4"),a("d3b7"),a("ac1f"),a("1276"),a("d81d"),a("159b"),a("5c96")),l=function(){var t=this,e=t._self._c;return e("div",[e("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:t.handleClick}}),e("el-button",{staticStyle:{margin:"0 10px"},attrs:{loading:t.loading,icon:"el-icon-upload2",type:"success"},on:{click:t.handleUpload}})],1)},n=[],r=(a("00b4"),a("b0c0"),a("1146")),c=a.n(r),d={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(t){var e=t.header,a=t.results;this.excelData.header=e,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(t){if(t.stopPropagation(),t.preventDefault(),!this.loading){var e=t.dataTransfer.files;if(1===e.length){var a=e[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),t.stopPropagation(),t.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(t){var e=t.target.files,a=e[0];a&&this.upload(a)},upload:function(t){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var e=this.beforeUpload(t);e&&this.readerData(t)}else this.readerData(t)},readerData:function(t){var e=this;return this.loading=!0,new Promise((function(a,i){var s=new FileReader;s.onload=function(t){var i=t.target.result,s=c.a.read(i,{type:"array",cellDates:!0,dateNF:"yyyy/mm/dd"}),o=s.SheetNames[0],l=s.Sheets[o],n=e.getHeaderRow(l),r=c.a.utils.sheet_to_json(l,{raw:!1});e.generateData({header:n,results:r}),e.loading=!1,a()},s.readAsArrayBuffer(t)}))},getHeaderRow:function(t){var e,a=[],i=c.a.utils.decode_range(t["!ref"]),s=i.s.r;for(e=i.s.c;e<=i.e.c;++e){var o=t[c.a.utils.encode_cell({c:e,r:s})],l="UNKNOWN "+e;o&&o.t&&(l=c.a.utils.format_cell(o)),a.push(l)}return a},isExcel:function(t){return/\.(xlsx|xls|csv)$/.test(t.name)}}},u=d,p=(a("807c"),a("2877")),m=Object(p["a"])(u,l,n,!1,null,"2a0e2838",null),b=m.exports,h=1048576,f={name:"MultipleChoice",components:{UploadExcelComponent:b},props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1}},data:function(){return{textMap:{pernr:"員工工號 多重選擇",u_site:"資料來源廠區 多重選擇"},singleData:[{singleValue:""}],rangeData:[{begValue:"",endValue:""}],header:[],tableData:[]}},methods:{beforeUpload:function(t){var e=t.size<h;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},singleDataSuccess:function(t){var e=t.header,a=t.results;this.header=e,this.tableData=a,this.tableData.unshift({}),this.tableData[0][this.header[0]]=this.header[0];for(var i=0;i<this.tableData.length;i++)this.singleData[i].singleValue=this.tableData[i][this.header[0]],i+1<this.tableData.length&&this.singleData.push({})},rangeDataSuccess:function(t){var e=t.header,a=t.results;this.header=e,this.tableData=a,this.tableData.unshift({}),this.tableData[0][this.header[0]]=this.header[0],this.tableData[0][this.header[1]]=this.header[1];for(var i=0;i<this.tableData.length;i++)this.rangeData[i].begValue=this.tableData[i][this.header[0]],this.rangeData[i].endValue=this.tableData[i][this.header[1]],i+1<this.tableData.length&&this.rangeData.push({})},deleteSingleDataSel:function(){this.singleData=[{singleValue:""}]},deleteRangeDataSel:function(){this.rangeData=[{begValue:"",endValue:""}]},closeDialog:function(){this.$emit("close")},submitDialog:function(){""!==this.singleData[0].singleValue||""!==this.rangeData[0].begValue?""===this.singleData[0].singleValue||""===this.rangeData[0].begValue?(""===this.singleData[0].singleValue||""===this.rangeData[0].begValue)&&this.singleData.length>1&&this.rangeData.length>1?Object(o["Message"])({message:"請擇一選擇單一值或選擇範圍輸入",type:"error",duration:3e3}):this.$emit("submit",this.singleData,this.rangeData):Object(o["Message"])({message:"請擇一選擇單一值或選擇範圍輸入",type:"error",duration:3e3}):Object(o["Message"])({message:"第一筆不可為空",type:"error",duration:3e3})},singleDataAdd:function(){this.singleData.unshift({singleValue:""})},singleDataDelete:function(t){console.log("this.singleData.length",this.singleData.length),1!==this.singleData.length?(this.singleData.splice(t,1),Object(o["Message"])({message:"資料刪除成功",type:"success",duration:3e3})):Object(o["Message"])({message:"第一筆不可刪除 !",type:"error",duration:3e3})},rangeDataAdd:function(){this.rangeData.unshift({begValue:"",endValue:""})},rangeDataDelete:function(t){1!==this.rangeData.length?(this.rangeData.splice(t,1),Object(o["Message"])({message:"資料刪除成功",type:"success",duration:3e3})):Object(o["Message"])({message:"第一筆不可刪除 !",type:"error",duration:3e3})},singleDataPaste:function(t){var e=this,a=(t.clipboardData||window.clipboardData).getData("text"),i=a.split("\r\n").filter((function(t){return t.length>0})),s=i.map((function(t){return t.split("\t").filter((function(t){return t}))})).filter((function(t){return t.length}));s.length>0&&(this.singleData=[]),s.forEach((function(t,a){e.singleData[a]={singleValue:t[0]}}))},rangeDataPaste:function(t){var e=this,a=(t.clipboardData||window.clipboardData).getData("text"),i=a.split("\r\n").filter((function(t){return t.length>0})),s=i.map((function(t){return t.split("\t").filter((function(t){return t}))})).filter((function(t){return t.length}));s.length>0&&(this.rangeData=[]),s.forEach((function(t,a){e.rangeData[a]={begValue:t[0],endValue:t[1]}}))}}},g=f,D=Object(p["a"])(g,i,s,!1,null,"434e0bb2",null);e["a"]=D.exports},"16af":function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",{staticClass:"switch"},[e("div",{staticClass:"display"}),e("div",[e("p",{staticClass:"page-title"},[t._v("職稱")])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-switch",{attrs:{"active-text":"編輯","inactive-text":"檢視"},on:{change:t.btnControlEditView},model:{value:t.switchEdit,callback:function(e){t.switchEdit=e},expression:"switchEdit"}})],1)]),e("el-form",[e("div",{staticClass:"search-bg"},[e("div",{staticClass:"bar-row1"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"OBJID",ref:"objInput",attrs:{disabled:t.switchEdit,maxlength:"8","show-word-limit":"",placeholder:"職稱物件ID"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formOrg.OBJID,callback:function(e){t.$set(t.formOrg,"OBJID",e)},expression:"formOrg.OBJID"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"InfoType"},model:{value:t.infoSel,callback:function(e){t.infoSel=e},expression:"infoSel"}},t._l(t.filteredOptions,(function(a){return e("el-option",{key:a.infty,attrs:{label:a.infty+" "+a.itext,value:a.infty},nativeOn:{click:function(e){return t.getSubType.apply(null,arguments)}}})})),1)],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"subSpaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"SubType",disabled:null==t.infoSel||""===t.infoSel||!0===t.subtype},model:{value:t.subSel,callback:function(e){t.subSel=e},expression:"subSel"}},t._l(t.filteredSubOptions,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.sutxt,value:t.subty}})})),1)],1)],1)]),e("div",{staticClass:"bar-row2"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"開始日期","picker-options":t.pickerOptions,format:"yyyy-MM-dd"},model:{value:t.typeinfoFromDate,callback:function(e){t.typeinfoFromDate=e},expression:"typeinfoFromDate"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.typeinfoToDate,callback:function(e){t.typeinfoToDate=e},expression:"typeinfoToDate"}})],1)],1),e("div",{staticClass:"searchBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-view"},on:{click:t.view}})],1)],1)])])])]),e("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("職稱物件ID")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.objid))])])])]),e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-label"},[t._v("職稱代碼")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.short))]),t._v(t._s(t.titleData.stext))])])])],1)],1),e(t.listView,{key:t.loadKey,tag:"component",attrs:{"title-data":t.titleData,"body-data":t.bodyData,"switch-edit":t.switchEdit},on:{getList:t.getListInfo}}),e(t.detailView,{tag:"component",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},s=[],o=a("c7eb"),l=a("1da1"),n=a("2909"),r=(a("b0c0"),a("e9c4"),a("99af"),a("c740"),a("4de4"),a("d3b7"),a("5c96")),c=a("daa7"),d=a("0c47"),u=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("物件")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"short",label:"物件縮寫"}}),e("el-table-column",{attrs:{prop:"stext",label:"物件名稱"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om1000-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},p=[],m=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"100px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"begda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.begda,callback:function(e){t.$set(t.dataForm,"begda",e)},expression:"dataForm.begda"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"endda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.endda,callback:function(e){t.$set(t.dataForm,"endda",e)},expression:"dataForm.endda"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"aedtm"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.aedtm,callback:function(e){t.$set(t.dataForm,"aedtm",e)},expression:"dataForm.aedtm"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"uname"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.uname,callback:function(e){t.$set(t.dataForm,"uname",e)},expression:"dataForm.uname"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("物件")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"物件縮寫",prop:"short"}},[e("el-input",{attrs:{name:"short",disabled:t.DisableFlag.SHORT},model:{value:t.dataForm.short,callback:function(e){t.$set(t.dataForm,"short",e)},expression:"dataForm.short"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"物件名稱",prop:"stext"}},[e("el-input",{attrs:{name:"stext",disabled:t.DisableFlag.STEXT},model:{value:t.dataForm.stext,callback:function(e){t.$set(t.dataForm,"stext",e)},expression:"dataForm.stext"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},b=[],h=a("5530"),f=a("61f7"),g={name:"Om1000Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{objid:null,short:""},body:{id:"",begda:"",endda:"",aedtm:"",uname:"",active:"",objid:null,infty:"",subty:"",short:"",stext:""}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{id:"",begda:new Date,endda:new Date(9999,11,31),aedtm:"",uname:"",active:"",objid:null,infty:"",subty:"",short:"",stext:""},rules:{begda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],endda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],short:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],stext:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},category:"C"}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,OBJID:!0,SUBTY:!0,SHORT:!0,STEXT:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,"edit"===this.dialogStatus&&(e.BEGDA=!0,e.ENDDA=!0),"copy"===this.dialogStatus&&(e.OBJID=!0),e.SHORT=!1,e.STEXT=!1),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?this.dataForm=Object(h["a"])({},this.parentObj.body):(this.dataForm.objid=this.parentObj.title.objid,this.dataForm.infty="1000",this.dataForm.active="1",this.dataForm.aedtm=Object(d["c"])(new Date),this.dataForm.uname=this.$store.getters.name)}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.begda,this.dataForm.endda);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.id,a.uname=this.$store.getters.name,a.aedtm=Object(d["c"])(new Date),Object(c["f"])(this.dataForm.infty,this.dataForm.id,a,this.category).then((function(e){console.log("deleteOMList body: "+JSON.stringify(a));var i=e.success;void 0!==i&&!0===i?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.$emit("close")):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),void this.closeDialog()}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.id,a.begda=Object(d["c"])(new Date(t.dataForm.begda)),a.endda=Object(d["c"])(new Date(t.dataForm.endda)),a.aedtm=Object(d["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.active,a.objid=t.dataForm.objid,a.infty=t.dataForm.infty,a.subty=t.dataForm.subty,a.short=t.dataForm.short,a.stext=t.dataForm.stext,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?Object(c["c"])(t.dataForm.infty,a,t.category).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):Object(c["o"])(t.dataForm.infty,a,t.category).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,[],["number"])},queryOption:function(t){return!1}}},D=g,y=a("2877"),v=Object(y["a"])(D,m,b,!1,null,"13cfbc72",null),O=v.exports,F={name:"Om1000List",components:{Om1000Detail:O},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},S=F,E=Object(y["a"])(S,u,p,!1,null,null,null),A=E.exports,w=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("說明")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"subty",label:"子類型"}}),e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"tline",label:"說明(第一行)"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om1002-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},T=[],x=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("說明")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"子類型",prop:"SUBTY"}},[e("div",{staticStyle:{display:"flex","margin-top":"-20px"}},[e("el-form-item",{staticStyle:{width:"40%"},attrs:{prop:"SUBTY"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"請選擇","filter-method":t.T777uOptionFilter,disabled:t.DisableFlag.SUBTY},on:{change:t.forceUpdate},model:{value:t.dataForm.SUBTY,callback:function(e){t.$set(t.dataForm,"SUBTY",e)},expression:"dataForm.SUBTY"}},t._l(t.filteredT777uOptions,(function(a){return e("el-option",{key:a.subty,attrs:{label:a.subty+" "+a.sutxt,value:a.subty}},[t._v(" "+t._s(a.subty)+t._s(a.sutxt)+" ")])})),1)],1)],1)]),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"說明",prop:"TLINE"}},[e("el-input",{attrs:{type:"textarea",rows:5,placeholder:"請輸入內容",disabled:t.DisableFlag.TLINE},model:{value:t.dataForm.TLINE,callback:function(e){t.$set(t.dataForm,"TLINE",e)},expression:"dataForm.TLINE"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},j=[],_={name:"Om1002Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",INFTY:"",OBJID:"",ACTIVE:"1",SUBTY:"",TLINE:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SUBTY:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],TLINE:[{required:!0,message:"此欄為必填欄位，長度限制為最大79個字",trigger:"blur",max:237}]},T777uOptions:[],filteredT777uOptions:[],category:"C"}},computed:{DisableFlag:function(){var t=["add","copy","edit"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,SUBTY:!0,TLINE:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.SUBTY=!1,e.TLINE=!1,a<=1&&(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?this.dataForm=Object(d["d"])(this.parentObj.body,2):(this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY="1002",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(d["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name)}},deep:!0},"dataForm.BEGDA":function(){this.T777uOptionFilter()},"dataForm.ENDDA":function(){this.T777uOptionFilter()}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(d["c"])(new Date),Object(c["f"])(this.dataForm.INFTY,this.dataForm.ID,a,this.category).then((function(e){console.log("deleteOMList body: "+JSON.stringify(a));var i=e.success;void 0!==i&&!0===i?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.$emit("close")):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),void this.closeDialog()}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(d["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.objid=t.dataForm.OBJID,a.infty=t.dataForm.INFTY,a.subty=t.dataForm.SUBTY,a.tline=t.dataForm.TLINE,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?Object(c["c"])(t.dataForm.INFTY,a,t.category).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):Object(c["o"])(t.dataForm.INFTY,a,t.category).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,[],["number"])},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getT777UInfo();case 2:case"end":return e.stop()}}),e)})))()},getT777UInfo:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["l"])("T777U").then((function(e){return console.log(e),200!==e.status?(Object(r["Message"])({message:"T777U 資訊取得失敗(".concat(e.message,")"),type:"error",duration:3e3}),[]):e.data.filter((function(e){return e.otype===t.category}))})).catch((function(t){console.log(t)}));case 2:a=e.sent,a.length>0?(t.T777uOptions=a,t.filteredT777uOptions=a):Object(r["Message"])({message:"沒有找到符合搜尋條件的T777U資料",type:"error",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},T777uOptionFilter:function(t){if(t){var e=t.toUpperCase();this.filteredT777uOptions=Object(d["h"])(this.T777uOptions,this.dataForm.BEGDA,this.dataForm.ENDDA,"subty").filter((function(t){return t.subty.indexOf(e)>-1||t.sutxt.indexOf(e)>-1}))}else this.filteredT777uOptions=this.T777uOptions},forceUpdate:function(){this.$forceUpdate(),this.filteredT777uOptions=this.T777uOptions}}},C=_,k=Object(y["a"])(C,x,j,!1,null,"4f4fcae2",null),N=k.exports,I={name:"Om1002List",components:{Om1002Detail:N},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},M=I,B=Object(y["a"])(M,w,T,!1,null,null,null),R=B.exports,L={name:"CHrp1000",components:{Om1000List:A,Om1000Detail:O,Om1002List:R,Om1002Detail:N},data:function(){return{formOrg:{OBJID:null,SHORT:"",STEXT:""},begda:"",endda:"",switchEdit:!1,dialogVisible:!1,dialogStatus:"",listView:"",detailView:"",subtype:!1,titleData:{},bodyData:[],parentObj:{},loadKey:"",switchKey:"_1",infoSel:void 0,subSel:void 0,options:[{otype:"C",infty:"1000",itext:"物件"},{otype:"C",infty:"1002",itext:"說明"}],subOptions:[],filteredOptions:[],filteredSubOptions:[],category:"C",typeinfoFromDate:new Date(1799,12,1),typeinfoToDate:new Date(9999,11,31),pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.filteredOptions=Object(n["a"])(this.options)},mounted:function(){this.$refs.objInput.focus()},beforeDestroy:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.formOrg.OBJID,!0!==t.switchEdit){e.next=12;break}return i={},i.objid=a,i.mdfyflg="0",i.mdfyusr=t.$store.getters.name,i.mdfydtm=Object(d["b"])(new Date),i.pageguid=t.$store.getters.uuid,console.log("force editLock unLock: "+JSON.stringify(i)),e.next=11,Object(c["g"])(i,t.category).then((function(t){var e=t.success;!0===e||Object(r["Message"])({message:"檢視切換失敗:物件ID(".concat(a,")編輯解鎖失效"),type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 11:t.switchEdit=!1;case 12:case"end":return e.stop()}}),e)})))()},methods:{btnControlEditView:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.titleData.objid&&t.titleData.infty){e.next=4;break}return t.switchEdit=!1,Object(r["Message"])({message:"請輸入職稱物件ID及選擇Infotype !",type:"error",duration:3e3}),e.abrupt("return");case 4:a=t.titleData.objid,i={},i.objid=a,!0===t.switchEdit?(i.mdfyflg="1",i.pageguid=t.$store.getters.uuid):(i.mdfyflg="0",i.pageguid=t.$store.getters.uuid),i.mdfyusr=t.$store.getters.name,i.mdfydtm=Object(d["b"])(new Date),console.log("editLock: "+JSON.stringify(i)),Object(c["g"])(i,t.category).then((function(e){if(console.log("editLock pageguid: "+i.pageguid),200!==e.status||!0!==e.success)return Object(r["Message"])({message:"檢視/編輯切換失敗:物件ID(".concat(a,")編輯解鎖失效(").concat(e.message,")"),type:"error",duration:3e3}),void(t.switchEdit=!1);Object(r["Message"])({message:"檢視/編輯切換成功:物件ID(".concat(a,"))"),type:"success",duration:3e3})})).catch((function(e){Object(r["Message"])({message:"檢視/編輯切換失敗:物件ID(".concat(a,")編輯解鎖失效(").concat(e,")"),type:"error",duration:3e3}),t.switchEdit=!1,console.log(e)}));case 12:case"end":return e.stop()}}),e)})))()},view:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formOrg.OBJID&&null!=t.infoSel){e.next=3;break}return Object(r["Message"])({message:"請輸入物件ID及選擇InfoType !",type:"error",duration:3e3}),e.abrupt("return");case 3:return e.next=5,t.getOrgInfo();case 5:t.parentObj={title:t.titleData,body:t.bodyData[0]},t.dialogStatus="view",t.dialogVisible=!0;case 8:case"end":return e.stop()}}),e)})))()},search:function(){this.formOrg.OBJID?(this.resetForm(),this.getOrgInfo()):Object(r["Message"])({message:"請輸入物件ID !",type:"error",duration:3e3})},closeDialog:function(){this.dialogVisible=!1},getOrgInfo:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.typeinfoFromDate&&null!==e.typeinfoToDate){t.next=3;break}return Object(r["Message"])({message:"請輸入開始日期及結束日期 !",type:"error",duration:3e3}),t.abrupt("return");case 3:if("1799-12-01"===e.typeinfoFromDate&&"9999-11-31"===e.typeinfoToDate){t.next=13;break}if(!(e.typeinfoToDate<e.typeinfoFromDate)){t.next=9;break}return Object(r["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}),t.abrupt("return");case 9:e.begda=Object(d["c"])(e.typeinfoFromDate),e.endda=Object(d["c"])(e.typeinfoToDate);case 11:t.next=15;break;case 13:e.begda="1799-12-01",e.endda="9999-11-31";case 15:return t.next=17,Object(c["m"])(e.formOrg.OBJID,e.begda,e.endda,e.category).then((function(t){var a=t.data;if(200===t.status){if(a.length>0){var i=Object.assign({},a[0]);if(e.formOrg.OBJID=i.objid,i.begda=e.begda,i.endda=e.endda,e.infoSel>-1){var s=e.options.findIndex((function(t){return t.infty===e.infoSel}));i.infty=e.options[s].infty,i.subty=e.subSel}e.titleData=i,console.log("titleData",e.titleData)}}else Object(r["Message"])({message:"無此職稱與相關資料",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 17:if(!(e.infoSel>-1)){t.next=24;break}return t.next=20,e.getListInfo();case 20:a=e.options.findIndex((function(t){return t.infty===e.infoSel})),e.loadKey="key_"+e.options[a].infty,e.listView="Om".concat(e.options[a].infty,"-list"),e.detailView="Om".concat(e.options[a].infty,"-detail");case 24:case"end":return t.stop()}}),t)})))()},getListInfo:function(){var t=this,e=this.options.findIndex((function(e){return e.infty===t.infoSel}));return Object(c["i"])(this.options[e].infty,this.formOrg.OBJID,this.begda,this.endda,this.category).then((function(e){t.bodyData=e.data,t.subSel&&(t.bodyData=t.bodyData.filter((function(e){return e.subty===t.subSel})))})).catch((function(t){console.log(t)}))},getSubType:function(){var t=this;this.subSel=void 0,this.subtype=!1;var e=this.options.findIndex((function(e){return e.infty===t.infoSel}));Object(c["n"])(this.options[e].otype,this.options[e].infty).then((function(e){var a=e.data;t.subOptions=a,t.filteredSubOptions=a,400!==e.status||(t.subtype=!0)})).catch((function(t){console.log(t)}))},resetForm:function(){this.titleData={objid:"",short:"",stext:""},this.loadKey=""}}},P=L,V=Object(y["a"])(P,i,s,!1,null,"08da38d4",null);e["default"]=V.exports},1779:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-bug",use:"icon-bug-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-bug"><path d="M127.88 73.143c0 1.412-.506 2.635-1.518 3.669-1.011 1.033-2.209 1.55-3.592 1.55h-17.887c0 9.296-1.783 17.178-5.35 23.645l16.609 17.044c1.011 1.034 1.517 2.257 1.517 3.67 0 1.412-.506 2.635-1.517 3.668-.958 1.033-2.155 1.55-3.593 1.55-1.438 0-2.635-.517-3.593-1.55l-15.811-16.063a15.49 15.49 0 0 1-1.196 1.06c-.532.434-1.65 1.208-3.353 2.322a50.104 50.104 0 0 1-5.192 2.974c-1.758.87-3.94 1.658-6.546 2.364-2.607.706-5.189 1.06-7.748 1.06V47.044H58.89v73.062c-2.716 0-5.417-.367-8.106-1.102-2.688-.734-5.003-1.631-6.945-2.692a66.769 66.769 0 0 1-5.268-3.179c-1.571-1.057-2.73-1.94-3.476-2.65L33.9 109.34l-14.611 16.877c-1.066 1.14-2.344 1.711-3.833 1.711-1.277 0-2.422-.434-3.434-1.304-1.012-.978-1.557-2.187-1.635-3.627-.079-1.44.333-2.705 1.236-3.794l16.129-18.51c-3.087-6.197-4.63-13.644-4.63-22.342H5.235c-1.383 0-2.58-.517-3.592-1.55S.125 74.545.125 73.132c0-1.412.506-2.635 1.518-3.668 1.012-1.034 2.21-1.55 3.592-1.55h17.887V43.939L9.308 29.833c-1.012-1.033-1.517-2.256-1.517-3.669 0-1.412.505-2.635 1.517-3.668 1.012-1.034 2.21-1.55 3.593-1.55s2.58.516 3.593 1.55l13.813 14.106h67.396l13.814-14.106c1.012-1.034 2.21-1.55 3.592-1.55 1.384 0 2.581.516 3.593 1.55 1.012 1.033 1.518 2.256 1.518 3.668 0 1.413-.506 2.636-1.518 3.67l-13.814 14.105v23.975h17.887c1.383 0 2.58.516 3.593 1.55 1.011 1.033 1.517 2.256 1.517 3.668l-.005.01zM89.552 26.175H38.448c0-7.23 2.489-13.386 7.466-18.469C50.892 2.623 56.92.082 64 .082c7.08 0 13.108 2.541 18.086 7.624 4.977 5.083 7.466 11.24 7.466 18.469z" /></symbol>'});l.a.add(n);e["default"]=n},"17df":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-international",use:"icon-international-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-international"><path d="M83.287 103.01c-1.57-3.84-6.778-10.414-15.447-19.548-2.327-2.444-2.182-4.306-1.338-9.862v-.64c.553-3.81 1.513-6.05 14.313-8.087 6.516-1.018 8.203 1.57 10.589 5.178l.785 1.193a12.625 12.625 0 0 0 6.43 5.207c1.134.524 2.53 1.164 4.421 2.24 4.596 2.53 4.596 5.41 4.596 11.753v.727a26.91 26.91 0 0 1-5.178 17.454 59.055 59.055 0 0 1-19.025 11.026c3.49-6.546.814-14.313 0-16.553l-.146-.087zM64 5.12a58.502 58.502 0 0 1 25.484 5.818 54.313 54.313 0 0 0-12.859 10.327c-.93 1.28-1.716 2.473-2.472 3.579-2.444 3.694-3.637 5.352-5.818 5.614a25.105 25.105 0 0 1-4.219 0c-4.276-.29-10.094-.64-11.956 4.422-1.193 3.23-1.396 11.956 2.444 16.495.66 1.077.778 2.4.32 3.578a7.01 7.01 0 0 1-2.066 3.229 18.938 18.938 0 0 1-2.909-2.91 18.91 18.91 0 0 0-8.32-6.603c-1.25-.349-2.647-.64-3.985-.93-3.782-.786-8.03-1.688-9.019-3.812a14.895 14.895 0 0 1-.727-5.818 21.935 21.935 0 0 0-1.396-9.25 8.873 8.873 0 0 0-5.557-4.946A58.705 58.705 0 0 1 64 5.12zM0 64c0 35.346 28.654 64 64 64 35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64z" /></symbol>'});l.a.add(n);e["default"]=n},"18f0":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-link",use:"icon-link-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-link"><path d="M115.625 127.937H.063V12.375h57.781v12.374H12.438v90.813h90.813V70.156h12.374z" /><path d="M116.426 2.821l8.753 8.753-56.734 56.734-8.753-8.745z" /><path d="M127.893 37.982h-12.375V12.375H88.706V0h39.187z" /></symbol>'});l.a.add(n);e["default"]=n},"19ed":function(t,e,a){"use strict";a("019f")},"1cfe":function(t,e,a){"use strict";a("7e55")},"1db4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wscn-http404-container"},[e("div",{staticClass:"wscn-http404"},[t._m(0),e("div",{staticClass:"bullshit"},[e("div",{staticClass:"bullshit__oops"},[t._v("OOPS!")]),t._m(1),e("div",{staticClass:"bullshit__headline"},[t._v(t._s(t.message))]),e("div",{staticClass:"bullshit__info"},[t._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),e("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[t._v("Back to home")])])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"pic-404"},[e("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"bullshit__info"},[t._v("All rights reserved "),e("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[t._v("wallstreetcn")])])}],o={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},l=o,n=(a("89a2"),a("2877")),r=Object(n["a"])(l,i,s,!1,null,"26fcd89f",null);e["default"]=r.exports},"1db5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACmSURBVHgBpY8/DoIwFMYfxMnJRA/QK3AC9SZO6mQ8hycQF+MNHNzVxFlYmWhYWMpASEgYyOMVEgj/Ag2/pGnT7/3SfgA9ICIDFbDgPlrECpfWuTWw/O9xACnudFCDa9KkA1tZh1oiDDPfwzSGi/+Cm3hvhXH9zOSwRrRLmPiLnO/Je6y9JHim+twuy3W9TdebhXVkJGEz6BT6ctXS6oIszQe+xWEKGUwde9axolv0AAAAAElFTkSuQmCC"},"1ec0":function(t,e,a){},"1ef6":function(t,e,a){},2:function(t,e){},"24ab":function(t,e,a){t.exports={theme:"#1890ff"}},"24e2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"errPage-container"},[e("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:t.back}},[t._v(" 返回 ")]),e("el-row",[e("el-col",{attrs:{span:12}},[e("h1",{staticClass:"text-jumbo text-ginormous"},[t._v(" Oops! ")]),t._v(" gif来源"),e("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[t._v("airbnb")]),t._v(" 页面 "),e("h2",[t._v("你没有权限去该页面")]),e("h6",[t._v("如有不满请联系你领导")]),e("ul",{staticClass:"list-unstyled"},[e("li",[t._v("或者你可以去:")]),e("li",{staticClass:"link-type"},[e("router-link",{attrs:{to:"/dashboard"}},[t._v(" 回首页 ")])],1),e("li",{staticClass:"link-type"},[e("a",{attrs:{href:"https://www.taobao.com/"}},[t._v("随便看看")])]),e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.dialogVisible=!0}}},[t._v("点我看图")])])])]),e("el-col",{attrs:{span:12}},[e("img",{attrs:{src:t.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),e("el-dialog",{attrs:{visible:t.dialogVisible,title:"随便看"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("img",{staticClass:"pan-img",attrs:{src:t.ewizardClap}})])],1)},s=[],o=a("cc6c"),l=a.n(o),n={name:"Page401",data:function(){return{errGif:l.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},r=n,c=(a("acdd"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"35ca77fc",null);e["default"]=d.exports},2580:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-language",use:"icon-language-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-language"><path d="M84.742 36.8c2.398 7.2 5.595 12.8 11.19 18.4 4.795-4.8 7.992-11.2 10.39-18.4h-21.58zm-52.748 40h20.78l-10.39-28-10.39 28z" /><path d="M111.916 0H16.009C7.218 0 .025 7.2.025 16v96c0 8.8 7.193 16 15.984 16h95.907c8.791 0 15.984-7.2 15.984-16V16c0-8.8-6.394-16-15.984-16zM72.754 103.2c-1.598 1.6-3.197 1.6-4.795 1.6-.8 0-2.398 0-3.197-.8-.8-.8-1.599 0-1.599-.8s-.799-1.6-1.598-3.2c-.8-1.6-.8-2.4-1.599-4l-3.196-8.8H28.797L25.6 96c-1.598 3.2-2.398 5.6-3.197 7.2-.8 1.6-2.398 1.6-4.795 1.6-1.599 0-3.197-.8-4.796-1.6-1.598-1.6-2.397-2.4-2.397-4 0-.8 0-1.6.799-3.2.8-1.6.8-2.4 1.598-4l17.583-44.8c.8-1.6.8-3.2 1.599-4.8.799-1.6 1.598-3.2 2.397-4 .8-.8 1.599-2.4 3.197-3.2 1.599-.8 3.197-.8 4.796-.8 1.598 0 3.196 0 4.795.8 1.598.8 2.398 1.6 3.197 3.2.799.8 1.598 2.4 2.397 4 .8 1.6 1.599 3.2 2.398 5.6l17.583 44c1.598 3.2 2.398 5.6 2.398 7.2-.8.8-1.599 2.4-2.398 4zM116.711 72c-8.791-3.2-15.185-7.2-20.78-12-5.594 5.6-12.787 9.6-21.579 12l-2.397-4c8.791-2.4 15.984-5.6 21.579-11.2C87.939 51.2 83.144 44 81.545 36h-7.992v-3.2h21.58c-1.6-2.4-3.198-5.6-4.796-8l2.397-.8c1.599 2.4 3.997 5.6 5.595 8.8h19.98v4h-7.992c-2.397 8-6.393 15.2-11.189 20 5.595 4.8 11.988 8.8 20.78 11.2l-3.197 4z" /></symbol>'});l.a.add(n);e["default"]=n},2640:function(t,e,a){t.exports=a.p+"static/img/群創離職logo.8f671857.jpg"},"26fc":function(t,e,a){t.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},"28ca":function(t,e,a){"use strict";a("53d9")},"28e8":function(t,e,a){},"2a3d":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-password",use:"icon-password-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-password"><path d="M108.8 44.322H89.6v-5.36c0-9.04-3.308-24.163-25.6-24.163-23.145 0-25.6 16.881-25.6 24.162v5.361H19.2v-5.36C19.2 15.281 36.798 0 64 0c27.202 0 44.8 15.281 44.8 38.961v5.361zm-32 39.356c0-5.44-5.763-9.832-12.8-9.832-7.037 0-12.8 4.392-12.8 9.832 0 3.682 2.567 6.808 6.407 8.477v11.205c0 2.718 2.875 4.962 6.4 4.962 3.524 0 6.4-2.244 6.4-4.962V92.155c3.833-1.669 6.393-4.795 6.393-8.477zM128 64v49.201c0 8.158-8.645 14.799-19.2 14.799H19.2C8.651 128 0 121.359 0 113.201V64c0-8.153 8.645-14.799 19.2-14.799h89.6c10.555 0 19.2 6.646 19.2 14.799z" /></symbol>'});l.a.add(n);e["default"]=n},"2a79":function(t,e,a){t.exports=a.p+"static/img/睿生簽名檔.90a6067c.jpg"},"2ab9":function(t,e,a){},"2af2":function(t,e,a){"use strict";a("3248")},"2f11":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-peoples",use:"icon-peoples-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-peoples"><path d="M95.648 118.762c0 5.035-3.563 9.121-7.979 9.121H7.98c-4.416 0-7.979-4.086-7.979-9.121C0 100.519 15.408 83.47 31.152 76.75c-9.099-6.43-15.216-17.863-15.216-30.987v-9.128c0-20.16 14.293-36.518 31.893-36.518s31.894 16.358 31.894 36.518v9.122c0 13.137-6.123 24.556-15.216 30.993 15.738 6.726 31.141 23.769 31.141 42.012z" /><path d="M106.032 118.252h15.867c3.376 0 6.101-3.125 6.101-6.972 0-13.957-11.787-26.984-23.819-32.123 6.955-4.919 11.638-13.66 11.638-23.704v-6.985c0-15.416-10.928-27.926-24.39-27.926-1.674 0-3.306.193-4.89.561 1.936 4.713 3.018 9.974 3.018 15.526v9.121c0 13.137-3.056 23.111-11.066 30.993 14.842 4.41 27.312 23.42 27.541 41.509z" /></symbol>'});l.a.add(n);e["default"]=n},3:function(t,e){},3046:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-money",use:"icon-money-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-money"><path d="M54.122 127.892v-28.68H7.513V87.274h46.609v-12.4H7.513v-12.86h38.003L.099 0h22.6l32.556 45.07c3.617 5.144 6.44 9.611 8.487 13.385 1.788-3.05 4.89-7.779 9.301-14.186L103.93 0h24.01L82.385 62.013h38.34v12.862h-46.41v12.4h46.41v11.937h-46.41v28.68H54.123z" /></symbol>'});l.a.add(n);e["default"]=n},"30c3":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-example",use:"icon-example-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-example"><path d="M96.258 57.462h31.421C124.794 27.323 100.426 2.956 70.287.07v31.422a32.856 32.856 0 0 1 25.971 25.97zm-38.796-25.97V.07C27.323 2.956 2.956 27.323.07 57.462h31.422a32.856 32.856 0 0 1 25.97-25.97zm12.825 64.766v31.421c30.46-2.885 54.507-27.253 57.713-57.712H96.579c-2.886 13.466-13.146 23.726-26.292 26.291zM31.492 70.287H.07c2.886 30.46 27.253 54.507 57.713 57.713V96.579c-13.466-2.886-23.726-13.146-26.291-26.292z" /></symbol>'});l.a.add(n);e["default"]=n},"31c2":function(t,e,a){"use strict";a.r(e),a.d(e,"filterAsyncRoutes",(function(){return l}));var i=a("5530"),s=(a("d3b7"),a("caad"),a("2532"),a("159b"),a("99af"),a("a18c"));function o(t,e){return!e.meta||!e.meta.roles||t.some((function(t){return e.meta.roles.includes(t)}))}function l(t,e){var a=[];return t.forEach((function(t){var s=Object(i["a"])({},t);o(e,s)&&(s.children&&(s.children=l(s.children,e)),a.push(s))})),a}var n={routes:[],addRoutes:[]},r={SET_ROUTES:function(t,e){t.addRoutes=e,t.routes=s["b"].concat(e)}},c={generateRoutes:function(t,e){var a=t.commit;return new Promise((function(t){var i=l(s["a"],e);a("SET_ROUTES",i),t(i)}))}};e["default"]={namespaced:!0,state:n,mutations:r,actions:c}},3248:function(t,e,a){},3252:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("switch-roles",{on:{change:t.handleRolesChange}})],1)},s=[],o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{"margin-bottom":"15px"}},[t._v(" Your roles: "+t._s(t.roles)+" ")]),t._v(" Switch roles: "),e("el-radio-group",{model:{value:t.switchRoles,callback:function(e){t.switchRoles=e},expression:"switchRoles"}},[e("el-radio-button",{attrs:{label:"editor"}}),e("el-radio-button",{attrs:{label:"admin"}})],1)],1)},l=[],n={computed:{roles:function(){return this.$store.getters.roles},switchRoles:{}}},r=n,c=a("2877"),d=Object(c["a"])(r,o,l,!1,null,null,null),u=d.exports,p={name:"PagePermission",components:{SwitchRoles:u},methods:{handleRolesChange:function(){this.$router.push({path:"/permission/index?"+ +new Date})}}},m=p,b=Object(c["a"])(m,i,s,!1,null,null,null);e["default"]=b.exports},3268:function(t,e,a){"use strict";a("fc1d")},3289:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-list",use:"icon-list-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-list"><path d="M1.585 12.087c0 6.616 3.974 11.98 8.877 11.98 4.902 0 8.877-5.364 8.877-11.98 0-6.616-3.975-11.98-8.877-11.98-4.903 0-8.877 5.364-8.877 11.98zM125.86.107H35.613c-1.268 0-2.114 1.426-2.114 2.852v18.255c0 1.712 1.057 2.853 2.114 2.853h90.247c1.268 0 2.114-1.426 2.114-2.853V2.96c0-1.711-1.057-2.852-2.114-2.852zM.106 62.86c0 6.615 3.974 11.979 8.876 11.979 4.903 0 8.877-5.364 8.877-11.98 0-6.616-3.974-11.98-8.877-11.98-4.902 0-8.876 5.364-8.876 11.98zM124.17 50.88H33.921c-1.268 0-2.114 1.425-2.114 2.851v18.256c0 1.711 1.057 2.852 2.114 2.852h90.247c1.268 0 2.114-1.426 2.114-2.852V53.73c0-1.426-.846-2.852-2.114-2.852zM.106 115.913c0 6.616 3.974 11.98 8.876 11.98 4.903 0 8.877-5.364 8.877-11.98 0-6.616-3.974-11.98-8.877-11.98-4.902 0-8.876 5.364-8.876 11.98zm124.064-11.98H33.921c-1.268 0-2.114 1.426-2.114 2.853v18.255c0 1.711 1.057 2.852 2.114 2.852h90.247c1.268 0 2.114-1.426 2.114-2.852v-18.255c0-1.427-.846-2.853-2.114-2.853z" /></symbol>'});l.a.add(n);e["default"]=n},3511:function(t,e,a){"use strict";a("e121")},3749:function(t,e,a){"use strict";a("f01e")},3796:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:t.handleClick}}),e("el-button",{attrs:{loading:t.loading,icon:"el-icon-upload2",type:"success",size:"small"},on:{click:t.handleUpload}},[e("span",{staticClass:"addBtn"},[t._v("上傳")])])],1)},s=[],o=(a("b0c0"),a("d3b7"),a("ac1f"),a("00b4"),a("1146")),l=a.n(o),n={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null},fileName:""}},methods:{generateData:function(t){var e=t.header,a=t.results;this.excelData.header=e,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(t){if(t.stopPropagation(),t.preventDefault(),!this.loading){var e=t.dataTransfer.files;if(1===e.length){var a=e[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),t.stopPropagation(),t.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(t){var e=t.target.files,a=e[0];this.fileName=a.name,this.$emit("fileName",this.fileName),a&&this.upload(a)},upload:function(t){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var e=this.beforeUpload(t);e&&this.readerData(t)}else this.readerData(t)},readerData:function(t){var e=this;return this.loading=!0,new Promise((function(a,i){var s=new FileReader;s.onload=function(t){var i=t.target.result,s=l.a.read(i,{type:"array",cellDates:!0,dateNF:"yyyy/mm/dd"}),o=s.SheetNames[0],n=s.Sheets[o],r=e.getHeaderRow(n),c=l.a.utils.sheet_to_json(n,{raw:!1});e.generateData({header:r,results:c}),e.loading=!1,a()},s.readAsArrayBuffer(t)}))},getHeaderRow:function(t){var e,a=[],i=l.a.utils.decode_range(t["!ref"]),s=i.s.r;for(e=i.s.c;e<=i.e.c;++e){var o=t[l.a.utils.encode_cell({c:e,r:s})],n="UNKNOWN "+e;o&&o.t&&(n=l.a.utils.format_cell(o)),a.push(n)}return a},isExcel:function(t){return/\.(xlsx|xls|csv)$/.test(t.name)}}},r=n,c=(a("9eb9"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"f524965e",null);e["a"]=d.exports},"3cc9":function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",{staticClass:"switch"},[e("div",{staticClass:"display"}),e("div",[e("p",{staticClass:"page-title"},[t._v("成本中心")])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-switch",{attrs:{"active-text":"編輯","inactive-text":"檢視"},on:{change:t.btnControlEditView},model:{value:t.switchEdit,callback:function(e){t.switchEdit=e},expression:"switchEdit"}})],1)]),e("el-form",[e("div",{staticClass:"search-bg"},[e("div",{staticClass:"bar-row1"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"KOKRS",ref:"objInput",attrs:{disabled:t.switchEdit,maxlength:"4","show-word-limit":"",placeholder:"成本管控範圍"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formOrg.KOKRS,callback:function(e){t.$set(t.formOrg,"KOKRS",e)},expression:"formOrg.KOKRS"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"KOSTL",ref:"objInput",attrs:{disabled:t.switchEdit,maxlength:"10","show-word-limit":"",placeholder:"成本中心"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formOrg.KOSTL,callback:function(e){t.$set(t.formOrg,"KOSTL",e)},expression:"formOrg.KOSTL"}})],1)],1)]),e("div",{staticClass:"bar-row2"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"開始日期","picker-options":t.pickerOptions,format:"yyyy-MM-dd"},model:{value:t.typeinfoFromDate,callback:function(e){t.typeinfoFromDate=e},expression:"typeinfoFromDate"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.typeinfoToDate,callback:function(e){t.typeinfoToDate=e},expression:"typeinfoToDate"}})],1)],1),e("div",{staticClass:"searchBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-view"},on:{click:t.view}})],1)],1)])])])]),e("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("成本管控範圍")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.kokrs))])])])]),e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-label"},[t._v("成本中心")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.kostl))])])])])],1)],1),e(t.listView,{tag:"component",attrs:{"title-data":t.titleData,"body-data":t.bodyData,"switch-edit":t.switchEdit},on:{getList:t.getListInfo,clear:t.clearResult}}),e(t.detailView,{tag:"component",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},s=[],o=a("c7eb"),l=a("1da1"),n=(a("b0c0"),a("e9c4"),a("5c96")),r=a("daa7"),c=a("0c47"),d=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("說明")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"verak",label:"負責人"}}),e("el-table-column",{attrs:{prop:"khinr",label:"階層範圍"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("CC-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog,clear:t.clearResult}})],1)},u=[],p=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("基本資料")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"成本管控範圍",prop:"KOKRS"}},[e("el-input",{attrs:{disabled:t.DisableFlag.KOKRS,maxlength:"4","show-word-limit":""},model:{value:t.dataForm.KOKRS,callback:function(e){t.$set(t.dataForm,"KOKRS",e)},expression:"dataForm.KOKRS"}})],1),e("el-form-item",{attrs:{label:"成本中心",prop:"KOSTL"}},[e("el-input",{attrs:{disabled:t.DisableFlag.KOSTL,maxlength:"10","show-word-limit":""},model:{value:t.dataForm.KOSTL,callback:function(e){t.$set(t.dataForm,"KOSTL",e)},expression:"dataForm.KOSTL"}})],1),e("el-form-item",{attrs:{label:"一般名稱",prop:"KTEXT"}},[e("el-input",{attrs:{disabled:t.DisableFlag.KTEXT},model:{value:t.dataForm.KTEXT,callback:function(e){t.$set(t.dataForm,"KTEXT",e)},expression:"dataForm.KTEXT"}})],1),e("el-form-item",{attrs:{label:"說明",prop:"LTEXT"}},[e("el-input",{attrs:{disabled:t.DisableFlag.LTEXT},model:{value:t.dataForm.LTEXT,callback:function(e){t.$set(t.dataForm,"LTEXT",e)},expression:"dataForm.LTEXT"}})],1),e("el-form-item",{attrs:{label:"負責人",prop:"VERAK"}},[e("el-input",{attrs:{disabled:t.DisableFlag.VERAK},model:{value:t.dataForm.VERAK,callback:function(e){t.$set(t.dataForm,"VERAK",e)},expression:"dataForm.VERAK"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"業務範圍",prop:"GSBER"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"請選擇","filter-method":t.TGSBOptionFilter,disabled:t.DisableFlag.GSBER},on:{change:t.forceUpdate},model:{value:t.dataForm.GSBER,callback:function(e){t.$set(t.dataForm,"GSBER",e)},expression:"dataForm.GSBER"}},t._l(t.filteredTGSBOptions,(function(t){return e("el-option",{key:t.gsber,attrs:{label:t.gsber+" "+t.gtext,value:t.gsber}})})),1)],1),e("el-form-item",{attrs:{label:"成本中心種類",prop:"KOSAR"}},[e("el-input",{attrs:{disabled:t.DisableFlag.KOSAR,maxlength:"1","show-word-limit":""},model:{value:t.dataForm.KOSAR,callback:function(e){t.$set(t.dataForm,"KOSAR",e)},expression:"dataForm.KOSAR"}})],1),e("el-form-item",{attrs:{label:"階層範圍",prop:"KHINR"}},[e("el-input",{attrs:{disabled:t.DisableFlag.KHINR},model:{value:t.dataForm.KHINR,callback:function(e){t.$set(t.dataForm,"KHINR",e)},expression:"dataForm.KHINR"}})],1),e("el-form-item",{attrs:{label:"幣別",prop:"WAERS"}},[e("el-input",{attrs:{disabled:t.DisableFlag.WAERS},model:{value:t.dataForm.WAERS,callback:function(e){t.$set(t.dataForm,"WAERS",e)},expression:"dataForm.WAERS"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},m=[],b=a("2909"),h=(a("4de4"),a("d3b7"),a("4e82"),a("61f7")),f={name:"CCDetail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",BEGDA:"",ENDDA:"",KOKRS:"",KOSTL:"",BUKRS:"",GSBER:"",KOSAR:"",VERAK:"",WAERS:"",KTEXT:"",LTEXT:"",KHINR:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],KOKRS:[{required:!0,message:"此欄為必填欄位，長度為4，且只能輸入英文和數字",trigger:"blur",len:4,pattern:/^[a-zA-Z0-9]{4}$/}],KOSTL:[{required:!0,message:"此欄為必填欄位，長度為10，且只能輸入英文和數字",trigger:"blur",len:10,pattern:/^[a-zA-Z0-9]{10}$/}],BUKRS:[{required:!0,message:"此欄為必填欄位，長度為4，且只能輸入英文和數字",trigger:"blur",len:4,pattern:/^[a-zA-Z0-9]{4}$/}],GSBER:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],KOSAR:[{required:!0,message:"此欄為必填欄位，長度為1，且只能輸入英文和數字",trigger:"blur",len:1,pattern:/^\w{1}$/}],VERAK:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",max:50,pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],WAERS:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],KTEXT:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",max:40,pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],LTEXT:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",max:40,pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],KHINR:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",len:4,pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},begda:"1800-1-1",endda:"9999-12-31",category:"K",TKA01Data:[],TGSBOptions:[],filteredTGSBOptions:[]}},computed:{DisableFlag:function(){var t=["add","copy","edit"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,KOKRS:!0,KOSTL:!0,BUKRS:!0,GSBER:!0,KOSAR:!0,VERAK:!0,WAERS:!0,KTEXT:!0,LTEXT:!0,KHINR:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.GSBER=!1,e.KOSAR=!1,e.VERAK=!1,e.KTEXT=!1,e.LTEXT=!1,a<=1&&(e.BEGDA=!1,e.ENDDA=!1,e.KOKRS=!1,e.KOSTL=!1,e.BUKRS=!1)),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?this.dataForm=Object(c["d"])(this.parentObj.body,2):(this.dataForm.ACTIVE="1",this.dataForm.BEGDA=Object(c["c"])(new Date),this.dataForm.ENDDA=this.endda,this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,this.dataForm.KOSAR="Z",console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0},"dataForm.KOKRS":function(t,e){var a=this;if(""!==this.dataForm.KOKRS&&4===this.dataForm.KOKRS.length){var i=this.TKA01Data.filter((function(t){return t.kokrs===a.dataForm.KOKRS}));console.log({result:i}),i.length>0?(this.dataForm.WAERS=i[0].waers,this.dataForm.KHINR=i[0].kokrs):(this.dataForm.WAERS="",this.dataForm.KHINR="",Object(n["Message"])({message:"此成本控制範圍不存在，請重新輸入",type:"error",duration:3e3}))}else 4!==this.dataForm.KOKRS.length&&""!==this.dataForm.WAERS&&(this.dataForm.WAERS="",this.dataForm.KHINR="")}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("view"!==t.dialogStatus){e.next=5;break}return t.closeDialog(),e.abrupt("return");case 5:if(a={},i="",s=Object(c["d"])(t.dataForm,1),s.uname=t.$store.getters.name,s.aedtm=Object(c["c"])(new Date),s.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),s.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),s.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,e.prev=13,"delete"!==t.dialogStatus){e.next=24;break}return e.next=17,Object(r["f"])(s.infty,s.id,s,t.category);case 17:a=e.sent,i="刪除",t.$emit("clear"),t.$refs["dataForm"].clearValidate(),t.resetForm(),e.next=25;break;case 24:t.$refs["dataForm"].validate(function(){var e=Object(l["a"])(Object(o["a"])().mark((function e(l){var c;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!l){e.next=19;break}if("edit"!==t.dialogStatus){e.next=8;break}return e.next=4,Object(r["o"])(s.infty,s,t.category);case 4:a=e.sent,i="更新",e.next=18;break;case 8:if("add"!==t.dialogStatus&&"copy"!==t.dialogStatus){e.next=18;break}if(c=Object(h["a"])(t.dataForm.BEGDA,t.dataForm.ENDDA),s.id="",null==c){e.next=14;break}return Object(n["Message"])(c),e.abrupt("return");case 14:return e.next=16,Object(r["c"])(s.infty,s,t.category);case 16:a=e.sent,i="新增";case 18:void 0!==a.success&&!0===a.success?(Object(n["Message"])({message:i+"成功",type:"success",duration:3e3}),t.closeDialog()):(console.log(a),Object(n["Message"])({message:a.message,type:"error",duration:3e3}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](13),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[13,27]])})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(c["g"])(this.dataForm,[],["number"])},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("fetch"),e.next=3,Object(r["l"])("TKA01");case 3:return a=e.sent,t.TKA01Data=a.data,e.next=7,Object(r["l"])("TGSB");case 7:a=e.sent,t.TGSBOptions=a.data.sort((function(t,e){return t.gsber-e.gsber})),t.filteredTGSBOptions=Object(b["a"])(t.TGSBOptions);case 10:case"end":return e.stop()}}),e)})))()},TGSBOptionFilter:function(t){if(t){var e=t.toUpperCase();this.filteredTGSBOptions=Object(c["h"])(this.TGSBOptions,this.dataForm.BEGDA,this.dataForm.ENDDA,"gsber").filter((function(t){return t.subty.indexOf(e)>-1||t.sutxt.indexOf(e)>-1}))}else this.filteredTGSBOptions=this.TGSBOptions},forceUpdate:function(){this.$forceUpdate()}}},g=f,D=a("2877"),y=Object(D["a"])(g,p,m,!1,null,"01b8636e",null),v=y.exports,O={name:"CCList",components:{CCDetail:v},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")},clearResult:function(){this.dialogVisible=!1,this.$emit("clear")}}},F=O,S=Object(D["a"])(F,d,u,!1,null,null,null),E=S.exports,A={name:"CC",components:{CCList:E,CCDetail:v},data:function(){return{formOrg:{KOSTL:"",KOKRS:""},begda:"",endda:"",switchEdit:!1,dialogVisible:!1,dialogStatus:"",listView:"",detailView:"",titleData:{},bodyData:[],parentObj:{},typeinfoFromDate:new Date(1799,12,1),typeinfoToDate:new Date(9999,11,31),pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},category:"K"}},created:function(){},mounted:function(){this.$refs.objInput.focus()},beforeDestroy:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==t.switchEdit){e.next=12;break}return a={},a.kokrs=t.formOrg.KOKRS,a.kostl=t.formOrg.KOSTL,a.mdfyflg="0",a.mdfyusr=t.$store.getters.name,a.mdfydtm=Object(c["b"])(new Date),a.pageguid=t.$store.getters.uuid,console.log("force editLock unLock: "+JSON.stringify(a)),e.next=11,Object(r["g"])(a,t.category).then((function(t){var e=t.success;!0===e||Object(n["Message"])({message:"檢視切換失敗:編輯解鎖失效",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 11:t.switchEdit=!1;case 12:case"end":return e.stop()}}),e)})))()},methods:{btnControlEditView:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formOrg.KOKRS&&t.formOrg.KOSTL){e.next=4;break}return t.switchEdit=!1,Object(n["Message"])({message:"請輸入成本管控範圍及選擇成本中心 !",type:"error",duration:3e3}),e.abrupt("return");case 4:a={},a.pageguid=t.$store.getters.uuid,!0===t.switchEdit?a.mdfyflg="1":a.mdfyflg="0",a.kokrs=t.formOrg.KOKRS,a.kostl=t.formOrg.KOSTL,a.mdfyusr=t.$store.getters.name,a.mdfydtm=Object(c["b"])(new Date),console.log("editLock: "+JSON.stringify(a)),Object(r["g"])(a,t.category).then((function(e){if(console.log("editLock pageguid: "+a.pageguid),200!==e.status||!0!==e.success)return Object(n["Message"])({message:"檢視/編輯切換失敗:編輯解鎖失效(".concat(e.message,")"),type:"error",duration:3e3}),void(t.switchEdit=!1);Object(n["Message"])({message:"檢視/編輯切換成功:",type:"success",duration:3e3})})).catch((function(e){Object(n["Message"])({message:"檢視/編輯切換失敗:編輯解鎖失效(".concat(e,")"),type:"error",duration:3e3}),t.switchEdit=!1,console.log(e)}));case 13:case"end":return e.stop()}}),e)})))()},view:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formOrg.KOKRS&&t.formOrg.KOSTL){e.next=3;break}return Object(n["Message"])({message:"請輸入成本控制範圍及成本中心 !",type:"error",duration:3e3}),e.abrupt("return");case 3:return e.next=5,t.getOrgInfo();case 5:t.parentObj={title:t.titleData,body:t.bodyData},t.dialogStatus="view",t.dialogVisible=!0;case 8:case"end":return e.stop()}}),e)})))()},search:function(){this.formOrg.KOKRS&&this.formOrg.KOSTL?(this.resetForm(),this.getOrgInfo()):Object(n["Message"])({message:"請確實填寫欄位 !",type:"error",duration:3e3})},closeDialog:function(){this.dialogVisible=!1},clearResult:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.bodyData=[],t.titleData={},t.closeDialog();case 3:case"end":return e.stop()}}),e)})))()},getListInfo:function(){var t=this;Object(r["i"])("",this.formOrg.KOSTL,this.begda,this.endda,"K").then((function(e){if(200===e.status){var a=e.data;t.titleData=a[0],t.bodyData=a}else Object(n["Message"])({message:"無此成本中心與相關資料",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getOrgInfo:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.typeinfoFromDate&&null!==e.typeinfoToDate){t.next=3;break}return Object(n["Message"])({message:"請輸入開始日期及結束日期 !",type:"error",duration:3e3}),t.abrupt("return");case 3:if("1799-12-01"===e.typeinfoFromDate&&"9999-11-31"===e.typeinfoToDate){t.next=13;break}if(!(e.typeinfoToDate<e.typeinfoFromDate)){t.next=9;break}return Object(n["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}),t.abrupt("return");case 9:e.begda=Object(c["c"])(e.typeinfoFromDate),e.endda=Object(c["c"])(e.typeinfoToDate);case 11:t.next=15;break;case 13:e.begda="1799-12-01",e.endda="9999-11-31";case 15:return t.next=17,e.getListInfo();case 17:e.listView="CC-list",e.detailView="CC-detail";case 19:case"end":return t.stop()}}),t)})))()},forceUpdate:function(){this.$forceUpdate()},resetForm:function(){this.titleData=Object(c["g"])(this.titleData)}}},w=A,T=Object(D["a"])(w,i,s,!1,null,"28fb8c8e",null);e["default"]=T.exports},"3f84":function(t,e,a){t.exports=a.p+"static/img/CUXSG離職logo.c923abab.jpg"},4360:function(t,e,a){"use strict";a("13d5"),a("d3b7"),a("ddb0"),a("ac1f"),a("5319");var i=a("2b0e"),s=a("2f62"),o=(a("b0c0"),{sidebar:function(t){return t.app.sidebar},size:function(t){return t.app.size},device:function(t){return t.app.device},visitedViews:function(t){return t.tagsView.visitedViews},cachedViews:function(t){return t.tagsView.cachedViews},token:function(t){return t.user.token},avatar:function(t){return t.user.avatar},name:function(t){return t.user.name},introduction:function(t){return t.user.introduction},roles:function(t){return t.user.roles},permission_routes:function(t){return t.permission.routes},errorLogs:function(t){return t.errorLog.logs},uuid:function(t){return t.user.uuid},function_prv:function(t){return t.user.function_prv},token_apim:function(t){return t.user.token_apim},token_unlock:function(t){return t.user.token_unlock},certificate:function(t){return t.certificate.dataForm}}),l=o;i["default"].use(s["a"]);var n=a("c653"),r=n.keys().reduce((function(t,e){var a=e.replace(/^\.\/(.*)\.\w+$/,"$1"),i=n(e);return t[a]=i.default,t}),{}),c=new s["a"].Store({modules:r,getters:l});e["a"]=c},"461b":function(t,e,a){t.exports=a.p+"static/img/dashboard.5705e983.png"},"47f1":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-table",use:"icon-table-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-table"><path d="M.006.064h127.988v31.104H.006V.064zm0 38.016h38.396v41.472H.006V38.08zm0 48.384h38.396v41.472H.006V86.464zM44.802 38.08h38.396v41.472H44.802V38.08zm0 48.384h38.396v41.472H44.802V86.464zM89.598 38.08h38.396v41.472H89.598zm0 48.384h38.396v41.472H89.598z" /><path d="M.006.064h127.988v31.104H.006V.064zm0 38.016h38.396v41.472H.006V38.08zm0 48.384h38.396v41.472H.006V86.464zM44.802 38.08h38.396v41.472H44.802V38.08zm0 48.384h38.396v41.472H44.802V86.464zM89.598 38.08h38.396v41.472H89.598zm0 48.384h38.396v41.472H89.598z" /></symbol>'});l.a.add(n);e["default"]=n},"47ff":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-message",use:"icon-message-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-message"><path d="M0 20.967v59.59c0 11.59 8.537 20.966 19.075 20.966h28.613l1 26.477L76.8 101.523h32.125c10.538 0 19.075-9.377 19.075-20.966v-59.59C128 9.377 119.463 0 108.925 0h-89.85C8.538 0 0 9.377 0 20.967zm82.325 33.1c0-5.524 4.013-9.935 9.037-9.935 5.026 0 9.038 4.41 9.038 9.934 0 5.524-4.025 9.934-9.038 9.934-5.024 0-9.037-4.41-9.037-9.934zm-27.613 0c0-5.524 4.013-9.935 9.038-9.935s9.037 4.41 9.037 9.934c0 5.524-4.025 9.934-9.037 9.934-5.025 0-9.038-4.41-9.038-9.934zm-27.1 0c0-5.524 4.013-9.935 9.038-9.935s9.038 4.41 9.038 9.934c0 5.524-4.026 9.934-9.05 9.934-5.013 0-9.025-4.41-9.025-9.934z" /></symbol>'});l.a.add(n);e["default"]=n},"4bd7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACXSURBVHgBlZKLDURAEIZnLgq4EnRw08J1QiWiAlEBKlAKHdABHYx/ZYnIYH3Jn33Ma2czTEBVY7pmZuZ5P8G50HsmSDZ/djdYRyg3sn+hzO//qNSTz1LRBbANx0ofCsdVk8gfBNHJjSOdewgltZ7UOwNUmiHGN8rB1p1syZumVyLjrkWmBusPEutJtYYxuBFiHxTTM+tMLUZ1sXmSDQR3AAAAAElFTkSuQmCC"},"4d49":function(t,e,a){"use strict";a.r(e);a("a434");var i={logs:[]},s={ADD_ERROR_LOG:function(t,e){t.logs.push(e)},CLEAR_ERROR_LOG:function(t){t.logs.splice(0)}},o={addErrorLog:function(t,e){var a=t.commit;a("ADD_ERROR_LOG",e)},clearErrorLog:function(t){var e=t.commit;e("CLEAR_ERROR_LOG")}};e["default"]={namespaced:!0,state:i,mutations:s,actions:o}},"4df5":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-eye",use:"icon-eye-usage",viewBox:"0 0 128 64",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 64" id="icon-eye"><path d="M127.072 7.994c1.37-2.208.914-5.152-.914-6.87-2.056-1.717-4.797-1.226-6.396.982-.229.245-25.586 32.382-55.74 32.382-29.24 0-55.74-32.382-55.968-32.627-1.6-1.963-4.57-2.208-6.397-.49C-.17 3.086-.399 6.275 1.2 8.238c.457.736 5.94 7.36 14.62 14.72L4.17 35.96c-1.828 1.963-1.6 5.152.228 6.87.457.98 1.6 1.471 2.742 1.471s2.284-.49 3.198-1.472l12.564-13.983c5.94 4.416 13.021 8.587 20.788 11.53l-4.797 17.418c-.685 2.699.686 5.397 3.198 6.133h1.37c2.057 0 3.884-1.472 4.341-3.68L52.6 42.83c3.655.736 7.538 1.227 11.422 1.227 3.883 0 7.767-.49 11.422-1.227l4.797 17.173c.457 2.208 2.513 3.68 4.34 3.68.457 0 .914 0 1.143-.246 2.513-.736 3.883-3.434 3.198-6.133l-4.797-17.172c7.767-2.944 14.848-7.114 20.788-11.53l12.336 13.738c.913.981 2.056 1.472 3.198 1.472s2.284-.49 3.198-1.472c1.828-1.963 1.828-4.906.228-6.87l-11.65-13.001c9.366-7.36 14.849-14.474 14.849-14.474z" /></symbol>'});l.a.add(n);e["default"]=n},"4ed3":function(t,e,a){},"4fa5":function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",{staticClass:"switch"},[e("div",{staticClass:"display"}),e("div",[e("p",{staticClass:"page-title"},[t._v("組織")])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-switch",{attrs:{"active-text":"編輯","inactive-text":"檢視"},on:{change:t.btnControlEditView},model:{value:t.switchEdit,callback:function(e){t.switchEdit=e},expression:"switchEdit"}})],1)]),e("el-form",[e("div",{staticClass:"search-bg"},[e("div",{staticClass:"bar-row1"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"OBJID",ref:"objInput",attrs:{disabled:t.switchEdit,maxlength:"8","show-word-limit":"",placeholder:"組織物件ID"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formOrg.OBJID,callback:function(e){t.$set(t.formOrg,"OBJID",e)},expression:"formOrg.OBJID"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"InfoType"},model:{value:t.infoSel,callback:function(e){t.infoSel=e},expression:"infoSel"}},t._l(t.filteredOptions,(function(a){return e("el-option",{key:a.infty,attrs:{label:a.infty+" "+a.itext,value:a.infty},nativeOn:{click:function(e){return t.getSubType.apply(null,arguments)}}})})),1)],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"subSpaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"SubType",disabled:null==t.infoSel||""===t.infoSel||!0===t.subtype},model:{value:t.subSel,callback:function(e){t.subSel=e},expression:"subSel"}},t._l(t.filteredSubOptions,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.itext,value:t.subty}})})),1)],1)],1)]),e("div",{staticClass:"bar-row2"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"開始日期","picker-options":t.pickerOptions,format:"yyyy-MM-dd"},model:{value:t.typeinfoFromDate,callback:function(e){t.typeinfoFromDate=e},expression:"typeinfoFromDate"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.typeinfoToDate,callback:function(e){t.typeinfoToDate=e},expression:"typeinfoToDate"}})],1)],1),e("div",{staticClass:"searchBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-view"},on:{click:t.view}})],1)],1)])])])]),e("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("組織物件ID")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.objid))])])])]),e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-label"},[t._v("組織代碼")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.short))]),t._v(t._s(t.titleData.stext))])])])],1)],1),e(t.listView,{key:t.loadKey,tag:"component",attrs:{"title-data":t.titleData,"body-data":t.bodyData,"switch-edit":t.switchEdit},on:{getList:t.getListInfo}}),e(t.detailView,{tag:"component",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},s=[],o=a("c7eb"),l=a("1da1"),n=a("2909"),r=(a("b0c0"),a("e9c4"),a("99af"),a("c740"),a("caad"),a("2532"),a("4de4"),a("d3b7"),a("5c96")),c=a("daa7"),d=a("0c47"),u=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("物件")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"short",label:"物件縮寫"}}),e("el-table-column",{attrs:{prop:"stext",label:"物件名稱"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om1000-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},p=[],m=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"100px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"begda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.begda},model:{value:t.dataForm.begda,callback:function(e){t.$set(t.dataForm,"begda",e)},expression:"dataForm.begda"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"endda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.endda},model:{value:t.dataForm.endda,callback:function(e){t.$set(t.dataForm,"endda",e)},expression:"dataForm.endda"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"aedtm"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.aedtm},model:{value:t.dataForm.aedtm,callback:function(e){t.$set(t.dataForm,"aedtm",e)},expression:"dataForm.aedtm"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"uname"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.uname},model:{value:t.dataForm.uname,callback:function(e){t.$set(t.dataForm,"uname",e)},expression:"dataForm.uname"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("物件")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"物件縮寫",prop:"short"}},[e("el-input",{attrs:{name:"short",disabled:t.DisableFlag.short},model:{value:t.dataForm.short,callback:function(e){t.$set(t.dataForm,"short",e)},expression:"dataForm.short"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"物件名稱",prop:"stext"}},[e("el-input",{attrs:{name:"stext",disabled:t.DisableFlag.stext},model:{value:t.dataForm.stext,callback:function(e){t.$set(t.dataForm,"stext",e)},expression:"dataForm.stext"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},b=[],h=a("5530"),f=a("61f7"),g={name:"Om1000Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{objid:null,short:""},body:{id:"",begda:"",endda:"",aedtm:"",uname:"",active:"",objid:null,infty:"",subty:"",short:"",stext:""}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{id:"",begda:new Date,endda:new Date(9999,11,31),aedtm:"",uname:"",active:"",objid:null,infty:"",subty:"",short:"",stext:""},rules:{begda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],endda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],short:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],stext:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]}}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={id:!0,begda:!0,endda:!0,aedtm:!0,uname:!0,active:!0,objid:!0,infty:!0,subty:!0,short:!0,stext:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.begda=!1,e.endda=!1,"edit"===this.dialogStatus&&(e.begda=!0,e.endda=!0),"copy"===this.dialogStatus&&(e.objid=!0),e.short=!1,e.stext=!1),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?this.dataForm=Object(h["a"])({},this.parentObj.body):(this.dataForm.objid=this.parentObj.title.objid,this.dataForm.infty="1000",this.dataForm.active="1",this.dataForm.aedtm=Object(d["c"])(new Date),this.dataForm.uname=this.$store.getters.name)}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.begda,this.dataForm.endda);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.id,a.uname=this.$store.getters.name,a.aedtm=Object(d["c"])(new Date),Object(c["f"])(this.dataForm.infty,this.dataForm.id,a).then((function(e){console.log("deleteOMList body: "+JSON.stringify(a)),console.log("OP1000 Delete Reply: "+JSON.stringify(e));var i=e.success;void 0!==i&&!0===i?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.$emit("close")):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),void this.closeDialog()}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.id,a.begda=Object(d["c"])(new Date(t.dataForm.begda)),a.endda=Object(d["c"])(new Date(t.dataForm.endda)),a.aedtm=Object(d["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.active,a.objid=t.dataForm.objid,a.infty=t.dataForm.infty,a.subty=t.dataForm.subty,a.short=t.dataForm.short,a.stext=t.dataForm.stext,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?Object(c["c"])(t.dataForm.infty,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):Object(c["o"])(t.dataForm.infty,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,[],["number"])},queryOption:function(t){return!1}}},D=g,y=a("2877"),v=Object(y["a"])(D,m,b,!1,null,"864c1316",null),O=v.exports,F={name:"Om1000List",components:{Om1000Detail:O},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},S=F,E=Object(y["a"])(S,u,p,!1,null,null,null),A=E.exports,w=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("增修關係")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"subty",label:"子類型"}}),e("el-table-column",{attrs:{prop:"t777u_sutxt",label:"相關內文"}}),e("el-table-column",{attrs:{prop:"sclas",label:"相關物件的類型"}}),e("el-table-column",{attrs:{prop:"sobid",label:"相關物件ID"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om1001-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},T=[],x=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("關係")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"關係類型/關係",prop:"SUBTY"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"請選擇","filter-method":t.T777uOptionFilter,disabled:t.DisableFlag.SUBTY},on:{change:t.forceUpdate},model:{value:t.dataForm.SUBTY,callback:function(e){t.$set(t.dataForm,"SUBTY",e)},expression:"dataForm.SUBTY"}},t._l(t.filteredT777uOptions,(function(a){return e("el-option",{key:a.subty,attrs:{label:a.subty+" "+a.sutxt,value:a.subty}},[t._v(" "+t._s(a.subty)+t._s(a.sutxt)+" ")])})),1)],1),e("el-form-item",{attrs:{label:"相關物件類型",prop:"SCLAS"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"請選擇","filter-method":t.T777oOptionFilter,disabled:t.DisableFlag.SCLAS},on:{change:t.forceUpdate},model:{value:t.dataForm.SCLAS,callback:function(e){t.$set(t.dataForm,"SCLAS",e)},expression:"dataForm.SCLAS"}},t._l(t.filteredT777oOptions,(function(a){return e("el-option",{key:a.otype,attrs:{label:a.otype+" "+a.otext,value:a.otype}},[t._v(" "+t._s(a.otype)+t._s(a.otext)+" ")])})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"相關物件ID"}},[e("div",{staticStyle:{display:"flex","margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"50%"},attrs:{prop:"SOBID"}},[e("el-input",{attrs:{maxlength:"8","show-word-limit":"",disabled:t.DisableFlag.SOBID},on:{change:t.forceUpdate},model:{value:t.dataForm.SOBID,callback:function(e){t.$set(t.dataForm,"SOBID",e)},expression:"dataForm.SOBID"}})],1),e("el-form-item",{staticStyle:{width:"50%"},attrs:{prop:"short"}},[e("el-input",{attrs:{disabled:""},model:{value:t.sobj.short,callback:function(e){t.$set(t.sobj,"short",e)},expression:"sobj.short"}})],1)],1)]),e("el-form-item",{attrs:{label:"相關物件名稱",prop:"stext"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:t.sobj.stext,callback:function(e){t.$set(t.sobj,"stext",e)},expression:"sobj.stext"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},j=[],_=(a("4e82"),{name:"Om1001Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",OBJID:"",INFTY:"",ACTIVE:"1",SOBID:"",SUBTY:"",SCLAS:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SCLAS:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SUBTY:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SOBID:[{required:!0,message:"請輸入有效的ID",trigger:"blur",pattern:/^[A-Za-z0-9]+$/,len:8}]},begda:"2000-1-1",endda:"9999-12-31",T777oOptions:[],filteredT777oOptions:[],T777uOptions:[],filteredT777uOptions:[],sobid:"",sobj:{},isLoading:!0,category:"O"}},computed:{DisableFlag:function(){var t=["add","copy","edit"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,SOBID:!0,SUBTY:!0,SCLAS:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.SOBID=!1,e.SUBTY=!1,e.SCLAS=!1,a<=1&&(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?this.dataForm=Object(d["d"])(this.parentObj.body,2):(this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY="1001",this.dataForm.ACTIVE="1",this.dataForm.BEGDA=Object(d["c"])(new Date),this.dataForm.ENDDA=this.endda,this.dataForm.AEDTM=Object(d["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0},"dataForm.SOBID":function(t,e){null!=t&&""!==t&&(""!==this.dataForm.SOBID&&8===this.dataForm.SOBID.length&&this.dataForm.SOBID!==this.sobid?this.getObjInfoByObjid(this.dataForm.SOBID):8!==this.dataForm.SOBID.length&&null!=this.sobj.short&&(this.sobj={}))},"dataForm.BEGDA":function(){this.T777uOptionFilter(),this.T777oOptionFilter()},"dataForm.ENDDA":function(){this.T777uOptionFilter(),this.T777oOptionFilter()}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("view"!==t.dialogStatus){e.next=5;break}return t.closeDialog(),e.abrupt("return");case 5:if(a={},i="",s=Object(d["d"])(t.dataForm,1),s.uname=t.$store.getters.name,s.aedtm=Object(d["c"])(new Date),s.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),s.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),s.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,e.prev=13,"delete"!==t.dialogStatus){e.next=22;break}return e.next=17,Object(c["f"])(s.infty,s.id,s,t.category);case 17:a=e.sent,i="刪除",t.closeDialog(),e.next=23;break;case 22:t.$refs["dataForm"].validate(function(){var e=Object(l["a"])(Object(o["a"])().mark((function e(l){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!l){e.next=22;break}if(t.dataForm.SOBID===t.sobid){e.next=4;break}return Object(r["Message"])({message:"相關物件ID不存在，請重新輸入",type:"error",duration:3e3}),e.abrupt("return");case 4:if("edit"!==t.dialogStatus){e.next=11;break}return e.next=7,Object(c["o"])(s.infty,s,t.category);case 7:a=e.sent,i="更新",e.next=21;break;case 11:if("add"!==t.dialogStatus&&"copy"!==t.dialogStatus){e.next=21;break}if(n=Object(f["a"])(t.dataForm.BEGDA,t.dataForm.ENDDA),s.id="",null==n){e.next=17;break}return Object(r["Message"])(n),e.abrupt("return");case 17:return e.next=19,Object(c["c"])(s.infty,s,t.category);case 19:a=e.sent,i="新增";case 21:void 0!==a.success&&!0===a.success?(Object(r["Message"])({message:i+"成功",type:"success",duration:3e3}),t.closeDialog()):(console.log(a),Object(r["Message"])({message:a.message,type:"error",duration:3e3}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](13),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[13,25]])})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,[],["number"]),this.sobj={},this.sobid=""},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getT777OInfo();case 2:return e.next=4,t.getT777UInfo();case 4:case"end":return e.stop()}}),e)})))()},getObjInfoByObjid:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object(c["m"])(t,e.begda,e.endda).then((function(t){if(200===t.status){var a=t.data;if(e.sobid=e.dataForm.SOBID,a.length>0){a.sort((function(t,e){return new Date(e.endda)-new Date(t.endda)}));var i=a.filter((function(t){return"1"===t.active&&(new Date(t.begda)<=new Date(e.endda)||new Date(t.endda)>=new Date(e.begda))}));i.length>0?e.sobj=i[0]:Object(r["Message"])({message:"Active物件資訊取得為空白",type:"error",duration:3e3})}else Object(r["Message"])({message:"物件資訊取得為空白",type:"error",duration:3e3})}else Object(r["Message"])({message:"相關物件ID不存在，請重新輸入",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 1:case"end":return a.stop()}}),a)})))()},getT777OInfo:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["l"])("T777O").then((function(t){return 200!==t.status?(Object(r["Message"])({message:"T777O 資訊取得失敗(".concat(t.message,")"),type:"error",duration:3e3}),[]):t.data})).catch((function(t){console.log(t)}));case 2:a=e.sent,a.length>0?(t.T777oOptions=a,t.filteredT777oOptions=a):Object(r["Message"])({message:"沒有找到符合搜尋條件的T777O資料",type:"error",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},getT777UInfo:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["l"])("T777U").then((function(e){return console.log(e),200!==e.status?(Object(r["Message"])({message:"T777U 資訊取得失敗(".concat(e.message,")"),type:"error",duration:3e3}),[]):e.data.filter((function(e){return e.otype===t.category}))})).catch((function(t){console.log(t)}));case 2:a=e.sent,a.length>0?(t.T777uOptions=a,t.filteredT777uOptions=a):Object(r["Message"])({message:"沒有找到符合搜尋條件的T777U資料",type:"error",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},T777oOptionFilter:function(t){if(t){var e=t.toUpperCase();this.filteredT777oOptions=Object(d["h"])(this.T777oOptions,this.dataForm.BEGDA,this.dataForm.ENDDA,"otype").filter((function(t){return t.otype.indexOf(e)>-1||t.otext.indexOf(e)>-1}))}else this.filteredT777oOptions=this.T777oOptions},T777uOptionFilter:function(t){if(t){var e=t.toUpperCase();this.filteredT777uOptions=Object(d["h"])(this.T777uOptions,this.dataForm.BEGDA,this.dataForm.ENDDA,"subty").filter((function(t){return t.subty.indexOf(e)>-1||t.sutxt.indexOf(e)>-1}))}else this.filteredT777uOptions=this.T777uOptions},forceUpdate:function(){this.$forceUpdate(),this.filteredT777oOptions=this.T777oOptions,this.filteredT777uOptions=this.T777uOptions}}}),C=_,k=Object(y["a"])(C,x,j,!1,null,"c72d82c6",null),N=k.exports,I={name:"Om1001List",components:{Om1001Detail:N},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},created:function(){},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},M=I,B=Object(y["a"])(M,w,T,!1,null,null,null),R=B.exports,L=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[t.titleData.inftyInfo?e("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.titleData.inftyInfo.headLabel))]):t._e()]),e("div",{staticClass:"card"},[e("el-table",{staticStyle:{width:"100%"},attrs:{"row-key":"id",data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[t.titleData.inftyInfo?e("el-table-column",{attrs:{prop:"subty",label:t.titleData.inftyInfo.labels[0]}}):t._e(),e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),t.titleData.inftyInfo?e("el-table-column",{attrs:{prop:"tline",label:t.titleData.inftyInfo.labels[1],"show-overflow-tooltip":!0}}):t._e(),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:t.switchEdit?"250px":"100px"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om1002-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog,getList:t.getList}})],1)},P=[],V=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:!0},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:!0},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v(t._s(t.dataForm.HEADLABEL))]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:t.dataForm.LABELS[0],prop:"SUBTY"}},[e("div",{staticStyle:{display:"flex","margin-top":"-20px"}},[e("el-form-item",{staticStyle:{width:"40%"},attrs:{prop:"SUBTY"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"請選擇","filter-method":t.T777uOptionFilter,disabled:t.DisableFlag.FORMREADONLY},on:{change:function(e){return t.resetT777u()}},model:{value:t.dataForm.SUBTY,callback:function(e){t.$set(t.dataForm,"SUBTY",e)},expression:"dataForm.SUBTY"}},t._l(t.filteredT777uOptions,(function(a){return e("el-option",{key:a.subty,attrs:{label:a.subty+" "+a.sutxt,value:a.subty}},[t._v(" "+t._s(a.subty)+" "+t._s(a.sutxt)+" ")])})),1)],1)],1)]),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:t.dataForm.HEADLABEL,prop:"TLINE"}},[e("el-input",{attrs:{type:"textarea",maxlength:"250",rows:5,placeholder:"请输入内容",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.TLINE,callback:function(e){t.$set(t.dataForm,"TLINE",e)},expression:"dataForm.TLINE"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},$=[],G=(a("d81d"),a("b64b"),{name:"Om1002Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{objid:"10000002",short:"11111111"},body:{id:"qwertyui1234567",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0105",subty:"1",tline:"",usrid:"091234567"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",OBJID:"",DIALOG_INIT:!0,BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",ACTIVE:1,INFTY:"",SUBTY:"",TLINE:"",LABELS:[],HEADLABEL:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SUBTY:[{required:!0,message:"此欄為必填欄位"}],TLINE:[{required:!0,message:"此欄為必填欄位"}]},SelectOptions:[],filteredT777uOptions:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={FORMREADONLY:!0,SUBTY:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.FORMREADONLY=!1,"edit"!==t&&(e.SUBTY=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.getOptions()}},"dataForm.ENDDA":{handler:function(t){this.getOptions()}},dialogVisible:{handler:function(t,e){var a=this;if(!0===t){var i=["view","edit","copy","delete"],s=i.indexOf(this.dialogStatus);this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY=this.parentObj.title.infty,this.dataForm.DIALOG_INIT=!0,this.dataForm.SELECTSTYLE="margin-right: 10px; width: 100%;",this.dataForm.HEADLABEL=this.parentObj.title.inftyInfo.headLabel;var o=this.parentObj.title.inftyInfo.labels;Object.keys(o).map((function(t){var e=o[t];a.dataForm.LABELS.push(e)})),s>-1?("copy"!==this.dlgStatus&&(this.dataForm.ID=this.parentObj.body.id),this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.TLINE=this.parentObj.body.tline,this.dataForm.SELECTDISPLAY=this.parentObj.body.zhr_valuerange_ddtext):(this.dataForm.BEGDA=Object(d["c"])(new Date),this.dataForm.AEDTM=Object(d["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,this.dataForm.ENDDA="9999-12-31")}},deep:!0}},methods:{getOptions:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0===t.dataForm.DIALOG_INIT&&(t.dataForm.DIALOG_INIT=!1),a=!1,(Object(d["a"])(t.dataForm.BEGDA)||Object(d["a"])(t.dataForm.ENDDA))&&(t.P9208Options=[],a=!0),!1!==t.dialogVisible&&!a&&"view"!==t.dialogStatus&&"delete"!==t.dialogStatus){e.next=5;break}return e.abrupt("return");case 5:return i=[],s="O",e.next=9,Object(c["n"])(s,t.dataForm.INFTY).then((function(e){if(200===e.status)i=Object(d["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty");else{var a="取得"+t.dataForm.SELECTELABEL+"資料失敗";Object(r["Message"])(Object(d["f"])(a,"error"))}})).catch((function(t){console.log(t)}));case 9:t.SelectOptions=i,t.filteredT777uOptions=t.SelectOptions;case 11:case"end":return e.stop()}}),e)})))()},T777uOptionFilter:function(t){if(t){var e=t.toUpperCase();this.filteredT777uOptions=this.SelectOptions.filter((function(t){return t.subty.indexOf(e)>-1||t.sutxt.indexOf(e)>-1})),0===this.filteredT777uOptions.length&&(this.filteredT777uOptions=this.SelectOptions)}else this.filteredT777uOptions=this.SelectOptions},resetT777u:function(){this.filteredT777uOptions=this.SelectOptions,this.forceUpdate},submitDialog:function(){var t=this;if("view"!==this.dialogStatus){if("delete"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null!=e)return void Object(r["Message"])(e)}var a={};a.id=this.dataForm.ID,a.uname=this.$store.getters.name,"edit"!==this.dialogStatus&&(a.aedtm=Object(d["c"])(new Date)),"delete"!==this.dialogStatus&&this.$refs["dataForm"].validate((function(e){e&&(a.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),a.active=t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.objid=t.dataForm.OBJID,a.subty=t.dataForm.SUBTY,a.tline=t.dataForm.TLINE)})),this.excuteSubmit(a),this.closeDialog()}else this.closeDialog()},excuteSubmit:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["a"])(e.dialogStatus,e.dataForm.INFTY,t.id,t).then((function(t){Object(r["Message"])(Object(d["e"])(e.dialogStatus,t)),e.$emit("getList")}));case 2:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,["ACTIVE"],["number"])},forceUpdate:function(){this.$forceUpdate()}}}),z=G,U=Object(y["a"])(z,V,$,!1,null,"75e206ce",null),Z=U.exports,Y={name:"Om1002List",components:{Om1002Detail:Z},props:{switchEdit:{type:Boolean,default:!1},pernr:{type:String,default:""},begda:{type:String,default:""},endda:{type:String,default:""},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:this.titleData,body:{}}}},methods:{handleAdd:function(){this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.parentObj.body={},this.dialogVisible=!1},getList:function(){this.$emit("getList")}}},H=Y,K=(a("a59b"),Object(y["a"])(H,L,P,!1,null,null,null)),J=K.exports,X=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[t.titleData.inftyInfo?e("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.titleData.inftyInfo["headLabel"]))]):t._e()]),e("div",{staticClass:"card"},[e("el-table",{staticStyle:{width:"100%"},attrs:{"row-key":"id",data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),"9207"===t.titleData.infty&&t.titleData.inftyInfo?e("el-table-column",{attrs:{prop:"short_d",label:t.titleData.inftyInfo.selectLabel}}):t._e(),"9207"!==t.titleData.infty&&t.titleData.inftyInfo&&"45678"===t.titleData.inftyInfo.view?e("el-table-column",{attrs:{prop:"zhr_valuerange_ddtext",label:t.titleData.inftyInfo.selectLabel}}):t._e(),"9208"===t.titleData.infty?e("el-table-column",{attrs:{prop:"odepno",label:"對應之編制組織代碼"}}):t._e(),t.titleData.inftyInfo&&"90"===t.titleData.inftyInfo.view?t._l(t.titleData.inftyInfo.inputFields,(function(t){return e("el-table-column",{key:t.key,attrs:{prop:t.key,label:t.label}})})):t._e(),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:t.switchEdit?"250px":"100px"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],2)],1)]),t.titleData.inftyInfo&&"45678"===t.titleData.inftyInfo.view?e("om92045678-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog,getList:t.getList}}):t._e(),t.titleData.inftyInfo&&"90"===t.titleData.inftyInfo.view?e("om92090-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog,getList:t.getList}}):t._e()],1)},q=[],W=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:!0},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:!0},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v(t._s(t.dataForm.HEADLABEL))]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:t.dataForm.SELECTLABEL,prop:"SELECTTYPE"}},[e("div",{staticStyle:{display:"flex","margin-top":"-20px"}},[e("el-form-item",{style:t.dataForm.SELECTSTYLE,attrs:{prop:"SELECTTYPE"}},[e("el-select",{attrs:{clearable:"",filterable:"",placeholder:"請選擇",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.SELECTTYPE,callback:function(e){t.$set(t.dataForm,"SELECTTYPE",e)},expression:"dataForm.SELECTTYPE"}},t._l(t.SelectOptions,(function(a){return e("el-option",{key:a.domvalue,attrs:{label:a.domvalue+" "+a.ddtext,value:a.domvalue},on:{change:t.forceUpdate}},[t._v(" "+t._s(a.domvalue)+" "+t._s(a.ddtext)+" ")])})),1)],1)],1)])],1),"9207"===t.dataForm.INFTY?e("div",[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"50%"},attrs:{label:t.dataForm.INPUTTEXTLABEL,prop:t.dataForm.INPUTTEXTPROP}},[e("el-input",{attrs:{type:"number",name:"INPUTTEXT",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.INPUTTEXT,callback:function(e){t.$set(t.dataForm,"INPUTTEXT",e)},expression:"dataForm.INPUTTEXT"}})],1)],1)],1):t._e(),"9208"===t.dataForm.INFTY?e("div",[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{"label-width":"150px",label:t.dataForm.INPUTTEXTLABEL,prop:t.dataForm.INPUTTEXTPROP}},[e("el-autocomplete",{staticStyle:{width:"60%"},attrs:{"fetch-suggestions":t.OdepNoFilter,placeholder:"请输入或選擇内容",disabled:t.DisableFlag.INPUTTEXT},model:{value:t.dataForm.INPUTTEXT,callback:function(e){t.$set(t.dataForm,"INPUTTEXT",e)},expression:"dataForm.INPUTTEXT"}})],1)],1)],1):t._e()],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},Q=[],tt=(a("2ca0"),a("159b"),{name:"Om92045678Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{objid:"10000002",short:"11111111"},body:{id:"qwertyui1234567",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0105",subty:"1",zappointtype:"1",zcosttype:"1",short_d:"1",zhrendedcnt:"1",odepno:"1",zdeptclass:"1",usrid:"091234567",usrid_long:"test01@innolux.com"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",OBJID:"",DIALOG_INIT:!0,BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",ACTIVE:1,INFTY:"",SUBTY:"",INFTYKEY:"",SELECTTYPE:"",SELECTDISPLAY:"",SELECTKEY:"",SELECTSTYLE:"margin-right: 10px; width: 30%;",INPUTTEXT:"",INPUTTEXTLABEL:"",INPUTTEXTPROP:"INPUTTEXT"},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SELECTTYPE:[{required:!0,message:"此欄為必填欄位"}],INPUTTEXT:[{required:!0,message:"此欄為必填欄位"}]},bodySelKeys:{key_9204:"zappointtype",key_9205:"zcosttype",key_9206:"short_d",key_9207:"short_d",key_9208:"zdeptclass"},bodyInpKeys:{key_9207:"zhrendedcnt",key_9208:"odepno"},formInpLabels:{key_9207:"期末編制總數",key_9208:"對應之編制組織代碼"},SelectOptions:[],P9208Options:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={FORMREADONLY:!0,INPUTTEXT:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.FORMREADONLY=!1,e.INPUTTEXT=!1),e}},watch:{"dataForm.SELECTTYPE":{handler:function(t){this.Change9208InputProp(t)}},"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getOptions(),this.get9208Options())}},"dataForm.ENDDA":{handler:function(t){this.getOptions(),this.get9208Options()}},dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY=this.parentObj.title.infty,this.dataForm.SELECTLABEL=this.parentObj.title.inftyInfo.selectLabel,this.dataForm.HEADLABEL=this.parentObj.title.inftyInfo.headLabel,this.dataForm.SELECTKEY=this.parentObj.title.inftyInfo.selectKey,this.dataForm.DIALOG_INIT=!0,this.dataForm.SELECTSTYLE="margin-right: 10px; width: 100%;",this.dataForm.INPUTTEXTPROP="INPUTTEXT",this.dataForm.INFTYKEY="key_"+this.dataForm.INFTY,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.SUBTY=this.parentObj.body.SUBTY,this.dataForm.SELECTTYPE=this.parentObj.body[this.bodySelKeys[this.dataForm.INFTYKEY]],"view"!==this.dialogStatus&&"delete"!==this.dialogStatus||(this.dataForm.SELECTTYPE=this.dataForm.SELECTTYPE+" "+this.parentObj.body.zhr_valuerange_ddtext),"key_9207"!==this.dataForm.INFTYKEY&&"key_9208"!==this.dataForm.INFTYKEY||(this.dataForm.INPUTTEXT=this.parentObj.body[this.bodyInpKeys[this.dataForm.INFTYKEY]],this.dataForm.INPUTTEXTLABEL=this.formInpLabels[this.dataForm.INFTYKEY],"key_9208"===this.dataForm.INFTYKEY&&(this.dataForm.INPUTTEXTPROP="","view"!==this.dialogStatus&&this.Change9208InputProp(this.dataForm.SELECTTYPE)))):(this.dataForm.BEGDA=Object(d["c"])(new Date),this.dataForm.AEDTM=Object(d["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,this.dataForm.ENDDA="9999-12-31"),"9208"===this.dataForm.INFTY&&this.get9208Options()}},deep:!0}},methods:{getOptions:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!1!==t.checkOptionCondition(t.SelectOptions)){e.next=2;break}return e.abrupt("return");case 2:return a=[],e.next=5,Object(c["k"])("ZHR_VALUERANGE","Domname",t.dataForm.SELECTKEY).then((function(e){if(200===e.status)a=Object(d["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue");else{var i="取得"+t.dataForm.SELECTELABEL+"資料失敗";Object(r["Message"])(Object(d["f"])(i,"error"))}})).catch((function(t){console.log(t)}));case 5:t.SelectOptions=a;case 6:case"end":return e.stop()}}),e)})))()},get9208Options:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("9208"===t.dataForm.INFTY&&!1!==t.checkOptionCondition(t.P9208Options)){e.next=2;break}return e.abrupt("return");case 2:if(!1!==t.dialogVisible&&"view"!==t.dialogStatus&&"delete"!==t.dialogStatus){e.next=4;break}return e.abrupt("return");case 4:return a=[],e.next=7,Object(c["j"])(t.dataForm.INFTY,"Zdeptclass","01").then((function(e){if(200===e.status)a=Object(d["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"p1000_short");else{var i="取得組織代碼失敗 : "+e.message;Object(r["Message"])(Object(d["f"])(i,"error"))}})).catch((function(t){console.log(t)}));case 7:t.P9208Options=a;case 8:case"end":return e.stop()}}),e)})))()},checkOptionCondition:function(t){var e=!0;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var a=!1;return(Object(d["a"])(this.dataForm.BEGDA)||Object(d["a"])(this.dataForm.ENDDA))&&([],a=!0),(!1===this.dialogVisible||a||"view"===this.dialogStatus||"delete"===this.dialogStatus)&&(e=!1),e},OdepNoFilter:function(t,e){var a=[];if(""!==t){var i=Object(d["h"])(this.P9208Options,this.dataForm.BEGDA,this.dataForm.ENDDA,"p1000_short"),s=i.filter((function(e){return e["p1000_short"].toLowerCase().startsWith(t.toLowerCase())}));s.length>0&&s.forEach((function(t){var e={value:"",label:""};e.value=t["p1000_short"],e.label=t["p1000_short"],a.push(e)}))}e(a)},Change9208InputProp:function(t){"9208"===this.dataForm.INFTY&&("02"===t||"04"===t?(this.DisableFlag.INPUTTEXT=!1,this.dataForm.INPUTTEXTPROP="INPUTTEXT"):(this.DisableFlag.INPUTTEXT=!0,this.dataForm.INPUTTEXTPROP="",this.dataForm.INPUTTEXT=""))},submitDialog:function(){var t=this;if("view"!==this.dialogStatus){if("delete"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null!=e)return void Object(r["Message"])(e);if("9208"===this.dataForm.INFTY&&""!==this.dataForm.INPUTTEXT){var a=this.P9208Options.filter((function(e){return e["p1000_short"].toLowerCase()===t.dataForm.INPUTTEXT.toLowerCase()}));if(0===a.length)return void Object(r["Message"])(Object(d["f"])("輸入之組織欄位不存在","error"))}}var i={};i.id=this.dataForm.ID,i.uname=this.$store.getters.name,i.aedtm=Object(d["b"])(new Date),"delete"!==this.dialogStatus&&this.$refs["dataForm"].validate((function(e){e&&(i.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),i.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),i.active=t.dataForm.ACTIVE,i.infty=t.dataForm.INFTY,i.objid=t.dataForm.OBJID,i[t.bodySelKeys[t.dataForm.INFTYKEY]]=t.dataForm.SELECTTYPE,"key_9207"!==t.dataForm.INFTYKEY&&"key_9208"!==t.dataForm.INFTYKEY||(i[t.bodyInpKeys[t.dataForm.INFTYKEY]]=t.dataForm.INPUTTEXT))})),this.excuteSubmit(i),this.closeDialog()}else this.closeDialog()},excuteSubmit:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["a"])(e.dialogStatus,e.dataForm.INFTY,t.id,t).then((function(t){Object(r["Message"])(Object(d["e"])(e.dialogStatus,t)),e.$emit("getList")}));case 2:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,["ACTIVE"],["number"]),this.SelectOptions=[],this.P9208Options=[]},forceUpdate:function(){this.$forceUpdate()}}}),et=tt,at=Object(y["a"])(et,W,Q,!1,null,"57680b2e",null),it=at.exports,st=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"140px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.READONLY},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.READONLY},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v(t._s(t.dataForm.HEADLABEL))]),e("div",{staticClass:"subDialog-body"},t._l(t.dataForm.INPUTLABELS,(function(a,i){return e("div",{key:i},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{"label-width":"160px",label:t.dataForm.INPUTLABELS[i]}},[e("div",{staticClass:"three-col"},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"}},[e("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":t.shortFilter,placeholder:"请输入或選擇内容",disabled:t.DisableFlag.INPUTTEXT},on:{select:function(e){return t.updateOrg(i)},change:function(e){return t.updateOrg(i)}},model:{value:t.dataForm.INPUTVALUES[i],callback:function(e){t.$set(t.dataForm.INPUTVALUES,i,e)},expression:"dataForm.INPUTVALUES[index]"}})],1),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"}},[e("el-input",{attrs:{disabled:t.DisableFlag.READONLY},model:{value:t.dataForm.INPUTOBJIDS[i],callback:function(e){t.$set(t.dataForm.INPUTOBJIDS,i,e)},expression:"dataForm.INPUTOBJIDS[index]"}})],1),e("el-form-item",{staticStyle:{width:"100%"}},[e("el-input",{attrs:{disabled:t.DisableFlag.READONLY},model:{value:t.dataForm.INPUTTEXTS[i],callback:function(e){t.$set(t.dataForm.INPUTTEXTS,i,e)},expression:"dataForm.INPUTTEXTS[index]"}})],1)],1)])],1)],1)],1)})),0)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},ot=[],lt=a("53ca"),nt={name:"Om92090Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{objid:"10000002",short:"11111111"},body:{id:"qwertyui1234567",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0105",subty:"1"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"",SUBTY:"",OBJID:"",SHORT:"",INPUTLABELS:[],INPUTVALUES:[],INPUTTEXTS:[],INPUTOBJIDS:[],FIELDKEYS:[],DIALOG_INIT:!0},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},AllOMs:[],FillterOMs:[],SelectOptions:[],InputFieldNames:["INPUTVALUE","INPUTTEXT","INPUTOBJID"]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={FORMREADONLY:!0,INPUTTEXT:!0,READONLY:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.FORMREADONLY=!1,e.INPUTTEXT=!1),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.OMsFilter()}},"dataForm.ENDDA":{handler:function(t){this.OMsFilter()}},AllOMs:{handler:function(t){this.OMsFilter()}},dialogVisible:{handler:function(t,e){var a=this;if(!0===t){this.getAllOMs();var i=["view","edit","copy","delete"],s=i.indexOf(this.dialogStatus);this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY=this.parentObj.title.infty,this.dataForm.HEADLABEL=this.parentObj.title.inftyInfo.headLabel;var o=this.parentObj.title.inftyInfo.inputFields,l=0,n="INPUTVALUE";Object.keys(o).map((function(t){var e=o[t],i="";s>-1&&(i=a.parentObj.body[e["key"]]),a.dataForm.INPUTVALUES.push(i),a.dataForm.INPUTTEXTS.push(""),a.dataForm.INPUTOBJIDS.push(""),a.dataForm.FIELDKEYS.push(e["key"]),a.dataForm.INPUTLABELS.push(e["label"]),a.dataForm[n+l]=i,l++})),s>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.SUBTY=this.parentObj.body.subty):(this.dataForm.BEGDA=Object(d["c"])(new Date),this.dataForm.AEDTM=Object(d["b"])(new Date),this.dataForm.UNAME=this.$store.getters.name,this.dataForm.ENDDA="9999-12-31")}},deep:!0}},methods:{getAllOMs:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["h"])("1000").then((function(e){if(200===e.status)t.AllOMs=e.data;else{var a="取得部門資料失敗";Object(r["Message"])(Object(d["f"])(a,"error"))}})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},OMsFilter:function(){if(Object(d["a"])(this.dataForm.BEGDA)||Object(d["a"])(this.dataForm.ENDDA))this.FillterOMs=[];else{this.FillterOMs=Object(d["h"])(this.AllOMs,this.dataForm.BEGDA,this.dataForm.ENDDA,"short"),!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);for(var t=0;t<this.InputFieldNames.length;t++)!1===Object(d["a"])(this.dataForm.INPUTVALUES[t])&&this.updateOrg(t)}},updateOrg:function(t){var e=this.dataForm.INPUTVALUES[t],a=this.FillterOMs.filter((function(t){return t["short"].toLowerCase()===e.toLowerCase()}));a.length>0?(this.dataForm.INPUTTEXTS[t]=a[0].stext,this.dataForm.INPUTOBJIDS[t]=a[0].objid):(this.dataForm.INPUTTEXTS[t]="",this.dataForm.INPUTOBJIDS[t]=""),this.forceUpdate()},shortFilter:function(t,e){var a=[];""!==t&&this.FillterOMs.length>0&&this.FillterOMs.forEach((function(e){if(e.short.toLowerCase().startsWith(t.toLowerCase())){var i={value:"",label:""};i.value=e.short,i.label=e.short,a.push(i)}})),e(a)},submitDialog:function(){var t=this;if("view"!==this.dialogStatus){if("delete"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null!=e)return void Object(r["Message"])(e);for(var a=!1,i=function(){var e=t.dataForm.INPUTVALUES[s];if(!1===Object(d["a"])(e)){if(o=t.FillterOMs.filter((function(t){return t["short"]===e})),0===o.length)return Object(r["Message"])(Object(d["f"])("輸入之組織代碼不存在:"+e,"error")),{v:void 0};a=!0}},s=0;s<this.InputFieldNames.length;s++){var o,l=i();if("object"===Object(lt["a"])(l))return l.v}if(!1===a)return void Object(r["Message"])(Object(d["f"])("組織代碼至少要輸入一項","error"))}var n={};n.id=this.dataForm.ID,n.uname=this.$store.getters.name,n.aedtm=Object(d["b"])(new Date),"delete"!==this.dialogStatus&&this.$refs["dataForm"].validate((function(e){if(e){n.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),n.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),n.active=t.dataForm.ACTIVE,n.infty=t.dataForm.INFTY,n.objid=t.dataForm.OBJID;for(var a=0;a<t.dataForm.INPUTVALUES.length;a++){var i=t.dataForm.INPUTVALUES[a];!1===Object(d["a"])(i)&&(n[t.dataForm.FIELDKEYS[a]]=i)}}})),this.excuteSubmit(n),this.closeDialog()}else this.closeDialog()},excuteSubmit:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["a"])(e.dialogStatus,e.dataForm.INFTY,t.id,t).then((function(t){Object(r["Message"])(Object(d["e"])(e.dialogStatus,t)),e.$emit("getList")}));case 2:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,["ACTIVE"],["number"]),this.AllOMs=[]},forceUpdate:function(){this.$forceUpdate()}}},rt=nt,ct=Object(y["a"])(rt,st,ot,!1,null,"37101f3d",null),dt=ct.exports,ut={name:"Om9204567890List",components:{Om92045678Detail:it,Om92090Detail:dt},props:{switchEdit:{type:Boolean,default:!1},pernr:{type:String,default:""},begda:{type:String,default:""},endda:{type:String,default:""},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:this.titleData,body:{}}}},methods:{handleAdd:function(){this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.parentObj.body={},this.dialogVisible=!1},getList:function(){this.$emit("getList")}}},pt=ut,mt=Object(y["a"])(pt,X,q,!1,null,null,null),bt=mt.exports,ht=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("增修部門層級資料")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期",width:"180"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期",width:"180"}}),e("el-table-column",{attrs:{prop:"strinf_id",label:"Lg.Str",width:"80"}}),e("el-table-column",{attrs:{prop:"zhr_valuerange_ddtext",label:"Structures Text"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om1986-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},ft=[],gt=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("部門層級")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"部門層級資料",prop:"STRINF_ID"}},[e("el-select",{attrs:{filterable:"",placeholder:"請選擇","filter-method":t.departmentOptionFilter,disabled:t.DisableFlag.STRINF_ID},on:{change:t.forceUpdate},model:{value:t.dataForm.STRINF_ID,callback:function(e){t.$set(t.dataForm,"STRINF_ID",e)},expression:"dataForm.STRINF_ID"}},t._l(t.filteredDepartmentOptions,(function(t){return e("el-option",{key:t.otype,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},Dt=[],yt=a("b775");function vt(t){var e="/DomainController/Common/ZHR_VALUERANGE/GetByDomname/".concat(t);return Object(yt["a"])({url:"https://apim.innolux.com"+e,method:"get"})}var Ot={name:"Om1986Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",OBJID:"",INFTY:"",ACTIVE:"1",SUBTY:"",STRINF_ID:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],STRINF_ID:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},begda:"2000-1-1",endda:"9999-12-31",departmentOptions:[],filteredDepartmentOptions:[]}},computed:{DisableFlag:function(){var t=["add","copy","edit"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,STRINF_ID:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.STRINF_ID=!1,a<=1&&(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?this.dataForm=Object(d["d"])(this.parentObj.body,2):(this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY="1986",this.dataForm.ACTIVE="1",this.dataForm.BEGDA=Object(d["c"])(new Date),this.dataForm.ENDDA=this.endda,this.dataForm.AEDTM=Object(d["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0},"dataForm.BEGDA":function(){this.departmentOptionFilter()},"dataForm.ENDDA":function(){this.departmentOptionFilter()}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){if("delete"===this.dialogStatus){var e={};return e.id=this.dataForm.ID,e.uname=this.$store.getters.name,e.aedtm=Object(d["c"])(new Date),Object(c["f"])(this.dataForm.INFTY,this.dataForm.ID,e).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.$emit("close")):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)})),void this.closeDialog()}var a=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);console.log(a),null==a?this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.objid=t.dataForm.OBJID,a.strinf_id=t.dataForm.STRINF_ID,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(a.aedtm=Object(d["c"])(new Date),Object(c["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))):Object(c["o"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}})):Object(r["Message"])(a)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,[],["number"])},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getZHRRange();case 2:case"end":return e.stop()}}),e)})))()},getZHRRange:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="1900-01-01",i="9999-12-31",e.next=4,vt("STRINF_ID",a,i).then((function(e){var s=e.data;if(console.log(e),200===e.status)if(s.length>0){s.sort((function(t,e){return new Date(e.endda)-new Date(t.endda)}));var o=s.filter((function(t){return"1"===t.active&&(new Date(t.begda)<=new Date(i)||new Date(t.endda)>=new Date(a))}));o.length>0?(console.log(o),t.departmentOptions=Object(n["a"])(o),t.filteredDepartmentOptions=Object(n["a"])(o)):Object(r["Message"])({message:"Active物件的部門層級資訊取得為空白",type:"error",duration:3e3})}else Object(r["Message"])({message:"物件的部門層級資訊取得為空白",type:"error",duration:3e3});else Object(r["Message"])({message:"物件ID(".concat(t.objid,")的部門層級資訊取得失敗(").concat(e.message,")"),type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 4:case"end":return e.stop()}}),e)})))()},departmentOptionFilter:function(t){if(t){var e=t.toLowerCase();this.filteredDepartmentOptions=Object(d["h"])(this.departmentOptions,this.dataForm.BEGDA,this.dataForm.ENDDA,"domvalue").filter((function(t){return t.domvalue.indexOf(e)>-1||t.ddtxt.indexOf(e)>-1}))}else this.filteredDepartmentOptions=this.departmentOptions},forceUpdate:function(){this.$forceUpdate()}}},Ft=Ot,St=Object(y["a"])(Ft,gt,Dt,!1,null,"4e397d81",null),Et=St.exports,At={name:"Om1986List",components:{Om1986Detail:Et},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},created:function(){},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},wt=At,Tt=Object(y["a"])(wt,ht,ft,!1,null,null,null),xt=Tt.exports,jt=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("組織單位")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期",width:"180"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期",width:"180"}}),e("el-table-column",{attrs:{label:"內容說明",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.persa)+t._s(e.row.btrtl)+" ")]}}])}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om9203-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},_t=[],Ct=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"100px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("組織地點")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"組織地點",prop:"LOC"}},[e("div",{staticClass:"block"},[e("el-cascader",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",options:t.options,filterable:"",clearable:"",focus:"","filter-method":t.dataFilter,disabled:t.DisableFlag.LOC},model:{value:t.dataForm.LOC,callback:function(e){t.$set(t.dataForm,"LOC",e)},expression:"dataForm.LOC"}})],1)])],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},kt=[],Nt={name:"Om9203Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",OBJID:"",INFTY:"",ACTIVE:"1",PERSA:"",BTRTL:"",LOC:[]},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],PERSA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],BTRTL:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],LOC:[{required:!0,message:"此欄為必填欄位",trigger:"blur",type:"array"}]},begda:"2000-1-1",endda:"9999-12-31",options:[]}},computed:{DisableFlag:function(){var t=["add","copy","edit"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,PERSA:!0,BTRTL:!0,LOC:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.LOC=!1,e.PERSA=!1,e.BTRTL=!1,a<=1&&(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?(this.dataForm=Object(d["d"])(this.parentObj.body,2),this.dataForm.LOC=[this.parentObj.body.persa,this.parentObj.body.btrtl]):(this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY="9203",this.dataForm.ACTIVE="1",this.dataForm.BEGDA=Object(d["c"])(new Date),this.dataForm.ENDDA=this.endda,this.dataForm.AEDTM=Object(d["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){if("delete"===this.dialogStatus){var e={};return e.id=this.dataForm.ID,e.uname=this.$store.getters.name,e.aedtm=Object(d["c"])(new Date),Object(c["f"])(this.dataForm.INFTY,this.dataForm.ID,e).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.$emit("close")):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)})),void this.closeDialog()}var a=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);console.log(a),null==a?this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.objid=t.dataForm.OBJID,a.persa=t.dataForm.LOC[0],a.btrtl=t.dataForm.LOC[1],console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(a.aedtm=Object(d["c"])(new Date),Object(c["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))):Object(c["o"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}})):Object(r["Message"])(a)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,[],["number"]),this.dataForm.LOC=[]},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.GetRange();case 2:return e.next=4,t.GetSubRange();case 4:case"end":return e.stop()}}),e)})))()},GetRange:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["l"])("T500P");case 3:if(a=e.sent,i=a.data,200===a.status){e.next=8;break}return Object(r["Message"])({message:"人事範圍資訊取得失敗(".concat(a.message,")"),type:"error",duration:3e3}),e.abrupt("return");case 8:i.length>0?(i.sort((function(t,e){return new Date(e.endda)-new Date(t.endda)})),i.length>0?(s=[],i.forEach((function(t){"1"===t.active&&s.push({label:t.persa+" "+t.pbtxt,value:t.persa,children:[]})})),t.options=[].concat(s)):Object(r["Message"])({message:"Active 人事範圍資訊取得為空白",type:"error",duration:3e3})):Object(r["Message"])({message:"人事範圍資訊取得為空白",type:"error",duration:3e3}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},GetSubRange:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["l"])("T001P");case 3:if(a=e.sent,i=a.data,200===a.status){e.next=8;break}return Object(r["Message"])({message:"人事子範圍資訊取得失敗(".concat(a.message,")"),type:"error",duration:3e3}),e.abrupt("return");case 8:i.length>0?(i.sort((function(t,e){return new Date(e.endda)-new Date(t.endda)})),i.length>0&&t.options.length>0?i.forEach((function(e){var a=t.options.findIndex((function(t){return t.value===e.persa}));-1!==a&&t.options[a].children.push({label:e.btrtx,value:e.btrtl})})):Object(r["Message"])({message:"Active人事子範圍資訊取得為空白",type:"error",duration:3e3})):Object(r["Message"])({message:"人事子範圍資訊取得為空白",type:"error",duration:3e3}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},dataFilter:function(t,e){if(~t.text.indexOf(e)||~t.text.toUpperCase().indexOf(e.toUpperCase()))return!0},forceUpdate:function(){this.$forceUpdate()}}},It=Nt,Mt=Object(y["a"])(It,Ct,kt,!1,null,"512e2e9e",null),Bt=Mt.exports,Rt={name:"Om9203List",components:{Om9203Detail:Bt},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},created:function(){},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},Lt=Rt,Pt=Object(y["a"])(Lt,jt,_t,!1,null,null,null),Vt=Pt.exports,$t={name:"OrgHrp1000",components:{Om1000List:A,Om1000Detail:O,Om1001List:R,Om1001Detail:N,Om1002List:J,Om1002Detail:Z,Om9204567890List:bt,Om92045678Detail:it,Om92090Detail:dt,Om1986List:xt,Om1986Detail:Et,Om9203List:Vt,Om9203Detail:Bt},data:function(){return{formOrg:{OBJID:null,SHORT:"",STEXT:""},begda:"",endda:"",switchEdit:!1,dialogVisible:!1,dialogStatus:"",listView:"",detailView:"",subtype:!1,titleData:{},bodyData:[],parentObj:{},loadKey:"",switchKey:"_1",infoSel:void 0,subSel:void 0,subOptions:[],filteredSubOptions:[],options:[{otype:"O",infty:"1000",itext:"物件"},{otype:"O",infty:"1001",itext:"關係"},{otype:"O",infty:"1002",itext:"說明"},{otype:"O",infty:"1008",itext:"科目指派特徵"},{otype:"O",infty:"1986",itext:"部門層級資料"},{otype:"O",infty:"9203",itext:"組織地點"},{otype:"O",infty:"9204",itext:"部門主管委任形式"},{otype:"O",infty:"9205",itext:"組織費用屬性"},{otype:"O",infty:"9206",itext:"部門屬性"},{otype:"O",infty:"9207",itext:"部門編制"},{otype:"O",infty:"9208",itext:"組織類型(編制/簽核/純簽核/平行)"},{otype:"O",infty:"9209",itext:"費用歸屬"},{otype:"O",infty:"9210",itext:"虛線呈報組織"}],filteredOptions:[],typeinfoFromDate:new Date(1799,12,1),typeinfoToDate:new Date(9999,11,31),pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.filteredOptions=Object(n["a"])(this.options)},mounted:function(){this.$refs.objInput.focus()},beforeDestroy:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.formOrg.OBJID,!0!==t.switchEdit){e.next=12;break}return i={},i.objid=a,i.mdfyflg="0",i.mdfyusr=t.$store.getters.name,i.mdfydtm=Object(d["b"])(new Date),i.pageguid=t.$store.getters.uuid,console.log("force editLock unLock: "+JSON.stringify(i)),e.next=11,Object(c["g"])(i).then((function(t){var e=t.success;!0===e||Object(r["Message"])({message:"檢視切換失敗:物件ID(".concat(a,")編輯解鎖失效"),type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 11:t.switchEdit=!1;case 12:case"end":return e.stop()}}),e)})))()},methods:{btnControlEditView:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.titleData.objid&&t.titleData.infty){e.next=4;break}return t.switchEdit=!1,Object(r["Message"])({message:"請輸入組織物件ID及選擇Infotype !",type:"error",duration:3e3}),e.abrupt("return");case 4:a=t.titleData.objid,i={},i.objid=a,!0===t.switchEdit?(i.mdfyflg="1",i.pageguid=t.$store.getters.uuid):(i.mdfyflg="0",i.pageguid=t.$store.getters.uuid),i.mdfyusr=t.$store.getters.name,i.mdfydtm=Object(d["b"])(new Date),console.log("editLock: "+JSON.stringify(i)),Object(c["g"])(i).then((function(e){if(console.log("editLock pageguid: "+i.pageguid),200!==e.status||!0!==e.success)return Object(r["Message"])({message:"檢視/編輯切換失敗:物件ID(".concat(a,")編輯解鎖失效(").concat(e.message,")"),type:"error",duration:3e3}),void(t.switchEdit=!1);Object(r["Message"])({message:"檢視/編輯切換成功:物件ID(".concat(a,"))"),type:"success",duration:3e3})})).catch((function(e){Object(r["Message"])({message:"檢視/編輯切換失敗:物件ID(".concat(a,")編輯解鎖失效(").concat(e,")"),type:"error",duration:3e3}),t.switchEdit=!1,console.log(e)}));case 12:case"end":return e.stop()}}),e)})))()},view:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formOrg.OBJID&&null!=t.infoSel){e.next=3;break}return Object(r["Message"])({message:"請輸入物件ID及選擇InfoType !",type:"error",duration:3e3}),e.abrupt("return");case 3:return e.next=5,t.getOrgInfo();case 5:t.parentObj={title:t.titleData,body:t.bodyData[0]},t.dialogStatus="view",t.dialogVisible=!0;case 8:case"end":return e.stop()}}),e)})))()},search:function(){this.formOrg.OBJID?(this.resetForm(),this.getOrgInfo()):Object(r["Message"])({message:"請輸入物件ID !",type:"error",duration:3e3})},closeDialog:function(){this.dialogVisible=!1},getOrgInfo:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var a,i,s,l,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.typeinfoFromDate&&null!==e.typeinfoToDate){t.next=3;break}return Object(r["Message"])({message:"請輸入開始日期及結束日期 !",type:"error",duration:3e3}),t.abrupt("return");case 3:if("1799-12-01"===e.typeinfoFromDate&&"9999-11-31"===e.typeinfoToDate){t.next=13;break}if(!(e.typeinfoToDate<e.typeinfoFromDate)){t.next=9;break}return Object(r["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}),t.abrupt("return");case 9:e.begda=Object(d["c"])(e.typeinfoFromDate),e.endda=Object(d["c"])(e.typeinfoToDate);case 11:t.next=15;break;case 13:e.begda="1799-12-01",e.endda="9999-11-31";case 15:return t.next=17,Object(c["m"])(e.formOrg.OBJID,e.begda,e.endda).then((function(t){var a=t.data;if(200===t.status){if(a.length>0){var i=Object.assign({},a[0]);if(e.formOrg.OBJID=i.objid,i.begda=e.begda,i.endda=e.endda,e.infoSel>-1){var s=e.options.findIndex((function(t){return t.infty===e.infoSel}));i.infty=e.options[s].infty,i.subty=e.subSel}e.titleData=i}}else Object(r["Message"])({message:"無此組織單位與相關資料",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 17:if(!(e.infoSel>-1)){t.next=25;break}return t.next=20,e.getListInfo();case 20:a=e.options.findIndex((function(t){return t.infty===e.infoSel})),i="key_"+e.options[a].infty,e.loadKey=i,s=["key_9204","key_9205","key_9206","key_9207","key_9208","key_9209","key_9210"],s.includes(i)?(l={key_9204:{view:"45678",headLabel:"部門主管委任形式",selectKey:"ZAPPOINTTYPE",selectLabel:"主管委任形式"},key_9205:{view:"45678",headLabel:"組織費用屬性",selectKey:"ZCOSTTYPE",selectLabel:"組織費用屬性"},key_9206:{view:"45678",headLabel:"部門屬性",selectKey:"SHORT_D",selectLabel:"部門屬性"},key_9207:{view:"45678",headLabel:"部門編制",selectKey:"SHORT_D_PERSK",selectLabel:"編制類別"},key_9208:{view:"45678",headLabel:"組織類型(編制/簽核/純簽核/平行)",selectKey:"ZDEPTCLASS",selectLabel:"組織類型"},key_9209:{view:"90",headLabel:"費用歸屬",inputFields:[{label:"費用歸屬部門代碼(1)",key:"zdepcoas_01"},{label:"費用歸屬部門代碼(2)",key:"zdepcoas_02"},{label:"費用歸屬部門代碼(3)",key:"zdepcoas_03"}]},key_9210:{view:"90",headLabel:"虛線呈報組織",inputFields:[{label:"虛線呈報組織代碼(1)",key:"zdepcoas_01"},{label:"虛線呈報組織代碼(2)",key:"zdepcoas_02"},{label:"虛線呈報組織代碼(3)",key:"zdepcoas_03"}]}},e.titleData.inftyInfo=l[i],e.titleData.headLabel=l[i]["headLabel"],e.titleData.view=l[i]["view"],"_1"===e.switchKey?e.switchKey="_0":e.switchKey="_1",e.loadKey=e.loadKey+e.switchKey,e.listView="Om9204567890-list",e.detailView="Om920".concat(l[i]["view"],"-detail")):("1002"===e.options[a].infty&&(n={headLabel:"說明",labels:["子類型","說明 (第一行)"]},e.titleData.inftyInfo=n),e.listView="Om".concat(e.options[a].infty,"-list"),e.detailView="Om".concat(e.options[a].infty,"-detail"));case 25:case"end":return t.stop()}}),t)})))()},getListInfo:function(){var t=this,e=this.options.findIndex((function(e){return e.infty===t.infoSel}));return Object(c["i"])(this.options[e].infty,this.formOrg.OBJID,this.begda,this.endda).then((function(e){t.bodyData=e.data,console.log(t.bodyData),t.subSel&&(t.bodyData=t.bodyData.filter((function(e){return e.subty===t.subSel})))})).catch((function(t){console.log(t)}))},getSubType:function(){var t=this;this.subSel=void 0,this.subtype=!1;var e=this.options.findIndex((function(e){return e.infty===t.infoSel}));Object(c["n"])(this.options[e].otype,this.options[e].infty).then((function(e){var a=e.data;t.subOptions=a,t.filteredSubOptions=a,400!==e.status||(t.subtype=!0)})).catch((function(t){console.log(t)}))},resetForm:function(){this.titleData={objid:"",short:"",stext:""},this.loadKey=""}}},Gt=$t,zt=Object(y["a"])(Gt,i,s,!1,null,"18e6a050",null);e["default"]=zt.exports},"51ff":function(t,e,a){var i={"./404.svg":"a14a","./bug.svg":"1779","./chart.svg":"c829","./clipboard.svg":"bc35","./component.svg":"56d6","./dashboard.svg":"f782","./documentation.svg":"90fb","./drag.svg":"9bbf","./edit.svg":"aa46","./education.svg":"ad1c","./email.svg":"cbb7","./example.svg":"30c3","./excel.svg":"6599","./exit-fullscreen.svg":"dbc7","./eye-open.svg":"d7ec","./eye.svg":"4df5","./form.svg":"eb1b","./fullscreen.svg":"9921","./guide.svg":"6683","./icon.svg":"9d91","./international.svg":"17df","./language.svg":"2580","./link.svg":"18f0","./list.svg":"3289","./lock.svg":"ab00","./message.svg":"47ff","./money.svg":"3046","./nested.svg":"dcf8","./password.svg":"2a3d","./pdf.svg":"f9a1","./people.svg":"d056","./peoples.svg":"2f11","./qq.svg":"1430","./schedule_calendar.svg":"82c4","./search.svg":"8e8d","./shopping.svg":"12a5","./size.svg":"8644","./skill.svg":"096e","./star.svg":"708a","./tab.svg":"8fb7","./table.svg":"47f1","./theme.svg":"e534","./tree-table.svg":"e7c8","./tree.svg":"93cd","./user.svg":"b3b5","./wechat.svg":"80da","./zip.svg":"8aa6"};function s(t){var e=o(t);return a(e)}function o(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="51ff"},"531d":function(t,e,a){},"53d9":function(t,e,a){},"56d6":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-component",use:"icon-component-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-component"><path d="M0 0h54.857v54.857H0V0zm0 73.143h54.857V128H0V73.143zm73.143 0H128V128H73.143V73.143zm27.428-18.286C115.72 54.857 128 42.577 128 27.43 128 12.28 115.72 0 100.571 0 85.423 0 73.143 12.28 73.143 27.429c0 15.148 12.28 27.428 27.428 27.428z" /></symbol>'});l.a.add(n);e["default"]=n},"56d7":function(t,e,a){"use strict";a.r(e);var i={};a.r(i),a.d(i,"parseTime",(function(){return G["d"]})),a.d(i,"formatTime",(function(){return G["c"]})),a.d(i,"timeAgo",(function(){return U})),a.d(i,"numberFormatter",(function(){return Z})),a.d(i,"toThousandFilter",(function(){return Y})),a.d(i,"uppercaseFirst",(function(){return H}));a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("159b"),a("b64b"),a("4de4");var s=a("2b0e"),o=a("a78e"),l=a.n(o),n=(a("f5df1"),a("5c96")),r=a.n(n),c=(a("24ab"),a("b2d6")),d=a.n(c),u=(a("b20f"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)}),p=[],m={name:"App"},b=m,h=a("2877"),f=Object(h["a"])(b,u,p,!1,null,null,null),g=f.exports,D=a("4360"),y=a("a18c"),v=(a("d81d"),a("ddb0"),function(){var t=this,e=t._self._c;return t.isExternal?e("div",t._g({staticClass:"svg-external-icon svg-icon",style:t.styleExternalIcon},t.$listeners)):e("svg",t._g({class:t.svgClass,attrs:{"aria-hidden":"true"}},t.$listeners),[e("use",{attrs:{"xlink:href":t.iconName}})])}),O=[],F=a("61f7"),S={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal:function(){return Object(F["c"])(this.iconClass)},iconName:function(){return"#icon-".concat(this.iconClass)},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"},styleExternalIcon:function(){return{mask:"url(".concat(this.iconClass,") no-repeat 50% 50%"),"-webkit-mask":"url(".concat(this.iconClass,") no-repeat 50% 50%")}}}},E=S,A=(a("64df"),Object(h["a"])(E,v,O,!1,null,"f9f7fefc",null)),w=A.exports;s["default"].component("svg-icon",w);var T=a("51ff"),x=function(t){return t.keys().map(t)};x(T);var j=a("c7eb"),_=a("5530"),C=a("1da1"),k=a("323e"),N=a.n(k),I=(a("a5d8"),a("5f87")),M=(a("99af"),a("83d6")),B=a.n(M),R=B.a.title||"Vue Element Admin";function L(t){return t?"".concat(t," - ").concat(R):"".concat(R)}N.a.configure({showSpinner:!1});var P=["/login","/auth-redirect"];y["c"].beforeEach(function(){var t=Object(C["a"])(Object(j["a"])().mark((function t(e,a,i){var s,o,l,r,c;return Object(j["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(N.a.start(),document.title=L(e.meta.title),s=Object(I["b"])(),!s){t.next=44;break}if("/login"!==e.path){t.next=9;break}i({path:"/"}),N.a.done(),t.next=42;break;case 9:if(o=D["a"].getters.roles&&D["a"].getters.roles.length>0,!o){t.next=14;break}i(),t.next=42;break;case 14:return t.prev=14,t.next=17,D["a"].dispatch("user/JWTInfo");case 17:if(l=t.sent,l.token){t.next=25;break}return t.next=21,D["a"].dispatch("user/resetToken");case 21:return n["Message"].error("Login Token Check Has Error"),i("/login?redirect=".concat(e.path)),N.a.done(),t.abrupt("return");case 25:return t.next=27,D["a"].dispatch("user/getInfo");case 27:return r=t.sent,t.next=30,D["a"].dispatch("permission/generateRoutes",r);case 30:c=t.sent,y["c"].addRoutes(c),i(Object(_["a"])(Object(_["a"])({},e),{},{replace:!0})),t.next=42;break;case 35:return t.prev=35,t.t0=t["catch"](14),t.next=39,D["a"].dispatch("user/resetToken");case 39:n["Message"].error(t.t0||"Has Error"),i("/login?redirect=".concat(e.path)),N.a.done();case 42:t.next=45;break;case 44:-1!==P.indexOf(e.path)?i():(i("/login?redirect=".concat(e.path)),N.a.done());case 45:case"end":return t.stop()}}),t,null,[[14,35]])})));return function(e,a,i){return t.apply(this,arguments)}}()),y["c"].afterEach((function(){N.a.done()}));a("caad"),a("2532");var V=B.a.errorLog;function $(){var t="production";return Object(F["d"])(V)?t===V:!!Object(F["b"])(V)&&V.includes(t)}$()&&(s["default"].config.errorHandler=function(t,e,a,i){s["default"].nextTick((function(){D["a"].dispatch("errorLog/addErrorLog",{err:t,vm:e,info:a,url:window.location.href}),console.error(t,a)}))});a("a9e3"),a("ac1f"),a("5319"),a("b680"),a("25f0"),a("fb6a");var G=a("ed08");function z(t,e){return 1===t?t+e:t+e+"s"}function U(t){var e=Date.now()/1e3-Number(t);return e<3600?z(~~(e/60)," minute"):e<86400?z(~~(e/3600)," hour"):z(~~(e/86400)," day")}function Z(t,e){for(var a=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],i=0;i<a.length;i++)if(t>=a[i].value)return(t/a[i].value).toFixed(e).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a[i].symbol;return t.toString()}function Y(t){return(+t||0).toString().replace(/^-?\d+/g,(function(t){return t.replace(/(?=(?!\b)(\d{3})+$)/g,",")}))}function H(t){return t.charAt(0).toUpperCase()+t.slice(1)}s["default"].use(r.a,{size:l.a.get("size")||"medium",locale:d.a}),Object.keys(i).forEach((function(t){s["default"].filter(t,i[t])})),s["default"].config.productionTip=!1,new s["default"]({el:"#app",router:y["c"],store:D["a"],render:function(t){return t(g)}})},"5b86":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("批次新增/異動組織單位")])]),e("el-form",[e("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("批次上傳檔案 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 適用300筆以下資料 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"fileName",ref:"fileName",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"批次建立組織檔案"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1)]),e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"info",icon:"el-icon-download",size:"small"}},[e("span",{staticClass:"addBtn"},[t._v("範本")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("upload-excel-component",{ref:"uploadExcelComponent",attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload},on:{fileName:t.getFileName}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.excelTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.excelSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("Interface執行 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 台灣端招募系統適用 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticClass:"employ-bar"},[e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"開始日期",format:"yyyy-MM-dd"},model:{value:t.interFace.begda,callback:function(e){t.$set(t.interFace,"begda",e)},expression:"interFace.begda"}})],1)],1),e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.interFace.endda,callback:function(e){t.$set(t.interFace,"endda",e)},expression:"interFace.endda"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"u_site",ref:"u_site",staticStyle:{width:"100%"},attrs:{placeholder:"資料歸屬場區"},model:{value:t.interFace.u_site,callback:function(e){t.$set(t.interFace,"u_site",e)},expression:"interFace.u_site"}})],1)],1)]),e("div",{},[e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.interfaceTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.interfaceSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])])],2)],1)],1)],1),e("div",[t.formatList?e("format-msg-list",{attrs:{"to-be-correct-data":t.toBeCorrectData}}):t._e()],1),e("div",[t.dbList?e("db-msg-list",{attrs:{"db-data":t.dbData}}):t._e()],1)],1)},s=[],o=a("5530"),l=(a("b0c0"),a("d81d"),a("ac1f"),a("00b4"),a("5319"),a("5c96")),n=a("0c47"),r=a("3796"),c=a("daa7"),d=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.toBeCorrectData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"BEGDA",label:"生效日"}}),e("el-table-column",{attrs:{prop:"OBJID",label:"部門物件ID"}}),e("el-table-column",{attrs:{prop:"SHORT",label:"部門代碼"}}),e("el-table-column",{attrs:{prop:"STEXT",label:"部門名稱"}}),e("el-table-column",{attrs:{prop:"KOSTL",label:"所屬成本中心"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}})],1)],1)])],1)},u=[],p={name:"OMOFormatMsgList",props:{toBeCorrectData:{type:Array,default:function(){return[]}}},data:function(){return{colspan:5}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.colspan){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},m=p,b=a("2877"),h=Object(b["a"])(m,d,u,!1,null,null,null),f=h.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dbData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"BEGDA",label:"生效日"}}),e("el-table-column",{attrs:{prop:"OBJID",label:"部門物件ID"}}),e("el-table-column",{attrs:{prop:"OSHORT",label:"部門代碼"}}),e("el-table-column",{attrs:{prop:"OSTEXT",label:"部門名稱"}}),e("el-table-column",{attrs:{prop:"KOSTL",label:"所屬成本中心"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}})],1)],1)])],1)},D=[],y={name:"OMOrgDbMsgList",props:{dbData:{type:Array,default:function(){return[]}}},data:function(){return{colspan:5}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.colspan){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},v=y,O=Object(b["a"])(v,g,D,!1,null,null,null),F=O.exports,S=1048576,E={name:"OMOBatch",components:{UploadExcelComponent:r["a"],FormatMsgList:f,DbMsgList:F},data:function(){return{endda:new Date(9999,12,31),interFace:{begda:new Date,endda:Object(o["a"])({},this.endda),u_site:""},activeNames:["1"],fileName:"",tableData:[],data:{},toBeCorrectData:[],dbData:[],excelData:[],check_only:"",formatList:!1,dbList:!1}},methods:{getFileName:function(){this.fileName=this.$refs.uploadExcelComponent.fileName,console.log("rawFile.name",this.$refs.uploadExcelComponent.fileName)},beforeUpload:function(t){var e=t.size<S;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results;this.tableData=e,console.log("results",e)},excelTest:function(){this.check_only="test",this.excelBatchCreate()},excelSubmit:function(){this.check_only="submit",this.excelBatchCreate()},interfaceTest:function(){this.check_only="test",this.interfaceBatchCreate()},interfaceSubmit:function(){this.check_only="submit",this.interfaceBatchCreate()},excelBatchCreate:function(){var t=this;if(this.fileName){this.data={},this.toBeCorrectData=[];for(var e=0;e<this.tableData.length;e++)this.data["BEGDA"]=this.tableData[e]["生效日"],this.data["OBJID"]=this.tableData[e]["部門物件ID"],this.data["SHORT"]=this.tableData[e]["部門代碼"],this.data["STEXT"]=this.tableData[e]["部門名稱"],this.data["KOSTL"]=this.tableData[e]["所屬成本中心"],this.data["OBJID_UP"]=this.tableData[e]["上層部門物件ID"],this.data["SHORT_OLD"]=this.tableData[e]["原公司部門代碼"],this.data["SHORT_SEN"]=this.tableData[e]["英文簡稱"],this.data["SHORT_EN"]=this.tableData[e]["英文名稱"],this.data["SORT"]=this.tableData[e]["部門排序"],this.data["LEVEL"]=this.tableData[e]["部門層級"],this.data["APPOINTTYPE"]=this.tableData[e]["主管委任形式"],this.data["COSTTYPE"]=this.tableData[e]["費用屬性"],this.data["DEPTCLASS"]=this.tableData[e]["組織類型"],this.data["DEPTPLAITNO"]=this.tableData[e]["對應之編制組織代碼"],this.data["PURP"]=this.tableData[e]["部門宗旨"],this.data["TARG"]=this.tableData[e]["部門目的"],this.data["PA_1"]=this.tableData[e]["組織地點(1)-PA"],this.data["PSA_1"]=this.tableData[e]["組織地點(1)-PSA"],this.data["PA_2"]=this.tableData[e]["組織地點(2)-PA"],this.data["PSA_2"]=this.tableData[e]["組織地點(2)-PSA"],this.data["PA_3"]=this.tableData[e]["組織地點(3)-PA"],this.data["PSA_3"]=this.tableData[e]["組織地點(3)-PSA"],this.data["ATTRIBUTE_1"]=this.tableData[e]["部門屬性(1)"],this.data["ATTRIBUTE_2"]=this.tableData[e]["部門屬性(2)"],this.data["ATTRIBUTE_3"]=this.tableData[e]["部門屬性(3)"],this.data["ENDDA"]=Object(n["c"])(this.endda),this.data["UNAME"]=this.$store.getters.name,this.data["AEDTM"]=Object(n["c"])(new Date),this.excelData[e]=Object(o["a"])(Object(o["a"])({},this.data),{},{batch_item:e}),this.checkFormat(this.data);if(0===this.toBeCorrectData.length){this.formatList=!1,this.dbList=!0,this.dbData=[];var a={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===this.check_only&&(a.check_only=!0),"submit"===this.check_only&&(a.check_only=!1),a.type="excel",a.data=[];for(var i=function(e){a.data[e]=t.excelData[e],Object(c["b"])(a).then((function(a){var i=a.data,s=[];s=i[e].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)t.dbData.push(s[o]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},s=0;s<this.excelData.length;s++)i(s)}0!==this.toBeCorrectData.length&&(this.dbList=!1,this.formatList=!0),console.log(this.toBeCorrectData.map((function(t){return t.OBJID}))),console.log("this.toBeCorrectData",this.toBeCorrectData)}else Object(l["Message"])({message:"請上傳檔案 !",type:"error",duration:3e3})},interfaceBatchCreate:function(){var t=this;if(this.interFace.begda&&this.interFace.endda&&this.interFace.u_site){var e={};this.data={},this.toBeCorrectData=[],this.interFace.endda<this.interFace.begda?Object(l["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}):(e.begda=Object(n["c"])(this.interFace.begda),e.endda=Object(n["c"])(this.interFace.endda),e.u_site=this.interFace.u_site,e.aedtm="",e.uname="",e.pageguid="",Object(c["d"])(e).then((function(e){for(var a=0;a<e.data.data.length;a++)t.data=e.data.data[a],t.excelData[a]=Object(o["a"])({},t.data),t.excelData[a].batch_item=a,t.checkFormat(t.data);0===t.toBeCorrectData.length&&function(){t.formatList=!1,t.dbList=!0,t.dbData=[];var e={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===t.check_only&&(e.check_only=!0),"submit"===t.check_only&&(e.check_only=!1),e.type="rms_tw_db",e.data=[];for(var a=function(a){e.data[a]=t.excelData[a],Object(c["e"])(e).then((function(i){console.log("body",e);var s=i.data,o=[];o=s[a].result,o[0].rowspan=o.length;for(var l=0;l<o.length;l++)t.dbData.push(o[l]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},i=0;i<t.excelData.length;i++)a(i)}(),0!==t.toBeCorrectData.length&&(t.dbList=!1,t.formatList=!0),console.log(t.toBeCorrectData.map((function(t){return t.posno}))),console.log("this.toBeCorrectData",t.toBeCorrectData)})).catch((function(t){console.log(t)})))}else Object(l["Message"])({message:"請輸入完整查詢條件 !",type:"error",duration:3e3})},checkFormat:function(t){var e,a=this,i=0,s=function(s,l){var n=Object(o["a"])({},t);void 0===e&&(e=n),n.process_name=s,n.message=l,a.toBeCorrectData.push(n),i++};if(void 0!==t["OBJID"]){if(void 0===t["BEGDA"]){var l=/\d{4}[/\-]\d{2}[/\-]\d{2}/;l.test(t["BEGDA"])?t["BEGDA"]=t["BEGDA"].replace(l,"$1-$2-$3"):s("生效日","不可為空")}void 0===t["OBJID"]&&s("部門物件ID","不可為空"),void 0===t["SHORT"]&&s("部門代碼","不可為空"),void 0===t["STEXT"]&&s("部門名稱","不可為空"),void 0===t["KOSTL"]&&s("所屬成本中心","不可為空"),void 0===t["OBJID_UP"]&&s("上層部門物件ID","不可為空"),void 0===t["SHORT_OLD"]&&s("原公司部門代碼","不可為空"),void 0===t["SHORT_SEN"]&&s("英文簡稱","不可為空"),void 0===t["SHORT_EN"]&&s("英文名稱","不可為空"),void 0===t["SORT"]&&s("部門排序","不可為空"),void 0===t["LEVEL"]&&s("部門層級","不可為空"),void 0===t["APPOINTTYPE"]&&s("主管委任形式","不可為空"),void 0===t["COSTTYPE"]&&s("費用屬性","不可為空"),void 0===t["DEPTCLASS"]&&s("組織類型","不可為空"),void 0===t["DEPTPLAITNO"]&&s("對應之編制組織代碼","不可為空"),void 0===t["OPURP"]&&s("部門宗旨","不可為空"),void 0===t["OTARG"]&&s("部門目的","不可為空"),void 0!==t["PA_1"]&&void 0!==t["PSA_1"]||void 0!==t["PA_2"]&&void 0!==t["PSA_2"]||void 0!==t["PA_3"]&&void 0!==t["PSA_3"]||s("組織地點(1)~(3)-PA與PSA","至少填寫一組"),void 0===t["ATTRIBUTE_1"]&&void 0===t["ATTRIBUTE_2"]&&void 0===t["ATTRIBUTE_3"]&&s("部門屬性(1)~(3)","至少填寫一個"),void 0!==e&&(e.rowspan=i)}}}},A=E,w=Object(b["a"])(A,i,s,!1,null,"2f260459",null);e["default"]=w.exports},"5c13":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("el-menu",{staticClass:"el-menu-demo no-print",attrs:{id:"navbar",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[e("el-menu-item",{attrs:{type:"primary"}},[e("router-link",{attrs:{to:"/PA/PA_Report/PA_Certificate_of_Resignation"}},[t._v(" 回到離職證明填寫頁面 ")])],1),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.print}},[t._v(" 列印 或是下載PDF ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToFirstPage}},[t._v(" 第一頁 ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToPreviousPage}},[t._v(" 上一頁 ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToNextPage}},[t._v(" 下一頁 ")]),e("el-menu-item",{attrs:{type:"primary"},on:{click:t.goToLastPage}},[t._v(" 最後一頁 ")]),e("el-menu-item",{attrs:{type:"primary"}},[t._v(" 目前頁數 "+t._s(t.currentPage)+" / "+t._s(t.totalPage)+" ")])],1),e("div",{attrs:{id:"printMe"}},t._l(t.outputDataArr,(function(a,i){return e("div",{key:i,staticClass:"page"},[e("div",{attrs:{id:"p".concat(i+1)}}),e("img",{staticClass:"row",attrs:{src:a.companyInfo.resigntaionImgSrc}}),t._l(a.companyInfo.addressText,(function(i,s){return e("el-row",{key:i},[e("el-col",{attrs:{offset:1,span:15}},[e("div",{domProps:{innerHTML:t._s(i)}})]),a.companyInfo.addressText.length===s+2?e("el-col",{staticClass:"text-align-right",attrs:{offset:1,span:7}},[t._v("編號:"+t._s(a.PERNR))]):a.companyInfo.addressText.length===s+1?e("el-col",{staticClass:"text-align-right",attrs:{offset:1,span:7}},[t._v("Date:"+t._s(a.DATE))]):t._e()],1)})),e("hr",{staticStyle:{margin:"20px 0 10px 0"},attrs:{size:"8px",align:"center"}}),e("div",[e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("姓名")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ENAME))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("NAME")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("身分證號碼")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ICNUM))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("ID NO:")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("出生日期")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.GBDAT))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("DATE OF BIRTH:")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("部門")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.STEXT))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("SERVICE DEPT.:")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.STEXT_TLINE))])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("職稱")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ZCOBJID))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("JOB TITLE:")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ZCOBJID_TLINE))])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("到職日期")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.BEGDA))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("DATE OF EMPLOYMENT:")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("離職日期")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[t._v(t._s(a.ENDDA))]),e("el-col",{attrs:{offset:1,span:7}},[t._v("DATE OF TERMINATION:")])],1),e("el-row",{staticClass:"row"},[e("el-col",{staticClass:"attribute",attrs:{offset:1,span:6}},[t._v("附記")]),e("el-col",{attrs:{span:1}},[t._v("：")]),e("el-col",{attrs:{span:16}},[e("div",{domProps:{innerHTML:t._s(t.submitForm.REMARK)}})]),e("el-col",{attrs:{offset:1,span:6}},[t._v("REMARK:")])],1),e("div",{staticStyle:{height:"100px"}}),e("el-row",{staticStyle:{"font-size":"24px","margin-bottom":"10px"}},[e("el-col",{attrs:{offset:12,span:8}},[t._v("董事長")])],1),e("el-row",[e("el-col",{attrs:{offset:12,span:8}},[t._v("Chairman")])],1),e("el-row",[e("el-col",{attrs:{offset:12,span:12}},[e("img",{attrs:{src:a.companyInfo.signImgSrc}})])],1)],1)],2)})),0)],1)},s=[],o=(a("d3b7"),a("159b"),a("c740"),a("0c47")),l={NAME:"certificatePreview",props:{bbq:{type:Array,default:function(){return[{}]}}},data:function(){return{article:"",fullscreenLoading:!0,companyInfo:[{name:"CUXSG",employmentImgSrc:a("e619"),resigntaionImgSrc:a("3f84"),signImgSrc:a("8b5c"),ChairmanEnglishName:"",addressText:["35053 苗栗縣科學工業園區竹南園區科學路160號","No. 160, Kesyue Rd. Jhunan Science Park,","Miaoli County 35053, Taiwan R.O.C.","Tel：886-37-586000","&nbsp;","74147台南市台南科學工業園區環西路一段3號","No.3, Sec. 1, Huansi Rd., Southern Taiwan Science Park,","Tainan County 74147, Taiwan R.O.C.","Tel：886-6-5051888"]},{name:"群創",employmentImgSrc:a("893d"),resigntaionImgSrc:a("2640"),signImgSrc:a("94e2"),ChairmanEnglishName:"Jin Yang Hung",addressText:["35053 苗栗縣科學工業園區竹南園區科學路160號","No. 160, Kesyue Rd. Jhunan Science Park,","Miaoli County 35053, Taiwan R.O.C.","Tel：886-37-586000","&nbsp;","74147台南市台南科學工業園區環西路一段3號","No.3, Sec. 1, Huansi Rd., Southern Taiwan Science Park,","Tainan County 74147, Taiwan R.O.C.","Tel：886-6-5051888"]},{name:"群豐駿",employmentImgSrc:a("1475"),resigntaionImgSrc:a("a760"),signImgSrc:a("708f"),ChairmanEnglishName:"",addressText:["74147台南市台南科學工業園區南科八路12號A室","Room A No.12, Nanke 8th Rd., Tainan Science-Based","Industrial Park, Taiwan 74147 R.O.C","Tel：886-6-5051888"]},{name:"睿生",employmentImgSrc:a("9d7c"),resigntaionImgSrc:a("8a35"),signImgSrc:a("2a79"),ChairmanEnglishName:"",addressText:["74144台南市新市區環西路二段2號B室","Rm. B, No. 2, Sec. 2, Huanxi Rd., Xinshi Dist.,","Tainan City 74144, Taiwan (R.O.C.)","Tel：886-6-7007238"]}],outputDataArr:[{PERNR:"02000002",DATE:Object(o["c"])(new Date),ENAME:"群創測試",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",ENDDA:"2020/06/30",GSBER:"00012",companyInfo:{}},{PERNR:"02000007",DATE:Object(o["c"])(new Date),ENAME:"睿生測試",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",ENDDA:"2020/07/30",GSBER:"0008",companyInfo:{}},{PERNR:"02000001",DATE:Object(o["c"])(new Date),ENAME:"群豐駿",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",ENDDA:"2020/05/30",GSBER:"0009",companyInfo:{}},{PERNR:"02000002",DATE:Object(o["c"])(new Date),ENAME:"測試11 CUXSG",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",ENDDA:"2020/12/30",GSBER:"0011",companyInfo:{}},{PERNR:"02000002",DATE:Object(o["c"])(new Date),ENAME:"測試10 CUXSG",ICNUM:"J100765765",GBDAT:"1957/01/09",STEXT:"竹科廠總務處",STEXT_TLINE:"HSIP Corporate Expansion Engineering Division",ZCOBJID:"高級工程師",ZCOBJID_TLINE:"Sr. Engineer",BEGDA:"2010/05/01",ENDDA:"2019/06/30",GSBER:"0010",companyInfo:{}}],submitForm:{REMARK:"11111111"},currentPage:1,totalPage:0,pageHeightList:[]}},mounted:function(){},created:function(){var t=this;this.totalPage=this.outputDataArr.length,this.outputDataArr.forEach((function(e,a){switch(e.GSBER){case"0008":t.outputDataArr[a].companyInfo=t.companyInfo[3];break;case"0009":t.outputDataArr[a].companyInfo=t.companyInfo[2];break;case"0010":case"0011":t.outputDataArr[a].companyInfo=t.companyInfo[0];break;default:t.outputDataArr[a].companyInfo=t.companyInfo[1];break}})),console.log("load form"),console.log(this.$store.getters.certificate),this.submitForm={REMARK:this.$store.getters.certificate.REMARK||"&nbsp;"},window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{print:function(){window.print()},switchPage:function(t){this.currentPage=t;var e="p"+t,a=-70,i=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset+a;window.scrollTo({top:i,behavior:"smooth"})},goToFirstPage:function(){this.switchPage(1)},goToLastPage:function(){this.switchPage(this.totalPage)},goToNextPage:function(){this.currentPage+1<=this.totalPage&&this.switchPage(this.currentPage+1)},goToPreviousPage:function(){this.currentPage>1&&this.switchPage(this.currentPage-1)},handleScroll:function(t){0===this.pageHeightList.length&&this.setEachPageHeight();var e=window.scrollY,a=this.pageHeightList.findIndex((function(t){return t>e}));this.currentPage=a},setEachPageHeight:function(){var t=0;this.pageHeightList.push(t);for(var e=0;e<this.outputDataArr.length;e++){var a=document.querySelector(".page:nth-child("+(e+1)+")").offsetHeight;t+=a,this.pageHeightList.push(t)}}}},n=l,r=(a("aaa0"),a("2877")),c=Object(r["a"])(n,i,s,!1,null,"f4f27eca",null);e["default"]=c.exports},"5e20":function(t,e,a){},"5ea7":function(t,e,a){},"5f87":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return r}));var i=a("4360");function s(){return i["a"].getters.token||0!==i["a"].getters.token.length?i["a"].getters.token:null}function o(t){return!0}function l(){return!0}function n(){return i["a"].getters.token_apim&&0!==i["a"].getters.token_apim.length?i["a"].getters.token_apim:""}function r(){return i["a"].getters.token_unlock||0!==i["a"].getters.token_unlock.length?i["a"].getters.token_unlock:null}},6191:function(t,e,a){},"61f7":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return n}));a("ac1f"),a("00b4"),a("498a"),a("d3b7"),a("4d63"),a("2c3e"),a("25f0");function i(t){return/^(https?:|mailto:|tel:)/.test(t)}function s(t){var e=["admin","editor"];return e.indexOf(t.trim())>=-1}function o(t){return"string"===typeof t||t instanceof String}function l(t){return"undefined"===typeof Array.isArray?"[object Array]"===Object.prototype.toString.call(t):Array.isArray(t)}function n(t,e){var a=null;try{var i="string"!==typeof t?t:new Date(t),s="string"!==typeof e?e:new Date(e);i>s&&(a={message:"結束時間不能小於開始時間",type:"error",duration:3e3})}catch(o){a={message:o,type:"error",duration:3e3}}return a}},"64df":function(t,e,a){"use strict";a("7046")},6599:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-excel",use:"icon-excel-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-excel"><path d="M78.208 16.576v8.384h38.72v5.376h-38.72v8.704h38.72v5.376h-38.72v8.576h38.72v5.376h-38.72v8.576h38.72v5.376h-38.72v8.576h38.72v5.376h-38.72v8.512h38.72v5.376h-38.72v11.136H128v-94.72H78.208zM0 114.368L72.128 128V0L0 13.632v100.736z" /><path d="M28.672 82.56h-11.2l14.784-23.488-14.08-22.592h11.52l8.192 14.976 8.448-14.976h11.136l-14.08 22.208L58.368 82.56H46.656l-8.768-15.68z" /></symbol>'});l.a.add(n);e["default"]=n},6683:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-guide",use:"icon-guide-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-guide"><path d="M1.482 70.131l36.204 16.18 69.932-65.485-61.38 70.594 46.435 18.735c1.119.425 2.397-.17 2.797-1.363v-.085L127.998.047 1.322 65.874c-1.12.597-1.519 1.959-1.04 3.151.32.511.72.937 1.2 1.107zm44.676 57.821L64.22 107.26l-18.062-7.834v28.527z" /></symbol>'});l.a.add(n);e["default"]=n},"6d1b":function(t,e,a){},7046:function(t,e,a){},"708a":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-star",use:"icon-star-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-star"><path d="M70.66 4.328l14.01 29.693c1.088 2.29 3.177 3.882 5.603 4.25l31.347 4.76c6.087.926 8.528 8.756 4.117 13.247L103.05 79.395c-1.75 1.78-2.544 4.352-2.132 6.867l5.352 32.641c1.043 6.337-5.33 11.182-10.778 8.19l-28.039-15.409a7.13 7.13 0 0 0-6.91 0l-28.039 15.41c-5.448 2.99-11.821-1.854-10.777-8.19l5.352-32.642c.415-2.515-.387-5.088-2.136-6.867L2.264 56.278C-2.146 51.787.286 43.957 6.38 43.031l31.343-4.76c2.419-.368 4.51-1.96 5.595-4.25L57.334 4.328c2.728-5.77 10.605-5.77 13.325 0z" /></symbol>'});l.a.add(n);e["default"]=n},"708f":function(t,e,a){t.exports=a.p+"static/img/群豐駿簽名檔.b74e1dd0.jpg"},7214:function(t,e,a){},7463:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("在職證明")])]),e("div",{attrs:{id:"print"}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"85px"}},[e("div",{staticClass:"dialog"},[e("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("選擇準則")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"員工號碼",prop:"PERNR"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERNR,callback:function(e){t.$set(t.dataForm,"PERNR",e)},expression:"dataForm.PERNR"}})],1),e("el-form-item",{attrs:{label:"雇用狀態",prop:"STAT2"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.STAT2,callback:function(e){t.$set(t.dataForm,"STAT2",e)},expression:"dataForm.STAT2"}})],1)],1),e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"人事範圍",prop:"PERSA"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERSA,callback:function(e){t.$set(t.dataForm,"PERSA",e)},expression:"dataForm.PERSA"}})],1),e("el-form-item",{attrs:{label:"人事子範圍",prop:"BTRTL"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.BTRTL,callback:function(e){t.$set(t.dataForm,"BTRTL",e)},expression:"dataForm.BTRTL"}})],1)],1),e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"員工群組",prop:"PERSG"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERSG,callback:function(e){t.$set(t.dataForm,"PERSG",e)},expression:"dataForm.PERSG"}})],1),e("el-form-item",{attrs:{label:"員工子群組",prop:"PERSK"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERSK,callback:function(e){t.$set(t.dataForm,"PERSK",e)},expression:"dataForm.PERSK"}})],1)],1),e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"業務範圍",prop:"GSBER"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.GSBER,callback:function(e){t.$set(t.dataForm,"GSBER",e)},expression:"dataForm.GSBER"}})],1),e("el-form-item",{attrs:{label:"組織單位",prop:"ORGTX"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.ORGTX,callback:function(e){t.$set(t.dataForm,"ORGTX",e)},expression:"dataForm.ORGTX"}})],1)],1)],1)],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("選取條件")])]),e("el-row",[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"到職日",prop:"employmentDateRange"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","unlink-panels":"",format:"yyyy/MM/dd","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期","picker-options":t.pickerOptions},model:{value:t.employmentDateRange,callback:function(e){t.employmentDateRange=e},expression:"employmentDateRange"}})],1)],1)],1)],2),e("el-collapse-item",{attrs:{name:"3"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("列印資訊(通訊、申請原因)")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"申請原因",prop:"REASON"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇"},model:{value:t.dataForm.REASON,callback:function(e){t.$set(t.dataForm,"REASON",e)},expression:"dataForm.REASON"}},t._l(t.zhrtom006Options,(function(t){return e("el-option",{key:t.short,attrs:{label:t.stext,value:t.short}})})),1)],1),e("el-form-item",{attrs:{label:"Remark",prop:"REMARK"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.REMARK,callback:function(e){t.$set(t.dataForm,"REMARK",e)},expression:"dataForm.REMARK"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"表單編號",prop:"FORMNUMBER"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.FORMNUMBER,callback:function(e){t.$set(t.dataForm,"FORMNUMBER",e)},expression:"dataForm.FORMNUMBER"}})],1)],1)],1)],2)],1)],1)]),e("span",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("提交表單")])],1)],1)])],1)},s=[],o=a("c7eb"),l=a("1da1"),n=(a("7db0"),a("d3b7"),a("5c96")),r=a("9af8"),c=a("0c47"),d={name:"CertificadeOfEmployment",directives:{print:print},data:function(){return{pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"最近一週",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一個月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近一季",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}},{text:"最近一年",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-31536e6),t.$emit("pick",[a,e])}}]},dataForm:{PERNR:"",STAT2:"",PERSA:"",BTRTL:"",PERSG:"",PERSK:"",GSBER:"",ORGTX:"",EMPLOYMENT_BEGDA:"",EMPLOYMENT_ENDDA:"",REASON:"",REMARK:"",FORMNUMBER:"",REASON_TEXT:""},rules:{PERNR:[{required:!1,len:8}],STAT2:[{required:!1,len:1}],PERSA:[{required:!1,len:4}],BTRTL:[{required:!1,len:4}],PERSG:[{required:!1,len:1}],PERSK:[{required:!1,len:2}],GSBER:[{required:!1,len:4}],ORGTX:[{required:!1,len:4}],REASON:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],REMARK:[{required:!1,max:150,message:"此欄位長度限制為150",trigger:"blur"}],FORMNUMBER:[{required:!1,max:90,message:"此欄位長度限制為150",trigger:"blur"}]},begda:"2000-1-1",endda:"9999-12-31",isLoading:!0,employmentDateRange:[],zhrtom006Options:[],activeNames:["1","2","3"]}},computed:{},watch:{employmentDateRange:{handler:function(t,e){this.dataForm.EMPLOYMENT_BEGDA=t[0],this.dataForm.EMPLOYMENT_ENDDA=t[1]}},"dataForm.REASON":function(){var t=this,e=this.zhrtom006Options.find((function(e){return e.short===t.dataForm.REASON}));this.dataForm.REASON_TEXT=e.stext}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("submit"),""===t.dataForm.PERNR&&""===t.dataForm.STAT2&&""===t.dataForm.PERSA&&""===t.dataForm.BTRTL&&""===t.dataForm.PERSG&&""===t.dataForm.PERSK&&""===t.dataForm.GSBER&&!t.dataForm.ORGTX||""===t.dataForm.REASON?Object(n["Message"])({message:"請填寫欄位",type:"error",duration:3e3}):(t.$store.dispatch("certificate/updateForm",t.dataForm),t.$router.push("/outputCE"));case 2:case"end":return e.stop()}}),e)})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(c["g"])(this.dataForm,[],["number"])},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["h"])("ZHRTOM006","Dtype","08");case 2:a=e.sent,console.log({tmp:a}),t.zhrtom006Options=a.data;case 5:case"end":return e.stop()}}),e)})))()},forceUpdate:function(){this.$forceUpdate()},test:function(){document.body.style.height="80%";var t=document.getElementById("print").innerHTML,e=document.createElement("iframe");e.setAttribute("style","position:absolute;width:0px;height:0px;left:-500px;top:-500px;"),document.body.appendChild(e),e.contentDocument.write(t),e.contentDocument.close(),e.contentWindow.print(),document.body.removeChild(e),document.body.style.height="100%"}}},u=d,p=(a("fc5ef"),a("2877")),m=Object(p["a"])(u,i,s,!1,null,"0af7635a",null);e["default"]=m.exports},7509:function(t,e,a){"use strict";a.r(e);var i=a("2909"),s=a("3835"),o=a("b85c"),l=(a("d3b7"),a("caad"),a("2532"),a("b0c0"),a("ddb0"),a("a434"),a("4de4"),a("fb6a"),{visitedViews:[],cachedViews:[]}),n={ADD_VISITED_VIEW:function(t,e){t.visitedViews.some((function(t){return t.path===e.path}))||t.visitedViews.push(Object.assign({},e,{title:e.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(t,e){t.cachedViews.includes(e.name)||e.meta.noCache||t.cachedViews.push(e.name)},DEL_VISITED_VIEW:function(t,e){var a,i=Object(o["a"])(t.visitedViews.entries());try{for(i.s();!(a=i.n()).done;){var l=Object(s["a"])(a.value,2),n=l[0],r=l[1];if(r.path===e.path){t.visitedViews.splice(n,1);break}}}catch(c){i.e(c)}finally{i.f()}},DEL_CACHED_VIEW:function(t,e){var a=t.cachedViews.indexOf(e.name);a>-1&&t.cachedViews.splice(a,1)},DEL_OTHERS_VISITED_VIEWS:function(t,e){t.visitedViews=t.visitedViews.filter((function(t){return t.meta.affix||t.path===e.path}))},DEL_OTHERS_CACHED_VIEWS:function(t,e){var a=t.cachedViews.indexOf(e.name);t.cachedViews=a>-1?t.cachedViews.slice(a,a+1):[]},DEL_ALL_VISITED_VIEWS:function(t){var e=t.visitedViews.filter((function(t){return t.meta.affix}));t.visitedViews=e},DEL_ALL_CACHED_VIEWS:function(t){t.cachedViews=[]},UPDATE_VISITED_VIEW:function(t,e){var a,i=Object(o["a"])(t.visitedViews);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.path===e.path){s=Object.assign(s,e);break}}}catch(l){i.e(l)}finally{i.f()}}},r={addView:function(t,e){var a=t.dispatch;a("addVisitedView",e),a("addCachedView",e)},addVisitedView:function(t,e){var a=t.commit;a("ADD_VISITED_VIEW",e)},addCachedView:function(t,e){var a=t.commit;a("ADD_CACHED_VIEW",e)},delView:function(t,e){var a=t.dispatch,s=t.state;return new Promise((function(t){a("delVisitedView",e),a("delCachedView",e),t({visitedViews:Object(i["a"])(s.visitedViews),cachedViews:Object(i["a"])(s.cachedViews)})}))},delVisitedView:function(t,e){var a=t.commit,s=t.state;return new Promise((function(t){a("DEL_VISITED_VIEW",e),t(Object(i["a"])(s.visitedViews))}))},delCachedView:function(t,e){var a=t.commit,s=t.state;return new Promise((function(t){a("DEL_CACHED_VIEW",e),t(Object(i["a"])(s.cachedViews))}))},delOthersViews:function(t,e){var a=t.dispatch,s=t.state;return new Promise((function(t){a("delOthersVisitedViews",e),a("delOthersCachedViews",e),t({visitedViews:Object(i["a"])(s.visitedViews),cachedViews:Object(i["a"])(s.cachedViews)})}))},delOthersVisitedViews:function(t,e){var a=t.commit,s=t.state;return new Promise((function(t){a("DEL_OTHERS_VISITED_VIEWS",e),t(Object(i["a"])(s.visitedViews))}))},delOthersCachedViews:function(t,e){var a=t.commit,s=t.state;return new Promise((function(t){a("DEL_OTHERS_CACHED_VIEWS",e),t(Object(i["a"])(s.cachedViews))}))},delAllViews:function(t,e){var a=t.dispatch,s=t.state;return new Promise((function(t){a("delAllVisitedViews",e),a("delAllCachedViews",e),t({visitedViews:Object(i["a"])(s.visitedViews),cachedViews:Object(i["a"])(s.cachedViews)})}))},delAllVisitedViews:function(t){var e=t.commit,a=t.state;return new Promise((function(t){e("DEL_ALL_VISITED_VIEWS"),t(Object(i["a"])(a.visitedViews))}))},delAllCachedViews:function(t){var e=t.commit,a=t.state;return new Promise((function(t){e("DEL_ALL_CACHED_VIEWS"),t(Object(i["a"])(a.cachedViews))}))},updateVisitedView:function(t,e){var a=t.commit;a("UPDATE_VISITED_VIEW",e)}};e["default"]={namespaced:!0,state:l,mutations:n,actions:r}},"7a57":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("任用")])]),e("el-form",[e("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("批次上傳檔案 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 適用300筆以下資料 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"fileName",ref:"fileName",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"批次雇用人員檔案"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1)]),e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("a",{attrs:{href:"@/../downlaod/batch/employ_change_sample.xlsx",download:""}},[e("el-button",{attrs:{type:"info",icon:"el-icon-download",size:"small"}},[e("span",{staticClass:"addBtn"},[t._v("範本")])])],1)])],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("upload-excel-component",{ref:"uploadExcelComponent",attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload},on:{fileName:t.getFileName}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.excelTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.excelSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("Interface執行 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 台灣端招募系統適用 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticClass:"employ-bar"},[e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用開始日期",format:"yyyy-MM-dd"},model:{value:t.interFace.begda,callback:function(e){t.$set(t.interFace,"begda",e)},expression:"interFace.begda"}})],1)],1),e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用結束日期",format:"yyyy-MM-dd"},model:{value:t.interFace.endda,callback:function(e){t.$set(t.interFace,"endda",e)},expression:"interFace.endda"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"u_site",ref:"u_site",staticStyle:{width:"100%"},attrs:{placeholder:"資料歸屬場區"},model:{value:t.interFace.u_site,callback:function(e){t.$set(t.interFace,"u_site",e)},expression:"interFace.u_site"}})],1)],1)]),e("div",{},[e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.interfaceTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.interfaceSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])])],2)],1)],1)],1),e("div",[t.formatList?e("format-msg-list",{attrs:{"employ-data":t.employData}}):t._e()],1),e("div",[t.dbList?e("db-msg-list",{attrs:{"db-data":t.dbData}}):t._e()],1)],1)},s=[],o=a("c7eb"),l=a("1da1"),n=(a("3ca3"),a("ddb0"),a("ac1f"),a("00b4"),a("5319"),a("5c96")),r=a("0c47"),c=a("3796"),d=a("9af8"),u=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.employData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"posno",label:"記錄流水號",width:"100"}}),e("el-table-column",{attrs:{prop:"begda",label:"CMI聘僱日",width:"100"}}),e("el-table-column",{attrs:{prop:"orgeh",label:"部門物件ID",width:"100"}}),e("el-table-column",{attrs:{prop:"stell",label:"職稱物件ID",width:"100"}}),e("el-table-column",{attrs:{prop:"pernr",label:"員工工號",width:"100"}}),e("el-table-column",{attrs:{label:"姓名",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nachn)+t._s(e.row.vorna)+" ")]}}])}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"process_message",label:"處理訊息"}})],1)],1)])],1)},p=[],m={name:"PAEmployFormatMsgList",props:{employData:{type:Array,default:function(){return[]}}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<6){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},b=m,h=a("2877"),f=Object(h["a"])(b,u,p,!1,null,null,null),g=f.exports,D=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dbData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"posno",label:"記錄流水號",width:"100"}}),e("el-table-column",{attrs:{prop:"begda",label:"CMI聘僱日",width:"100"}}),e("el-table-column",{attrs:{prop:"orgeh",label:"部門物件ID",width:"100"}}),e("el-table-column",{attrs:{prop:"stell",label:"職稱物件ID",width:"100"}}),e("el-table-column",{attrs:{prop:"sobjid",label:"職位物件ID",width:"100"}}),e("el-table-column",{attrs:{prop:"pernr",label:"員工工號",width:"100"}}),e("el-table-column",{attrs:{label:"姓名",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nachn)+t._s(e.row.vorna)+" ")]}}])}),e("el-table-column",{attrs:{prop:"process_status",label:"處理狀態",width:"100"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"process_message",label:"處理訊息"}})],1)],1)])],1)},y=[],v={name:"PAEmployDbMsgList",props:{dbData:{type:Array,default:function(){return[]}}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<7){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},O=v,F=Object(h["a"])(O,D,y,!1,null,null,null),S=F.exports,E=1048576,A={name:"PAEmploy",components:{UploadExcelComponent:c["a"],FormatMsgList:g,DbMsgList:S},data:function(){return{interFace:{begda:new Date,endda:new Date(9999,11,31),u_site:""},activeNames:["1"],fileName:"",tableData:[],data:{},employData:[],dbData:[],excelData:[],check_only:"",formatList:!1,dbList:!1}},methods:{getFileName:function(){this.fileName=this.$refs.uploadExcelComponent.fileName},beforeUpload:function(t){var e=t.size<E;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results;this.tableData=e},excelTest:function(){this.check_only="test",this.excelBatchCreate()},excelSubmit:function(){this.check_only="submit",this.excelBatchCreate()},interfaceTest:function(){this.check_only="test",this.interfaceBatchCreate()},interfaceSubmit:function(){this.check_only="submit",this.interfaceBatchCreate()},excelBatchCreate:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.fileName){e.next=3;break}return Object(n["Message"])({message:"請上傳檔案 !",type:"error",duration:3e3}),e.abrupt("return");case 3:t.data={},t.employData=[],a=0;case 6:if(!(a<t.tableData.length)){e.next=90;break}if(void 0!==t.tableData[a].記錄流水號){e.next=9;break}return e.abrupt("continue",87);case 9:t.data.posno=t.tableData[a].記錄流水號,t.data.begda=t.tableData[a].CMI聘僱日,t.data.sshort=t.tableData[a].稱位短名,t.data.sstext=t.tableData[a].職位長名,t.data.orgeh=t.tableData[a].部門物件ID,t.data.stell=t.tableData[a].職稱物件ID,t.data.zjobcode1=t.tableData[a].職務,t.data.zjobcode2=t.tableData[a].職程,t.data.zjobcode3=t.tableData[a].系統,t.data.zjobcode4=t.tableData[a].職系,t.data.zjobcode5=t.tableData[a].職類,t.data.gsber=t.tableData[a].業務範圍,t.data.pernr=t.tableData[a].員工工號,t.data.rfpnr=t.tableData[a].參考員工號,t.data.werks=t.tableData[a].人事範圍,t.data.btrtl=t.tableData[a].人事子範圍,t.data.persg=t.tableData[a].員工群組,t.data.persk=t.tableData[a].員工子群組,t.data.abkrs=t.tableData[a].薪資範圍,t.data.zgrade1=t.tableData[a].職等,t.data.ansvh=t.tableData[a].工作契約,t.data.zlbsup=t.tableData[a]["廠商/關係企業"],t.data.nachn=t.tableData[a].姓,t.data.vorna=t.tableData[a].名,t.data.gesch=t.tableData[a].性別,t.data.gbdat=t.tableData[a].出生日期,t.data.natio=t.tableData[a].國籍,t.data.gblnd=t.tableData[a]["出生國家(籍貫)"],t.data.gbdep=t.tableData[a]["區域(籍貫)"],t.data.gbort=t.tableData[a].出生地點,t.data.famst=t.tableData[a].婚姻狀態,t.data.zdoor=t.tableData[a].CMO識別證門組,t.data.zbadge=t.tableData[a].CMO識別證內碼,t.data.baspay=t.tableData[a].本俸金額,t.data.licat=t.tableData[a].勞保級距,t.data.nhica=t.tableData[a].健保級距,t.data.npcls=t.tableData[a].勞退級距,t.data.usrid_0005=t.tableData[a].通訊電話,t.data.usrid_0006=t.tableData[a].行動電話,t.data.usrid_0007=t.tableData[a].私人電子郵件,t.data.icnum_01=t.tableData[a].台灣ID,t.data.icnum_07=t.tableData[a].中國大陸ID,t.data.icnum_02=t.tableData[a].外國人居留證號,t.data.expid_02=t.tableData[a].外國人居留證有效日,t.data.icnum_03=t.tableData[a].護照,t.data.expid_03=t.tableData[a].護照有效日,t.data.alnam_1=t.tableData[a].台灣人英文名,t.data.alnam_2=t.tableData[a]["IC/護照(護照名)"],t.data.pstlz_1=t.tableData[a].戶籍地址郵遞區號,t.data.land1_1=t.tableData[a].戶籍地址國家,t.data.stras_1=t.tableData[a].戶籍地址完整地址,t.data.pstlz_2=t.tableData[a].通訊地址郵遞區號,t.data.land1_2=t.tableData[a].通訊地址國家,t.data.stras_2=t.tableData[a].通訊地址完整地址,t.data.zprof=t.tableData[a].職前專業年資,t.data.wdart=t.tableData[a].兵役類型,t.data.wdartbegda=t.tableData[a].兵役起始日,t.data.wdartendda=t.tableData[a].兵役終止日,t.data.wausw=t.tableData[a]["舊公司別(INL/CMO/TPO)"],t.data.rufnm=t.tableData[a].舊工號,t.data.zjuper=t.tableData[a].法人,t.data.zname0009=t.tableData[a].第一緊急連絡人姓名,t.data.zrela0009=t.tableData[a].第一緊急連絡人關係,t.data.zmobi0009=t.tableData[a].第一緊急連絡人手機,t.data.ztel_home9=t.tableData[a].第一緊急連絡人家裡電話,t.data.ztel_comp9=t.tableData[a].第一緊急連絡人公司電話,t.data.icnum_99=t.tableData[a].其他國家ID,t.data.idcot_99=t.tableData[a].其他國家ID_核發國家,t.data.zctg=t.tableData[a].折算職等年資,t.data.znoncmo=t.tableData[a].職前工作年資,t.data.ctedt=t.tableData[a].外勞契約結束日期,t.data.dat_z8=t.tableData[a].外勞入境日,t.data.esfca=t.tableData[a].就業安定費類別,t.data.entda=t.tableData[a].進入TW日期,t.checkFormat(),t.excelData[a]=Object.assign({},t.data),console.log("excelData",t.excelData),t.excelData[a].batch_item=0;case 87:a++,e.next=6;break;case 90:if(0!==t.employData.length){e.next=92;break}return e.delegateYield(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.formatList=!1,t.dbList=!0,t.dbData=[],a={},a.batch_id="",a.aedtm="",a.uname="",a.pageguid="",a.allow_wait=!1,"test"===t.check_only&&(a.check_only=!0),"submit"===t.check_only&&(a.check_only=!1),a.source_type="EXCEL",a.data=[],i=0;case 14:if(!(i<t.excelData.length)){e.next=23;break}return a.data[0]=t.excelData[i],e.next=18,Object(d["f"])().then((function(t){a.batch_id=t.data})).catch((function(t){console.log(t)}));case 18:return e.next=20,Object(d["b"])(a).then((function(e){console.log("body",a);var i=e.data;console.log("response.data",e.data);var s=[];s=i[0].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)s[o].posno=a.data[0].posno,s[o].begda=a.data[0].begda,s[o].orgeh=a.data[0].orgeh,s[o].stell=a.data[0].stell,s[o].nachn=a.data[0].nachn,s[o].vorna=a.data[0].vorna,s[o].pernr=i[0].output.out_pernr,s[o].sobjid=i[0].output.out_sobjid,t.dbData.push(s[o]);console.log("this.dbData",t.dbData)})).catch((function(t){console.log(t)}));case 20:i++,e.next=14;break;case 23:case"end":return e.stop()}}),e)}))(),"t0",92);case 92:0!==t.employData.length&&(console.log("employData",t.employData),t.dbList=!1,t.formatList=!0);case 93:case"end":return e.stop()}}),e)})))()},interfaceBatchCreate:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.interFace.begda&&t.interFace.endda){e.next=3;break}return Object(n["Message"])({message:"請輸入開始及結束日期 !",type:"error",duration:3e3}),e.abrupt("return");case 3:if(a={},t.data={},t.employData=[],!(t.interFace.endda<t.interFace.begda)){e.next=11;break}return Object(n["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}),e.abrupt("return");case 11:a.begda=Object(r["c"])(t.interFace.begda),a.endda=Object(r["c"])(t.interFace.endda);case 13:return a.u_site=t.interFace.u_site,a.aedtm="",a.uname="",a.pageguid="",e.next=19,Object(d["o"])(a).then((function(e){for(var a=0;a<e.data.length;a++)t.data=e.data[a],t.checkFormat(),t.excelData[a]=Object.assign({},t.data),t.excelData[a].batch_item=0})).catch((function(t){console.log(t)}));case 19:if(0!==t.employData.length){e.next=21;break}return e.delegateYield(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.formatList=!1,t.dbList=!0,t.dbData=[],a={},a.batch_id="",a.aedtm="",a.uname="",a.pageguid="",a.allow_wait=!1,"test"===t.check_only&&(a.check_only=!0),"submit"===t.check_only&&(a.check_only=!1),a.source_type="RMS_TW_DB",a.data=[],i=0;case 14:if(!(i<t.excelData.length)){e.next=23;break}return a.data[0]=t.excelData[i],e.next=18,Object(d["f"])().then((function(t){a.batch_id=t.data.data})).catch((function(t){console.log(t)}));case 18:return e.next=20,Object(d["b"])(a).then((function(e){var i=e.data,s=[];s=i[0].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)s[o].posno=a.data[0].posno,s[o].begda=a.data[0].begda,s[o].orgeh=a.data[0].orgeh,s[o].stell=a.data[0].stell,s[o].nachn=a.data[0].nachn,s[o].vorna=a.data[0].vorna,s[o].pernr=i[0].output.out_pernr,s[o].sobjid=i[0].output.out_sobjid,t.dbData.push(s[o])})).catch((function(t){console.log(t)}));case 20:i++,e.next=14;break;case 23:case"end":return e.stop()}}),e)}))(),"t0",21);case 21:0!==t.employData.length&&(t.dbList=!1,t.formatList=!0);case 22:case"end":return e.stop()}}),e)})))()},checkFormat:function(){var t,e=this,a=0,i=function(i,s){var o=Object.assign({},e.data);void 0===t&&(t=o),o.process_name=i,o.process_message=s,e.employData.push(o),a++},s=/^(\d{4})[/](\d{2})[/](\d{2})$/,o=/^(\d{4})[-](\d{2})[-](\d{2})$/;void 0!==this.data.posno&&""!==this.data.posno&&(void 0===this.data.begda||""===this.data.begda?i("CMI聘僱日","不可為空"):s.test(this.data.begda)||o.test(this.data.begda)?this.data.begda=this.data.begda.replace(s,"$1-$2-$3"):i("CMI聘僱日","需為日期格式"),void 0!==this.data.orgeh&&""!==this.data.orgeh||i("部門物件ID","不可為空"),void 0!==this.data.stell&&""!==this.data.stell||i("職稱物件ID","不可為空"),void 0!==this.data.zjobcode1&&""!==this.data.zjobcode1||i("職務","不可為空"),void 0!==this.data.werks&&""!==this.data.werks||i("人事範圍","不可為空"),void 0!==this.data.persg&&""!==this.data.persg||i("員工群組","不可為空"),void 0!==this.data.persk&&""!==this.data.persk||i("員工子群組","不可為空"),void 0!==this.data.nachn&&""!==this.data.nachn||i("姓","不可為空"),void 0!==this.data.vorna&&""!==this.data.vorna||i("名","不可為空"),void 0!==this.data.gesch&&""!==this.data.gesch&&"1"!==this.data.gesch&&"2"!==this.data.gesch&&i("性別","需為1或2"),void 0===this.data.gbdat||""===this.data.gbdat?i("出生日期","不可為空"):s.test(this.data.gbdat)||o.test(this.data.gbdat)?this.data.gbdat=this.data.gbdat.replace(s,"$1-$2-$3"):i("出生日期","需為日期格式"),new Date(this.data.gbdat)>new Date(this.data.begda)&&i("出生日期","不可大於雇用日期"),"TW"!==this.data.natio||void 0!==this.data.icnum_01&&""!==this.data.icnum_01||i("台灣ID","本國籍,身份証字號為必填欄位"),void 0!==this.data.expid_02&&""!==this.data.expid_02&&(s.test(this.data.expid_02)||o.test(this.data.expid_02)?this.data.expid_02=this.data.expid_02.replace(s,"$1-$2-$3"):i("外國人居留證有效日","需為日期格式")),void 0!==this.data.expid_03&&""!==this.data.expid_03&&(s.test(this.data.expid_03)||o.test(this.data.expid_03)?this.data.expid_03=this.data.expid_03.replace(s,"$1-$2-$3"):i("護照有效日","需為日期格式")),"TW"===this.data.natio||void 0!==this.data.alnam_2&&""!==this.data.alnam_2||i("IC/護照(護照名)","非本國籍人員,IC/護照名為必填欄位"),void 0!==this.data.wdartbegda&&""!==this.data.wdartbegda&&(s.test(this.data.wdartbegda)||o.test(this.data.wdartbegda)?this.data.wdartbegda=this.data.wdartbegda.replace(s,"$1-$2-$3"):i("兵役起始日","需為日期格式")),void 0!==this.data.wdartendda&&""!==this.data.wdartendda&&(s.test(this.data.wdartendda)||o.test(this.data.wdartendda)?this.data.wdartendda=this.data.wdartendda.replace(s,"$1-$2-$3"):i("兵役終止日","需為日期格式")),void 0!==this.data.ctedt&&""!==this.data.ctedt&&(s.test(this.data.ctedt)||o.test(this.data.ctedt)?this.data.ctedt=this.data.ctedt.replace(s,"$1-$2-$3"):i("外勞契約結束日期","需為日期格式")),void 0!==this.data.dat_z8&&""!==this.data.dat_z8&&(s.test(this.data.dat_z8)||o.test(this.data.dat_z8)?this.data.dat_z8=this.data.dat_z8.replace(s,"$1-$2-$3"):i("外勞入境日","需為日期格式")),void 0!==this.data.entda&&""!==this.data.entda&&(s.test(this.data.entda)||o.test(this.data.entda)?this.data.entda=this.data.entda.replace(s,"$1-$2-$3"):i("進入TW日期","需為日期格式")),new Date(this.data.dat_z8)>new Date(this.data.entda)&&i("外勞入境日","不可小於進入TW日期"),void 0!==t&&(t.rowspan=a))}}},w=A,T=Object(h["a"])(w,i,s,!1,null,"f0b5a66a",null);e["default"]=T.exports},"7aed":function(t,e,a){},"7e55":function(t,e,a){},"807c":function(t,e,a){"use strict";a("6191")},"80da":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-wechat",use:"icon-wechat-usage",viewBox:"0 0 128 110",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 110" id="icon-wechat"><path d="M86.635 33.334c1.467 0 2.917.113 4.358.283C87.078 14.392 67.58.111 45.321.111 20.44.111.055 17.987.055 40.687c0 13.104 6.781 23.863 18.115 32.209l-4.527 14.352 15.82-8.364c5.666 1.182 10.207 2.395 15.858 2.395 1.42 0 2.829-.073 4.227-.189-.886-3.19-1.398-6.53-1.398-9.996 0-20.845 16.98-37.76 38.485-37.76zm-24.34-12.936c3.407 0 5.665 2.363 5.665 5.954 0 3.576-2.258 5.97-5.666 5.97-3.392 0-6.795-2.395-6.795-5.97 0-3.591 3.403-5.954 6.795-5.954zM30.616 32.323c-3.393 0-6.818-2.395-6.818-5.971 0-3.591 3.425-5.954 6.818-5.954 3.392 0 5.65 2.363 5.65 5.954 0 3.576-2.258 5.97-5.65 5.97z" /><path d="M127.945 70.52c0-19.075-18.108-34.623-38.448-34.623-21.537 0-38.5 15.548-38.5 34.623 0 19.108 16.963 34.622 38.5 34.622 4.508 0 9.058-1.2 13.584-2.395l12.414 7.167-3.404-11.923c9.087-7.184 15.854-16.712 15.854-27.471zm-50.928-5.97c-2.254 0-4.53-2.362-4.53-4.773 0-2.378 2.276-4.771 4.53-4.771 3.422 0 5.665 2.393 5.665 4.771 0 2.41-2.243 4.773-5.665 4.773zm24.897 0c-2.24 0-4.498-2.362-4.498-4.773 0-2.378 2.258-4.771 4.498-4.771 3.392 0 5.665 2.393 5.665 4.771 0 2.41-2.273 4.773-5.665 4.773z" /></symbol>'});l.a.add(n);e["default"]=n},"817d9":function(t,e,a){"use strict";a("b237")},"82c4":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-schedule_calendar",use:"icon-schedule_calendar-usage",viewBox:"0 0 22.156 22.156",content:'<symbol viewBox="0 0 22.156 22.156" xmlns="http://www.w3.org/2000/svg" id="icon-schedule_calendar"><g data-name="Layer 2" id="icon-schedule_calendar_Layer_2"><g data-name="Layer 1" id="icon-schedule_calendar_Layer_1-2"><path d="M22.156,2.573A1.68,1.68,0,0,0,20.478.9H19.22C19.2.612,19.336,0,18.884,0s-.318.613-.336.9H16.064c-.018-.283.117-.9-.336-.895s-.317.613-.335.9H12.908C12.89.612,13.025,0,12.572,0s-.317.613-.335.9H9.753C9.735.612,9.87,0,9.417,0S9.1.613,9.081.9H6.6C6.58.612,6.714,0,6.262,0s-.318.613-.336.9H3.442C3.424.612,3.559,0,3.106,0S2.788.613,2.77.9H1.679A1.68,1.68,0,0,0,0,2.573v17.9a1.681,1.681,0,0,0,1.679,1.679h18.8a1.68,1.68,0,0,0,1.678-1.679Zm-21.484,0A1.008,1.008,0,0,1,1.679,1.566H2.77c.019.283-.117.9.336.9s.318-.614.336-.9H5.926c.018.283-.117.9.336.9s.318-.614.336-.9H9.081c.018.283-.117.9.336.9s.318-.614.336-.9h2.484c.018.283-.117.9.336.9s.317-.614.335-.9h2.485c.018.283-.117.9.335.9s.318-.614.336-.9h2.484c.019.283-.117.9.336.9s.318-.614.336-.9h1.258a1.008,1.008,0,0,1,1.007,1.007V3.581H.672Zm20.813,17.9a1.008,1.008,0,0,1-1.007,1.007H1.679A1.008,1.008,0,0,1,.672,20.477V4.252H21.485ZM11.079,12.2a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,11.079,12.2Zm0-2.015a.672.672,0,0,1,0,1.344A.672.672,0,0,1,11.079,10.182ZM7.05,12.2a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,7.05,12.2Zm0-2.015a.672.672,0,0,1,0,1.344A.672.672,0,0,1,7.05,10.182ZM3.021,12.2a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,3.021,12.2Zm0-2.015a.672.672,0,0,1,0,1.344A.672.672,0,0,1,3.021,10.182ZM19.136,12.2a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,19.136,12.2Zm0-2.015a.672.672,0,0,1,0,1.344A.672.672,0,0,1,19.136,10.182ZM15.107,12.2a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,15.107,12.2Zm0-2.015a.672.672,0,0,1,0,1.344A.672.672,0,0,1,15.107,10.182Zm4.029-2.014a1.343,1.343,0,0,0,0-2.685A1.343,1.343,0,0,0,19.136,8.168Zm0-2.014a.672.672,0,0,1,0,1.343A.672.672,0,0,1,19.136,6.154ZM15.107,8.168a1.343,1.343,0,0,0,0-2.685A1.343,1.343,0,0,0,15.107,8.168Zm0-2.014a.672.672,0,0,1,0,1.343A.672.672,0,0,1,15.107,6.154ZM11.079,16.226a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,11.079,16.226Zm0-2.014a.671.671,0,0,1,0,1.342A.671.671,0,0,1,11.079,14.212ZM7.05,16.226a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,7.05,16.226Zm0-2.014a.671.671,0,0,1,0,1.342A.671.671,0,0,1,7.05,14.212ZM3.021,16.226a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,3.021,16.226Zm0-2.014a.671.671,0,0,1,0,1.342A.671.671,0,0,1,3.021,14.212Zm16.115,2.014a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,19.136,16.226Zm0-2.014a.671.671,0,0,1,0,1.342A.671.671,0,0,1,19.136,14.212Zm-4.029,2.014a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,15.107,16.226Zm0-2.014a.671.671,0,0,1,0,1.342A.671.671,0,0,1,15.107,14.212Zm-4.028,6.043a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,11.079,20.255Zm0-2.015a.672.672,0,0,1,0,1.343A.672.672,0,0,1,11.079,18.24ZM7.05,20.255a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,7.05,20.255Zm0-2.015a.672.672,0,0,1,0,1.343A.672.672,0,0,1,7.05,18.24ZM3.021,20.255a1.343,1.343,0,0,0,0-2.686A1.343,1.343,0,0,0,3.021,20.255Zm0-2.015a.672.672,0,0,1,0,1.343A.672.672,0,0,1,3.021,18.24Z" data-name="check in check out date" id="icon-schedule_calendar_check_in_check_out_date" /></g></g></symbol>'});l.a.add(n);e["default"]=n},"83d6":function(t,e){t.exports={title:"InnoHCM",showSettings:!1,tagsView:!0,fixedHeader:!1,sidebarLogo:!0,errorLog:"production"}},8644:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-size",use:"icon-size-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-size"><path d="M0 54.857h54.796v18.286H36.531V128H18.265V73.143H0V54.857zm127.857-36.571H91.935V128H72.456V18.286H36.534V0h91.326l-.003 18.286z" /></symbol>'});l.a.add(n);e["default"]=n},"893d":function(t,e,a){t.exports=a.p+"static/img/群創在職logo.11fbe289.jpg"},"89a2":function(t,e,a){"use strict";a("1ef6")},"89f5":function(t,e,a){"use strict";a("8b67")},"8a35":function(t,e,a){t.exports=a.p+"static/img/睿生離職logo.53ecf761.jpg"},"8aa6":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-zip",use:"icon-zip-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-zip"><path d="M78.527 116.793c.178.008.348.024.527.024h40.233c4.711-.005 8.53-3.677 8.534-8.21V18.895c-.004-4.532-3.823-8.204-8.534-8.209H79.054c-.179 0-.353.016-.527.024V0L0 10.082v107.406l78.527 10.342v-11.037zm0-101.362c.174-.024.348-.052.527-.052h40.233c2.018 0 3.659 1.578 3.659 3.52v89.713c-.003 1.942-1.64 3.517-3.659 3.519H79.054c-.179 0-.353-.028-.527-.052V15.431zM30.262 75.757l-18.721-.46V72.37l11.3-16.673v-.148l-10.266.164v-4.51l17.504-.44v3.264L18.696 70.76v.144l11.566.176v4.678zm9.419.231l-5.823-.144V50.671l5.823-.144v25.461zm22.255-11.632c-2.168 1.922-5.353 2.76-9.02 2.736-.702.004-1.402-.04-2.097-.131v9.303l-5.997-.148V50.743c1.852-.352 4.473-.647 8.218-.743 3.838-.096 6.608.539 8.48 1.913 1.807 1.306 3.032 3.5 3.032 6.112s-.926 4.833-2.612 6.331h-.004zM53.36 54.45c-.856-.01-1.71.083-2.541.275v7.682c.523.116 1.167.152 2.06.152 3.301-.004 5.36-1.614 5.36-4.314 0-2.425-1.772-3.843-4.875-3.791l-.004-.004zm39.847-37.066h9.564v3.795h-9.564v-3.795zm-9.568 5.68h9.564v3.8h-9.564v-3.8zm9.568 6.216h9.564v3.799h-9.564V29.28zm0 12h9.564v3.794h-9.564V41.28zm-9.568-6.096h9.564v3.795h-9.564v-3.795zm9.472 47.064c2.512 0 4.921-.96 6.697-2.67 1.776-1.708 2.773-4.026 2.772-6.442l-1.748-15.263c0-5.033-2.492-9.112-7.725-9.112-5.232 0-7.72 4.079-7.72 9.112l-1.752 15.263c-.001 2.417.996 4.735 2.773 6.444 1.777 1.71 4.187 2.669 6.7 2.668h.003zm-3.135-16.75h6.27v12.743h-6.27V65.5z" /></symbol>'});l.a.add(n);e["default"]=n},"8b5c":function(t,e,a){t.exports=a.p+"static/img/CUXSG簽名檔.e0f8f923.jpg"},"8b67":function(t,e,a){},"8d1d":function(t,e,a){"use strict";a("bcaf")},"8e8d":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-search",use:"icon-search-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-search"><path d="M124.884 109.812L94.256 79.166c-.357-.357-.757-.629-1.129-.914a50.366 50.366 0 0 0 8.186-27.59C101.327 22.689 78.656 0 50.67 0 22.685 0 0 22.688 0 50.663c0 27.989 22.685 50.663 50.656 50.663 10.186 0 19.643-3.03 27.6-8.201.286.385.557.771.9 1.114l30.628 30.632a10.633 10.633 0 0 0 7.543 3.129c2.728 0 5.457-1.043 7.543-3.115 4.171-4.157 4.171-10.915.014-15.073M50.671 85.338C31.557 85.338 16 69.78 16 50.663c0-19.102 15.557-34.661 34.67-34.661 19.115 0 34.657 15.559 34.657 34.675 0 19.102-15.557 34.661-34.656 34.661" /></symbol>'});l.a.add(n);e["default"]=n},"8fb7":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-tab",use:"icon-tab-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-tab"><path d="M78.921.052H49.08c-1.865 0-3.198 1.599-3.198 3.464v6.661c0 1.865 1.6 3.464 3.198 3.464h29.84c1.865 0 3.198-1.599 3.198-3.464V3.516C82.385 1.65 80.786.052 78.92.052zm45.563 0H94.642c-1.865 0-3.464 1.599-3.464 3.464v6.661c0 1.865 1.599 3.464 3.464 3.464h29.842c1.865-.266 3.464-1.599 3.464-3.464V3.516c0-1.865-1.599-3.464-3.464-3.464zm0 22.382H40.02c-1.866 0-3.464-1.599-3.464-3.464V3.516c0-1.865-1.599-3.464-3.464-3.464H3.516C1.65.052.052 1.651.052 3.516V124.75c0 1.598 1.599 3.197 3.464 3.197h120.968c1.865 0 3.464-1.599 3.464-3.464V25.898c0-1.865-1.599-3.464-3.464-3.464z" /></symbol>'});l.a.add(n);e["default"]=n},"90fb":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-documentation",use:"icon-documentation-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-documentation"><path d="M71.984 44.815H115.9L71.984 9.642v35.173zM16.094.05h63.875l47.906 38.37v76.74c0 3.392-1.682 6.645-4.677 9.044-2.995 2.399-7.056 3.746-11.292 3.746H16.094c-4.236 0-8.297-1.347-11.292-3.746-2.995-2.399-4.677-5.652-4.677-9.044V12.84C.125 5.742 7.23.05 16.094.05zm71.86 102.32V89.58h-71.86v12.79h71.86zm23.952-25.58V64H16.094v12.79h95.812z" /></symbol>'});l.a.add(n);e["default"]=n},"91bb":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("廠區異動/海外派駐/回任異動")])]),e("el-form",[e("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("批次上傳檔案 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 適用300筆以下資料 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"fileName",ref:"fileName",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"批次雇用人員檔案"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1)]),e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("a",{attrs:{href:"@/../download/batch/region_change_sample.xlsx",download:""}},[e("el-button",{attrs:{type:"info",icon:"el-icon-download",size:"small"}},[e("span",{staticClass:"addBtn"},[t._v("範本")])])],1)])],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("upload-excel-component",{ref:"uploadExcelComponent",attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload},on:{fileName:t.getFileName}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.excelTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.excelSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("Interface執行 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 台灣端招募系統適用 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticClass:"dpmChange-bar"},[e("div",{staticClass:"employ-bar"},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用開始日期",format:"yyyy-MM-dd"},model:{value:t.interFace.begda,callback:function(e){t.$set(t.interFace,"begda",e)},expression:"interFace.begda"}})],1)],1),e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用結束日期",format:"yyyy-MM-dd"},model:{value:t.interFace.endda,callback:function(e){t.$set(t.interFace,"endda",e)},expression:"interFace.endda"}})],1)],1)]),e("div",{staticClass:"employ-bar1"},[e("div",{staticStyle:{display:"flex",width:"100%"}},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-input",{key:"pernr",ref:"pernr",attrs:{maxlength:"8","show-word-limit":"",placeholder:"員工工號"},model:{value:t.interFace.pernr,callback:function(e){t.$set(t.interFace,"pernr",e)},expression:"interFace.pernr"}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.dataChoice("pernr")}}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("1db5")}})])],1)],1)]),e("div",{staticClass:"dpmChange"},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-input",{key:"u_site",ref:"u_site",attrs:{maxlength:"5","show-word-limit":"",placeholder:"資料來源廠區"},model:{value:t.interFace.u_site,callback:function(e){t.$set(t.interFace,"u_site",e)},expression:"interFace.u_site"}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.dataChoice("u_site")}}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("1db5")}})])],1)],1)])]),e("div",{staticClass:"dtChangeBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.interfaceTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.interfaceSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])])],2)],1)],1)],1),e("format-msg-list",{attrs:{"result-data":t.resultData,"from-database":t.fromDatabase,"column-length":t.columnLength}}),t.dialogVisible?e("multiple-choice",{ref:"multipleChoice",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible},on:{close:t.closeDialog,submit:t.submitDialog}}):t._e()],1)},s=[],o=(a("d81d"),a("b64b"),a("2ca0"),a("caad"),a("5c96")),l=a("0c47"),n=a("3796"),r=a("9af8"),c=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resultData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"p0000_pernr",label:"員工工號"}}),e("el-table-column",{attrs:{prop:"p0000_begda",label:"生效日期"}}),e("el-table-column",{attrs:{prop:"p0000_massn",label:"異動類型(Z8:海外派駐/Z9:回任/ZE:廠區異動)"}}),e("el-table-column",{attrs:{prop:"p0000_massg",label:"異動原因"}}),e("el-table-column",{attrs:{prop:"p0001_persa_o",label:"異動前PA-人事範圍"}}),e("el-table-column",{attrs:{prop:"p0001_persa_n",label:"異動後PA-人事範圍"}}),e("el-table-column",{attrs:{prop:"p0001_btrtl_o",label:"異動前PSA-人事子範圍"}}),e("el-table-column",{attrs:{prop:"p0001_btrtl_n",label:"異動後PSA-人事子範圍"}}),e("el-table-column",{attrs:{prop:"p0001_persk_o",label:"異動前ESG-員工子群組"}}),e("el-table-column",{attrs:{prop:"p0001_persk_n",label:"異動後ESG-員工子群組"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}}),t.fromDatabase?e("el-table-column",{attrs:{prop:"process_status",label:"處理狀態"}}):t._e()],1)],1)])],1)},d=[],u=(a("a9e3"),{name:"PARegionChangeFormatMsgList",props:{resultData:{type:Array,default:function(){return[]}},columnLength:{type:Number,default:10},fromDatabase:{type:Boolean,default:!1}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.columnLength){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}}),p=u,m=a("2877"),b=Object(m["a"])(p,c,d,!1,null,null,null),h=b.exports,f=a("1563"),g=1048576,D={name:"PARegionChange",components:{UploadExcelComponent:n["a"],FormatMsgList:h,MultipleChoice:f["a"]},data:function(){return{interFace:{begda:"1800-01-01",endda:new Date,pernr:"",u_site:""},activeNames:["1"],fileName:"",columnLength:10,tableData:[],data:{},fromDatabase:!1,dataTemplate:{userInfo:[{colDesc:"員工工號",colName:"pernr",apiColName:"p0000_pernr"},{colDesc:"生效日期",colName:"begda",apiColName:"p0000_begda"},{colDesc:"異動類型(Z8:海外派駐/Z9:回任/ZE:廠區異動)",colName:"massn",apiColName:"p0000_massn"},{colDesc:"異動原因",colName:"massg",apiColName:"p0000_massg"}],massgz7Template:[{colDesc:"異動前PA-人事範圍",colName:"opersa",apiColName:"p0001_persa_o"},{colDesc:"異動後PA-人事範圍",colName:"npersa",apiColName:"p0001_persa_n"},{colDesc:"異動前PSA-人事子範圍",colName:"obtrtl",apiColName:"p0001_btrtl_o"},{colDesc:"異動後PSA-人事子範圍",colName:"nbtrtl",apiColName:"p0001_btrtl_n"},{colDesc:"異動前ESG-員工子群組",colName:"opersk",apiColName:"p0001_persk_o"},{colDesc:"異動後ESG-員工子群組",colName:"npersk",apiColName:"p0001_persk_n"}]},resultData:[],excelData:[],check_only:"",formatList:!1,dbList:!1,singleData:[],dialogVisible:!1,rangeData:[]}},methods:{dataChoice:function(t){this.dialogVisible=!0,this.dialogStatus=t},closeDialog:function(){this.dialogVisible=!1},getFileName:function(){this.fileName=this.$refs.uploadExcelComponent.fileName},beforeUpload:function(t){var e=t.size<g;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results;this.tableData=e},excelTest:function(){this.check_only="test",this.excelBatchCreate()},submitDialog:function(){this.singleData=this.$refs.multipleChoice.singleData,this.rangeData=this.$refs.multipleChoice.rangeData,""!==this.singleData[0].singleValue?this.interFace[this.dialogStatus]=this.singleData[0].singleValue:this.interFace[this.dialogStatus]=this.rangeData[0].begValue,this.dialogVisible=!1},excelSubmit:function(){this.check_only="submit",this.excelBatchCreate()},interfaceTest:function(){this.check_only="test",this.interfaceBatchCreate()},interfaceSubmit:function(){this.check_only="submit",this.interfaceBatchCreate()},excelBatchCreate:function(){this.fileName?(this.resultData=[],this.format2APIData(this.tableData),0===this.resultData.length&&(this.fromDatabase=!0,this.submit2API("EXCEL"))):Object(o["Message"])({message:"請上傳檔案 !",type:"error",duration:3e3})},interfaceBatchCreate:function(){var t=this;if(this.interFace.begda&&this.interFace.endda&&this.interFace.u_site){var e={};this.data={},this.resultData=[],this.interFace.endda<this.interFace.begda?Object(o["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}):(e.begda=Object(l["c"])(this.interFace.begda),e.endda=Object(l["c"])(this.interFace.endda),e.u_site=this.interFace.u_site,e.aedtm="",e.uname="",e.pageguid="",Object(r["o"])(e).then((function(e){t.format2APIData(e.data.data),0===t.resultData.length&&(t.fromDatabase=!0,t.submit2API("RMS_TW_DB"))})).catch((function(t){console.log(t)})))}else Object(o["Message"])({message:"請輸入完整查詢條件 !",type:"error",duration:3e3})},submit2API:function(t){for(var e=this,a=function(a){var i={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===e.check_only&&(i.check_only=!0),"submit"===e.check_only&&(i.check_only=!1),i.source_type=t,i.data=[],i.data.push(e.excelData[a]),Object(r["a"])(i).then((function(t){var i=t.data,s=[];s=i[a].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)e.resultData.push(s[o])})).catch((function(t){console.log(t)}))},i=0;i<this.excelData.length;i++)a(i)},format2APIData:function(t){var e=this;this.resultData=[];for(var a=function(a){var i=[],s={};Object.keys(e.dataTemplate).map((function(o){for(var l=e.dataTemplate[o],n=0;n<l.length;n++){var r={},c=l[n];r["colDesc"]=c.colDesc,r["colName"]=c.colName,r["colValue"]=t[a][c.colDesc],r["apiColName"]=l[n]["apiColName"],s[c.apiColName]=r["colValue"],i.push(r)}})),e.excelData[a]=Object.assign({},s),e.excelData[a].batch_item=a,e.checkFormat(i,s)},i=0;i<t.length;i++)a(i)},checkFormat:function(t,e){for(var a,i=this,s=0,o=function(t,o){var l=Object.assign({},e);void 0===a&&(a=l),l.process_name=t,l.message=o,i.resultData.push(l),s++},l=null,n=["Z8","Z9","ZE"],r=0;r<t.length;r++){var c=t[r];c["apiColName"].startsWith("p0000")&&void 0===c["colValue"]&&o(c["colDesc"],"不可為空"),"mass"===c["colName"]&&!1===n.includes(c["colValue"])&&o(c["colDesc"],"必須為Z8/Z9/ZE"),c["apiColName"].startsWith("p0001")&&(c["colName"].startsWith("n")&&(void 0===l["colValue"]&&void 0!==c["colValue"]&&o(l["colDesc"],"不可為空"),void 0!==l["colValue"]&&void 0===c["colValue"]&&o(c["colDesc"],"不可為空"),c["colValue"]===l["colValue"]&&void 0!==c["colValue"]&&o(c["colDesc"],"新舊內容不可相同")),l=c)}void 0!==a&&(a.rowspan=s)}}},y=D,v=Object(m["a"])(y,i,s,!1,null,"6e4da882",null);e["default"]=v.exports},9207:function(t,e,a){},"93cd":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-tree",use:"icon-tree-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-tree"><path d="M126.713 90.023c.858.985 1.287 2.134 1.287 3.447v29.553c0 1.423-.429 2.6-1.287 3.53-.858.93-1.907 1.395-3.146 1.395H97.824c-1.145 0-2.146-.465-3.004-1.395-.858-.93-1.287-2.107-1.287-3.53V93.47c0-.875.19-1.696.572-2.462.382-.766.906-1.368 1.573-1.806a3.84 3.84 0 0 1 2.146-.657h9.725V69.007a3.84 3.84 0 0 0-.43-1.806 3.569 3.569 0 0 0-1.143-1.313 2.714 2.714 0 0 0-1.573-.492h-36.47v23.149h9.725c1.144 0 2.145.492 3.004 1.478.858.985 1.287 2.134 1.287 3.447v29.553c0 .876-.191 1.696-.573 2.463-.38.766-.905 1.368-1.573 1.806a3.84 3.84 0 0 1-2.145.656H51.915a3.84 3.84 0 0 1-2.145-.656c-.668-.438-1.216-1.04-1.645-1.806a4.96 4.96 0 0 1-.644-2.463V93.47c0-1.313.43-2.462 1.288-3.447.858-.986 1.907-1.478 3.146-1.478h9.582v-23.15h-37.9c-.953 0-1.74.356-2.359 1.068-.62.711-.93 1.56-.93 2.544v19.538h9.726c1.239 0 2.264.492 3.074 1.478.81.985 1.216 2.134 1.216 3.447v29.553c0 1.423-.405 2.6-1.216 3.53-.81.93-1.835 1.395-3.074 1.395H4.29c-.476 0-.93-.082-1.358-.246a4.1 4.1 0 0 1-1.144-.657 4.658 4.658 0 0 1-.93-1.067 5.186 5.186 0 0 1-.643-1.395 5.566 5.566 0 0 1-.215-1.56V93.47c0-.437.048-.875.143-1.313a3.95 3.95 0 0 1 .429-1.15c.19-.328.429-.656.715-.984.286-.329.572-.602.858-.821.286-.22.62-.383 1.001-.493.382-.11.763-.164 1.144-.164h9.726V61.619c0-.985.31-1.833.93-2.544.619-.712 1.358-1.068 2.216-1.068h44.335V39.62h-9.582c-1.24 0-2.288-.492-3.146-1.477a5.09 5.09 0 0 1-1.287-3.448V5.14c0-1.423.429-2.627 1.287-3.612.858-.985 1.907-1.477 3.146-1.477h25.743c.763 0 1.478.246 2.145.739a5.17 5.17 0 0 1 1.573 1.888c.382.766.573 1.587.573 2.462v29.553c0 1.313-.43 2.463-1.287 3.448-.859.985-1.86 1.477-3.004 1.477h-9.725v18.389h42.762c.954 0 1.74.355 2.36 1.067.62.711.93 1.56.93 2.545v26.925h9.582c1.239 0 2.288.492 3.146 1.478z" /></symbol>'});l.a.add(n);e["default"]=n},9406:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard-container"},[e(t.currentRole,{tag:"component"})],1)},s=[],o=a("5530"),l=(a("caad"),a("2532"),a("2f62")),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard-editor-container"},[e("github-corner",{staticClass:"github-corner"}),e("panel-group",{on:{handleSetLineChartData:t.handleSetLineChartData}}),e("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[e("line-chart",{attrs:{"chart-data":t.lineChartData}})],1),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{xs:24,sm:24,lg:8}},[e("div",{staticClass:"chart-wrapper"},[e("raddar-chart")],1)]),e("el-col",{attrs:{xs:24,sm:24,lg:8}},[e("div",{staticClass:"chart-wrapper"},[e("pie-chart")],1)]),e("el-col",{attrs:{xs:24,sm:24,lg:8}},[e("div",{staticClass:"chart-wrapper"},[e("bar-chart")],1)])],1),e("el-row",{attrs:{gutter:8}},[e("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}}},[e("transaction-table")],1),e("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:6},xl:{span:6}}},[e("todo-list")],1),e("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:6},xl:{span:6}}},[e("box-card")],1)],1)],1)},r=[],c=function(){var t=this,e=t._self._c;return e("a",{staticClass:"github-corner",attrs:{href:"https://github.com/PanJiaChen/vue-element-admin",target:"_blank","aria-label":"View source on Github"}},[e("svg",{staticStyle:{fill:"#40c9c6",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),e("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},d=[],u=(a("2af2"),a("2877")),p={},m=Object(u["a"])(p,c,d,!1,null,"09fe1acc",null),b=m.exports,h=function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("newVisitis")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-people"},[e("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" New Visits ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("messages")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-message"},[e("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" Messages ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("purchases")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-money"},[e("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" Purchases ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("shoppings")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[e("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" Shoppings ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},f=[],g=a("ec1b"),D=a.n(g),y={components:{CountTo:D.a},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},v=y,O=(a("817d9"),Object(u["a"])(v,h,f,!1,null,"6723c96e",null)),F=O.exports,S=function(){var t=this,e=t._self._c;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},E=[],A=a("313e"),w=a.n(A),T=a("ed08"),x={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(T["b"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var j={mixins:[x],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=w.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,a=t.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},_=j,C=Object(u["a"])(_,S,E,!1,null,null,null),k=C.exports,N=function(){var t=this,e=t._self._c;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},I=[];a("817d");var M=3e3,B={mixins:[x],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=w.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Technology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:M}]})}}},R=B,L=Object(u["a"])(R,N,I,!1,null,null,null),P=L.exports,V=function(){var t=this,e=t._self._c;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},$=[];a("817d");var G={mixins:[x],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=w.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},z=G,U=Object(u["a"])(z,V,$,!1,null,null,null),Z=U.exports,Y=function(){var t=this,e=t._self._c;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},H=[];a("817d");var K=6e3,J={mixins:[x],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=w.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:K},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:K},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:K}]})}}},X=J,q=Object(u["a"])(X,Y,H,!1,null,null,null),W=q.exports,Q=function(){var t=this,e=t._self._c;return e("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:t.list}},[e("el-table-column",{attrs:{label:"Order_No","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("orderNoFilter")(e.row.order_no))+" ")]}}])}),e("el-table-column",{attrs:{label:"Price",width:"195",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" ¥"+t._s(t._f("toThousandFilter")(e.row.price))+" ")]}}])}),e("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.row;return[e("el-tag",{attrs:{type:t._f("statusFilter")(i.status)}},[t._v(" "+t._s(i.status)+" ")])]}}])})],1)},tt=[],et=(a("fb6a"),a("b775"));function at(t){return Object(et["a"])({url:"/vue-element-admin/transaction/list",method:"get",params:t})}var it={filters:{statusFilter:function(t){var e={success:"success",pending:"danger"};return e[t]},orderNoFilter:function(t){return t.substring(0,30)}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;at().then((function(e){t.list=e.data.items.slice(0,8)}))}}},st=it,ot=Object(u["a"])(st,Q,tt,!1,null,null,null),lt=ot.exports,nt=function(){var t=this,e=t._self._c;return e("section",{staticClass:"todoapp"},[e("header",{staticClass:"header"},[e("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo.apply(null,arguments)}}})]),e("section",{directives:[{name:"show",rawName:"v-show",value:t.todos.length,expression:"todos.length"}],staticClass:"main"},[e("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:t.allChecked},on:{change:function(e){return t.toggleAll({done:!t.allChecked})}}}),e("label",{attrs:{for:"toggle-all"}}),e("ul",{staticClass:"todo-list"},t._l(t.filteredTodos,(function(a,i){return e("todo",{key:i,attrs:{todo:a},on:{toggleTodo:t.toggleTodo,editTodo:t.editTodo,deleteTodo:t.deleteTodo}})})),1)]),e("footer",{directives:[{name:"show",rawName:"v-show",value:t.todos.length,expression:"todos.length"}],staticClass:"footer"},[e("span",{staticClass:"todo-count"},[e("strong",[t._v(t._s(t.remaining))]),t._v(" "+t._s(t._f("pluralize")(t.remaining,"item"))+" left ")]),e("ul",{staticClass:"filters"},t._l(t.filters,(function(a,i){return e("li",{key:i},[e("a",{class:{selected:t.visibility===i},on:{click:function(e){e.preventDefault(),t.visibility=i}}},[t._v(t._s(t._f("capitalize")(i)))])])})),0)])])},rt=[],ct=(a("4de4"),a("d3b7"),a("e9c4"),a("498a"),a("a434"),a("159b"),function(){var t=this,e=t._self._c;return e("li",{staticClass:"todo",class:{completed:t.todo.done,editing:t.editing}},[e("div",{staticClass:"view"},[e("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:t.todo.done},on:{change:function(e){return t.toggleTodo(t.todo)}}}),e("label",{domProps:{textContent:t._s(t.todo.text)},on:{dblclick:function(e){t.editing=!0}}}),e("button",{staticClass:"destroy",on:{click:function(e){return t.deleteTodo(t.todo)}}})]),e("input",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:t.editing,expression:"editing"}],staticClass:"edit",domProps:{value:t.todo.text},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doneEdit.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEdit.apply(null,arguments)}],blur:t.doneEdit}})])}),dt=[],ut={name:"Todo",directives:{focus:function(t,e,a){var i=e.value,s=a.context;i&&s.$nextTick((function(){t.focus()}))}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(t){this.$emit("deleteTodo",t)},editTodo:function(t){var e=t.todo,a=t.value;this.$emit("editTodo",{todo:e,value:a})},toggleTodo:function(t){this.$emit("toggleTodo",t)},doneEdit:function(t){var e=t.target.value.trim(),a=this.todo;e?this.editing&&(this.editTodo({todo:a,value:e}),this.editing=!1):this.deleteTodo({todo:a})},cancelEdit:function(t){t.target.value=this.todo.text,this.editing=!1}}},pt=ut,mt=Object(u["a"])(pt,ct,dt,!1,null,null,null),bt=mt.exports,ht="todos",ft={all:function(t){return t},active:function(t){return t.filter((function(t){return!t.done}))},completed:function(t){return t.filter((function(t){return t.done}))}},gt=[{text:"star this repository",done:!1},{text:"fork this repository",done:!1},{text:"follow author",done:!1},{text:"vue-element-admin",done:!0},{text:"vue",done:!0},{text:"element-ui",done:!0},{text:"axios",done:!0},{text:"webpack",done:!0}],Dt={components:{Todo:bt},filters:{pluralize:function(t,e){return 1===t?e:e+"s"},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},data:function(){return{visibility:"all",filters:ft,todos:gt}},computed:{allChecked:function(){return this.todos.every((function(t){return t.done}))},filteredTodos:function(){return ft[this.visibility](this.todos)},remaining:function(){return this.todos.filter((function(t){return!t.done})).length}},methods:{setLocalStorage:function(){window.localStorage.setItem(ht,JSON.stringify(this.todos))},addTodo:function(t){var e=t.target.value;e.trim()&&(this.todos.push({text:e,done:!1}),this.setLocalStorage()),t.target.value=""},toggleTodo:function(t){t.done=!t.done,this.setLocalStorage()},deleteTodo:function(t){this.todos.splice(this.todos.indexOf(t),1),this.setLocalStorage()},editTodo:function(t){var e=t.todo,a=t.value;e.text=a,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter((function(t){return!t.done})),this.setLocalStorage()},toggleAll:function(t){var e=this,a=t.done;this.todos.forEach((function(t){t.done=a,e.setLocalStorage()}))}}},yt=Dt,vt=(a("3511"),Object(u["a"])(yt,nt,rt,!1,null,null,null)),Ot=vt.exports,Ft=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"box-card-component",staticStyle:{"margin-left":"8px"}},[e("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[e("img",{attrs:{src:"https://wpimg.wallstcn.com/e7d23d71-cf19-4b90-a1cc-f56af8c0903d.png"}})]),e("div",{staticStyle:{position:"relative"}},[e("pan-thumb",{staticClass:"panThumb",attrs:{image:t.avatar}}),e("mallki",{attrs:{"class-name":"mallki-text",text:"vue-element-admin"}}),e("div",{staticClass:"progress-item",staticStyle:{"padding-top":"35px"}},[e("span",[t._v("Vue")]),e("el-progress",{attrs:{percentage:70}})],1),e("div",{staticClass:"progress-item"},[e("span",[t._v("JavaScript")]),e("el-progress",{attrs:{percentage:18}})],1),e("div",{staticClass:"progress-item"},[e("span",[t._v("CSS")]),e("el-progress",{attrs:{percentage:12}})],1),e("div",{staticClass:"progress-item"},[e("span",[t._v("ESLint")]),e("el-progress",{attrs:{percentage:100,status:"success"}})],1)],1)])},St=[],Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pan-item",style:{zIndex:t.zIndex,height:t.height,width:t.width}},[e("div",{staticClass:"pan-info"},[e("div",{staticClass:"pan-info-roles-container"},[t._t("default")],2)]),e("div",{staticClass:"pan-thumb",style:{backgroundImage:"url(".concat(t.image,")")}})])},At=[],wt=(a("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),Tt=wt,xt=(a("1256"),Object(u["a"])(Tt,Et,At,!1,null,"799537af",null)),jt=xt.exports,_t=function(){var t=this,e=t._self._c;return e("a",{staticClass:"link--mallki",class:t.className,attrs:{href:"#"}},[t._v(" "+t._s(t.text)+" "),e("span",{attrs:{"data-letters":t.text}}),e("span",{attrs:{"data-letters":t.text}})])},Ct=[],kt={props:{className:{type:String,default:""},text:{type:String,default:"vue-element-admin"}}},Nt=kt,It=(a("11d5"),Object(u["a"])(Nt,_t,Ct,!1,null,null,null)),Mt=It.exports,Bt={components:{PanThumb:jt,Mallki:Mt},filters:{statusFilter:function(t){var e={success:"success",pending:"danger"};return e[t]}},data:function(){return{statisticsData:{article_count:1024,pageviews_count:1024}}},computed:Object(o["a"])({},Object(l["b"])(["name","avatar","roles"]))},Rt=Bt,Lt=(a("f767"),a("a4af"),Object(u["a"])(Rt,Ft,St,!1,null,"192b5bd4",null)),Pt=Lt.exports,Vt={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},$t={name:"DashboardAdmin",components:{GithubCorner:b,PanelGroup:F,LineChart:k,RaddarChart:P,PieChart:Z,BarChart:W,TransactionTable:lt,TodoList:Ot,BoxCard:Pt},data:function(){return{lineChartData:Vt.newVisitis}},methods:{handleSetLineChartData:function(t){this.lineChartData=Vt[t]}}},Gt=$t,zt=(a("097d"),Object(u["a"])(Gt,n,r,!1,null,"3724819c",null)),Ut=zt.exports,Zt=function(){var t=this;t._self._c;return t._m(0)},Yt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard-editor-container"},[e("div",[e("img",{staticClass:"emptyGif",attrs:{src:a("461b")}})])])}],Ht={name:"DashboardEditor",data:function(){return{emptyGif:"./working.png"}},computed:Object(o["a"])({},Object(l["b"])(["name","avatar","roles"]))},Kt=Ht,Jt=(a("95e9"),Object(u["a"])(Kt,Zt,Yt,!1,null,"2ca87576",null)),Xt=Jt.exports,qt={name:"Dashboard",components:{adminDashboard:Ut,editorDashboard:Xt},data:function(){return{currentRole:"editorDashboard"}},computed:Object(o["a"])({},Object(l["b"])(["roles"])),created:function(){this.roles.includes("admin")||(this.currentRole="editorDashboard")}},Wt=qt,Qt=Object(u["a"])(Wt,i,s,!1,null,null,null);e["default"]=Qt.exports},"94e2":function(t,e,a){t.exports=a.p+"static/img/群創簽名檔.86a15971.jpg"},"95e9":function(t,e,a){"use strict";a("7aed")},9921:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-fullscreen",use:"icon-fullscreen-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-fullscreen"><path d="M38.47 52L52 38.462l-23.648-23.67L43.209 0H.035L0 43.137l14.757-14.865L38.47 52zm74.773 47.726L89.526 76 76 89.536l23.648 23.672L84.795 128h43.174L128 84.863l-14.757 14.863zM89.538 52l23.668-23.648L128 43.207V.038L84.866 0 99.73 14.76 76 38.472 89.538 52zM38.46 76L14.792 99.651 0 84.794v43.173l43.137.033-14.865-14.757L52 89.53 38.46 76z" /></symbol>'});l.a.add(n);e["default"]=n},9958:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",{staticClass:"switch"},[e("div",{staticClass:"display"}),e("div",[e("p",{staticClass:"page-title"},[t._v("人事主檔")])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-switch",{attrs:{"active-text":"編輯","inactive-text":"檢視"},on:{change:t.handleSwitchEdit},model:{value:t.switchEdit,callback:function(e){t.switchEdit=e},expression:"switchEdit"}})],1)]),e("el-form",[e("div",{staticClass:"search-bg"},[e("div",{staticClass:"bar-row1"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"pernr",ref:"pernr",attrs:{disabled:t.switchEdit,maxlength:"8","show-word-limit":"",placeholder:"員工號碼"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.pernr,callback:function(e){t.pernr=e},expression:"pernr"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"InfoType"},model:{value:t.infoSel,callback:function(e){t.infoSel=e},expression:"infoSel"}},t._l(t.filteredOptions,(function(a){return e("el-option",{key:a.infty,attrs:{label:a.infty+" "+a.itext,value:a.infty},nativeOn:{click:function(e){return t.getSubType.apply(null,arguments)}}})})),1)],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"subSpaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"SubType",disabled:null==t.infoSel||""===t.infoSel||!0===t.subtype},model:{value:t.subSel,callback:function(e){t.subSel=e},expression:"subSel"}},t._l(t.filteredSubOptions,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.stext,value:t.subty}})})),1)],1)],1)]),e("div",{staticClass:"bar-row2"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"開始日期","picker-options":t.pickerOptions,format:"yyyy-MM-dd"},model:{value:t.typeinfoFromDate,callback:function(e){t.typeinfoFromDate=e},expression:"typeinfoFromDate"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.typeinfoToDate,callback:function(e){t.typeinfoToDate=e},expression:"typeinfoToDate"}})],1)],1),e("div",{staticClass:"searchBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-view"},on:{click:t.view}})],1)],1)])])])]),e("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("員工號碼")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.pernr))])])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("名稱")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.ename))])])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("部門代碼")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.o_p1000_short))]),t._v(t._s(t.titleData.o_p1000_stext))])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace-1200"},[e("div",{staticClass:"title-label"},[t._v("人事範圍")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.persa))]),t._v(t._s(t.titleData.t500p_pbtxt))])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace-768"},[e("div",{staticClass:"title-label"},[t._v("員工群組")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.persg))]),t._v(t._s(t.titleData.t501t_ptext))])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-label"},[t._v("員工子群組")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.persk))]),t._v(t._s(t.titleData.t503t_ptext))])])])],1)],1),e("div",[e(t.listView,{tag:"component",attrs:{"switch-edit":t.switchEdit,"title-data":t.titleData,"body-data":t.bodyData,"pa0000-data":t.pa0000Data},on:{getList:t.getPAList}})],1),e("div",[e(t.detailView,{tag:"component",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj,"pa0000-data":t.pa0000Data},on:{close:t.closeDialog}})],1)],1)},s=[],o=a("c7eb"),l=a("1da1"),n=a("2909"),r=(a("b0c0"),a("e9c4"),a("99af"),a("c740"),a("4de4"),a("d3b7"),a("5c96")),c=a("0c47"),d=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("通訊")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"usrty",label:"通訊類型"}}),e("el-table-column",{attrs:{prop:"t591a_stext",label:"名稱"}}),e("el-table-column",{attrs:{label:"系統ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.usrid)+t._s(e.row.usrid_long)+" ")]}}])}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0105-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},u=[],p=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"80px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("通訊")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"通訊類型",prop:"USRTY"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.USRTY,clearable:"",filterable:""},model:{value:t.dataForm.USRTY,callback:function(e){t.$set(t.dataForm,"USRTY",e)},expression:"dataForm.USRTY"}},t._l(t.subTypeOptions,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.stext,value:t.subty}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"系統ID",prop:"SYSID"}},[e("el-input",{attrs:{name:"SYSID",disabled:t.DisableFlag.SYSID},model:{value:t.dataForm.SYSID,callback:function(e){t.$set(t.dataForm,"SYSID",e)},expression:"dataForm.SYSID"}})],1)],1)],1)],1)]),t.subDlgVisible?e("div",[e("div",{staticClass:"subDialog-header"},[t._v("其他欄位")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"姓名",prop:"ZNAME"}},[e("el-input",{attrs:{name:"ZNAME",disabled:t.DisableFlag.ZNAME},model:{value:t.dataForm.ZNAME,callback:function(e){t.$set(t.dataForm,"ZNAME",e)},expression:"dataForm.ZNAME"}})],1),e("el-form-item",{attrs:{label:"關係",prop:"ZRELA"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.ZRELA,clearable:"",filterable:""},model:{value:t.dataForm.ZRELA,callback:function(e){t.$set(t.dataForm,"ZRELA",e)},expression:"dataForm.ZRELA"}},t._l(t.zrelaOptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1),e("el-form-item",{attrs:{label:"公司電話",prop:"ZTEL_COMP"}},[e("el-input",{attrs:{name:"ZTEL_COMP",disabled:t.DisableFlag.ZTEL_COMP},model:{value:t.dataForm.ZTEL_COMP,callback:function(e){t.$set(t.dataForm,"ZTEL_COMP",e)},expression:"dataForm.ZTEL_COMP"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"家裡電話",prop:"ZTEL_HOME"}},[e("el-input",{attrs:{name:"ZTEL_HOME",disabled:t.DisableFlag.ZTEL_HOME},model:{value:t.dataForm.ZTEL_HOME,callback:function(e){t.$set(t.dataForm,"ZTEL_HOME",e)},expression:"dataForm.ZTEL_HOME"}})],1),e("el-form-item",{attrs:{label:"手機",prop:"ZMOBI"}},[e("el-input",{attrs:{name:"ZMOBI",disabled:t.DisableFlag.ZMOBI},model:{value:t.dataForm.ZMOBI,callback:function(e){t.$set(t.dataForm,"ZMOBI",e)},expression:"dataForm.ZMOBI"}})],1)],1)],1)],1)]):t._e()],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},m=[],b=a("9af8"),h=a("61f7"),f={name:"Pa0105Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"qwertyui1234567",pernr:"13000003",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0105",subty:"0002",usrty:"0002",t591a_stext:"電子信箱",usrid:"091234567",usrid_long:"test01@innolux.com",zname:"陳大名",zrela:"父",ztel_comp:"02-1234567",ztel_home:"02-7654321",zmobi:"097654321"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0105",SUBTY:"",USRTY:"",STEXT:"",SYSID:"",USRID:"",USRID_LONG:"",ZNAME:"",ZRELA:"",ZTEL_COMP:"",ZTEL_HOME:"",ZMOBI:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],USRTY:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SYSID:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZNAME:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZRELA:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZTEL_COMP:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZTEL_HOME:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZMOBI:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},subTypeOptions:[],zrelaOptions:[]}},computed:{subDlgVisible:function(){var t=["0009","0010","0011","0012"],e=t.indexOf(this.dataForm.USRTY);return e>-1},DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,USRTY:!0,STEXT:!0,SYSID:!0,ZNAME:!0,ZRELA:!0,ZTEL_COMP:!0,ZTEL_HOME:!0,ZMOBI:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,e.SYSID=!1,e.ZNAME=!1,e.ZRELA=!1,e.ZTEL_COMP=!1,e.ZTEL_HOME=!1,e.ZMOBI=!1,0===a&&(e.USRTY=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getT591A(),this.getPAConfigByPar())}},"dataForm.ENDDA":{handler:function(t){this.getT591A(),this.getPAConfigByPar()}},dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.USRTY=this.parentObj.body.usrty,this.dataForm.STEXT=this.parentObj.body.t591a_stext,this.dataForm.SYSID="0002"===this.parentObj.body.usrty?this.parentObj.body.usrid_long:this.parentObj.body.usrid,this.dataForm.USRID=this.parentObj.body.usrid,this.dataForm.USRID_LONG=this.parentObj.body.usrid_long,this.dataForm.ZNAME=this.parentObj.body.zname,this.dataForm.ZRELA=this.parentObj.body.zrela,this.dataForm.ZTEL_COMP=this.parentObj.body.ztel_comp,this.dataForm.ZTEL_HOME=this.parentObj.body.ztel_home,this.dataForm.ZMOBI=this.parentObj.body.zmobi):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0105",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getT591A(),this.getPAConfigByPar())}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.usrty=t.dataForm.USRTY,a.usrid=t.dataForm.USRID,a.usrid_long=t.dataForm.USRID_LONG,"0002"===t.dataForm.USRTY?a.usrid_long=t.dataForm.SYSID:a.usrid=t.dataForm.SYSID,a.zname=t.dataForm.ZNAME,a.zrela=t.dataForm.ZRELA,a.ztel_comp=t.dataForm.ZTEL_COMP,a.ztel_home=t.dataForm.ZTEL_HOME,a.zmobi=t.dataForm.ZMOBI,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",USRTY:"",STEXT:"",SYSID:"",USRID:"",USRID_LONG:"",ZNAME:"",ZRELA:"",ZTEL_COMP:"",ZTEL_HOME:"",ZMOBI:""}},getT591A:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.subTypeOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["n"])(this.dataForm.INFTY,"1800-1-1","9999-12-31").then((function(e){t.subTypeOptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty"),200===e.status||Object(r["Message"])({message:"取得通訊資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getPAConfigByPar:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.zrelaOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["h"])("ZHR_VALUERANGE","domname","ZRELA").then((function(e){t.zrelaOptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),200===e.status||Object(r["Message"])({message:"取得關係資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}},g=f,D=a("2877"),y=Object(D["a"])(g,p,m,!1,null,"82b3b356",null),v=y.exports,O={name:"Pa0105List",components:{Pa0105Detail:v},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},F=O,S=Object(D["a"])(F,d,u,!1,null,"e6022aba",null),E=S.exports,A=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("組織指派")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"bukrs",label:"公司"}}),e("el-table-column",{attrs:{prop:"persa",label:"PA"}}),e("el-table-column",{attrs:{prop:"persg",label:"EG"}}),e("el-table-column",{attrs:{prop:"persk",label:"ESG"}}),e("el-table-column",{attrs:{prop:"kostl",label:"成本中心"}}),e("el-table-column",{attrs:{prop:"o_p1000_short",label:"組織單位"}}),e("el-table-column",{attrs:{prop:"o_p1000_stext",label:"組織單位(內文)"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0001-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},w=[],T=a("f96c"),x={name:"Pa0001List",components:{Pa0001Detail:T["a"]},props:{switchEdit:{type:Boolean,default:!1},pernr:{type:String,default:""},begda:{type:String,default:""},endda:{type:String,default:""},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},j=x,_=Object(D["a"])(j,A,w,!1,null,null,null),C=_.exports,k=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("教育")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"slart",label:"類型"}}),e("el-table-column",{attrs:{prop:"t591a_stext",label:"教育機構內文"}}),e("el-table-column",{attrs:{prop:"slabs",label:"證書"}}),e("el-table-column",{attrs:{prop:"zhr_valuerange_ddtext",label:"證書內文"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0022-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},N=[],I=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"90px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("教育")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"教育機構",prop:"SLART"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.SLART,clearable:"",filterable:""},model:{value:t.dataForm.SLART,callback:function(e){t.$set(t.dataForm,"SLART",e)},expression:"dataForm.SLART"}},t._l(t.SLARTOptions,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.stext,value:t.subty}})})),1)],1),e("el-form-item",{attrs:{label:"教育/訓練",prop:"AUSBI"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.AUSBI,clearable:"",filterable:""},model:{value:t.dataForm.AUSBI,callback:function(e){t.$set(t.dataForm,"AUSBI",e)},expression:"dataForm.AUSBI"}},t._l(t.AUSBIOptions,(function(t){return e("el-option",{key:t.ausbi,attrs:{label:t.ausbi+" "+t.atext,value:t.ausbi}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"機構/地點",prop:"INSTI"}},[e("el-input",{attrs:{name:"INSTI",disabled:t.DisableFlag.INSTI},model:{value:t.dataForm.INSTI,callback:function(e){t.$set(t.dataForm,"INSTI",e)},expression:"dataForm.INSTI"}})],1),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"證明",prop:"SLABS"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.SLABS,clearable:"",filterable:""},model:{value:t.dataForm.SLABS,callback:function(e){t.$set(t.dataForm,"SLABS",e)},expression:"dataForm.SLABS"}},t._l(t.SLABSOptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1)],1)],1)]),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("附加欄位")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"系所名稱",prop:"ZNAME"}},[e("el-input",{attrs:{name:"ZNAME",disabled:t.DisableFlag.ZNAME},model:{value:t.dataForm.ZNAME,callback:function(e){t.$set(t.dataForm,"ZNAME",e)},expression:"dataForm.ZNAME"}})],1),e("el-form-item",{attrs:{label:"畢業/肄業",prop:"ZGRAD"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.ZGRAD,clearable:"",filterable:""},model:{value:t.dataForm.ZGRAD,callback:function(e){t.$set(t.dataForm,"ZGRAD",e)},expression:"dataForm.ZGRAD"}},t._l(t.ZGRADOptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"學部",prop:"ZDN"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.ZDN,clearable:"",filterable:""},model:{value:t.dataForm.ZDN,callback:function(e){t.$set(t.dataForm,"ZDN",e)},expression:"dataForm.ZDN"}},t._l(t.ZDNOptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1),e("el-form-item",{attrs:{label:"承認學位",prop:"ZDEGREE"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.ZDEGREE,clearable:"",filterable:""},model:{value:t.dataForm.ZDEGREE,callback:function(e){t.$set(t.dataForm,"ZDEGREE",e)},expression:"dataForm.ZDEGREE"}},t._l(t.ZDEGREEOptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},M=[],B={name:"Pa0022Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"DFE4D94D95FD78C7E0538008370A8B11",pernr:"19055688",begda:"2013-10-01",endda:"9999-12-31",aedtm:"2022/5/26 上午 12:00:00",uname:"NICOLE.WEI",active:"1",infty:"0022",subty:"",slart:"2",ausbi:"340000",insti:"A003國立成功大學",slabs:"02",zname:"資訊管理研究所",zgrad:"1",zdn:"D",zdegree:"2",t591a_stext:"二級大學",zhr_valuerange_ddtext:"學士"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0022",SUBTY:"",SLART:"",AUSBI:"",INSTI:"",SLABS:"",ZNAME:"",ZGRAD:"",ZDN:"",ZDEGREE:"",STEXT:"",DDTEXT:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SLART:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],INSTI:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],SLABS:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ZNAME:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},SLARTOptions:[],AUSBIOptions:[],SLABSOptions:[],ZGRADOptions:[],ZDNOptions:[],ZDEGREEOptions:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,SLART:!0,AUSBI:!0,INSTI:!0,SLABS:!0,ZNAME:!0,ZGRAD:!0,ZDN:!0,ZDEGREE:!0,STEXT:!0,DDTEXT:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,e.AUSBI=!1,e.INSTI=!1,e.SLABS=!1,e.ZNAME=!1,e.ZGRAD=!1,e.ZDN=!1,e.ZDEGREE=!1,0===a&&(e.SLART=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getT591A(),this.getT518B(),this.getPAConfigByPar())}},"dataForm.ENDDA":{handler:function(t){this.getT591A(),this.getT518B(),this.getPAConfigByPar()}},dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.SLART=this.parentObj.body.slart,this.dataForm.AUSBI=this.parentObj.body.ausbi,this.dataForm.INSTI=this.parentObj.body.insti,this.dataForm.SLABS=this.parentObj.body.slabs,this.dataForm.ZNAME=this.parentObj.body.zname,this.dataForm.ZGRAD=this.parentObj.body.zgrad,this.dataForm.ZDN=this.parentObj.body.zdn,this.dataForm.ZDEGREE=this.parentObj.body.zdegree,this.dataForm.STEXT=this.parentObj.body.t591a_stext,this.dataForm.DDTEXT=this.parentObj.body.zhr_valuerange_ddtext):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0022",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getT591A(),this.getT518B(),this.getPAConfigByPar())}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.slart=t.dataForm.SLART,a.ausbi=t.dataForm.AUSBI,a.insti=t.dataForm.INSTI,a.slabs=t.dataForm.SLABS,a.zname=t.dataForm.ZNAME,a.zgrad=t.dataForm.ZGRAD,a.zdn=t.dataForm.ZDN,a.zdegree=t.dataForm.ZDEGREE,a.stext=t.dataForm.STEXT,a.ddtext=t.dataForm.DDTEXT,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",SLART:"",AUSBI:"",INSTI:"",SLABS:"",ZNAME:"",ZGRAD:"",ZDN:"",ZDEGREE:"",STEXT:"",DDTEXT:""}},getT591A:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.SLARTOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["n"])(this.dataForm.INFTY,"1800-1-1","9999-12-31").then((function(e){t.SLARTOptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty"),200===e.status||Object(r["Message"])({message:"取得教育機構資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getT518B:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.AUSBIOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["i"])("T518B").then((function(e){t.AUSBIOptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"ausbi"),200===e.status||Object(r["Message"])({message:"取得教育/訓練資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getPAConfigByPar:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.SLABSOptions=[],this.ZGRADOptions=[],this.ZDNOptions=[],this.ZDEGREEOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["i"])("ZHR_VALUERANGE").then((function(e){var a=e.data.filter((function(t){return"SLABS"===t.domname})),i=e.data.filter((function(t){return"ZGRAD"===t.domname})),s=e.data.filter((function(t){return"ZDN"===t.domname})),o=e.data.filter((function(t){return"ZDEGREE"===t.domname}));t.SLABSOptions=Object(c["h"])(a,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),t.ZGRADOptions=Object(c["h"])(i,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),t.ZDNOptions=Object(c["h"])(s,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),t.ZDEGREEOptions=Object(c["h"])(o,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),200===e.status||Object(r["Message"])({message:"取得ZHR_VALUERANGE資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}},R=B,L=Object(D["a"])(R,I,M,!1,null,"5fc31cbc",null),P=L.exports,V={name:"Pa0022List",components:{Pa0022Detail:P},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},$=V,G=Object(D["a"])($,k,N,!1,null,null,null),z=G.exports,U=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("個人資料")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"nachn",label:"姓"}}),e("el-table-column",{attrs:{prop:"vorna",label:"名"}}),e("el-table-column",{attrs:{prop:"zhr_valuerange_ddtext",label:"婚姻狀態"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0002-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},Z=[],Y=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"100px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("個人資料")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"姓",prop:"NACHN"}},[e("el-input",{attrs:{name:"NACHN",disabled:t.DisableFlag.NACHN},model:{value:t.dataForm.NACHN,callback:function(e){t.$set(t.dataForm,"NACHN",e)},expression:"dataForm.NACHN"}})],1),e("el-form-item",{attrs:{label:"名",prop:"VORNA"}},[e("el-input",{attrs:{name:"VORNA",disabled:t.DisableFlag.VORNA},model:{value:t.dataForm.VORNA,callback:function(e){t.$set(t.dataForm,"VORNA",e)},expression:"dataForm.VORNA"}})],1),e("el-form-item",{attrs:{label:"性別",prop:"GESCH"}},[e("el-radio",{attrs:{label:"0",disabled:t.DisableFlag.GESCH},model:{value:t.dataForm.GESCH,callback:function(e){t.$set(t.dataForm,"GESCH",e)},expression:"dataForm.GESCH"}},[t._v("男")]),e("el-radio",{attrs:{label:"1",disabled:t.DisableFlag.GESCH},model:{value:t.dataForm.GESCH,callback:function(e){t.$set(t.dataForm,"GESCH",e)},expression:"dataForm.GESCH"}},[t._v("女")])],1),e("el-form-item",{attrs:{label:"出生日期",prop:"GBDAT"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.GBDAT},on:{change:t.selectGBDAT},model:{value:t.dataForm.GBDAT,callback:function(e){t.$set(t.dataForm,"GBDAT",e)},expression:"dataForm.GBDAT"}})],1),e("el-form-item",{attrs:{label:"民國"}},[e("div",{staticStyle:{display:"flex","margin-top":"-20px"}},[e("el-form-item",{attrs:{prop:"GBJHR"}},[e("el-input",{attrs:{name:"GBJHR",disabled:t.DisableFlag.GBJHR},model:{value:t.dataForm.GBJHR,callback:function(e){t.$set(t.dataForm,"GBJHR",e)},expression:"dataForm.GBJHR"}})],1),e("div",{staticStyle:{margin:"20px 5px 0px 5px"}},[t._v("年")]),e("el-form-item",{attrs:{prop:"GBMON"}},[e("el-input",{attrs:{name:"GBMON",disabled:t.DisableFlag.GBMON},model:{value:t.dataForm.GBMON,callback:function(e){t.$set(t.dataForm,"GBMON",e)},expression:"dataForm.GBMON"}})],1),e("div",{staticStyle:{margin:"20px 5px 0px 5px"}},[t._v("月")]),e("el-form-item",{attrs:{prop:"GBTAG"}},[e("el-input",{attrs:{name:"GBTAG",disabled:t.DisableFlag.GBTAG},model:{value:t.dataForm.GBTAG,callback:function(e){t.$set(t.dataForm,"GBTAG",e)},expression:"dataForm.GBTAG"}})],1),e("div",{staticStyle:{margin:"20px 0px 0px 5px"}},[t._v("日")])],1)]),e("el-form-item",{attrs:{label:"婚姻狀態",prop:"FAMST"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.FAMST,clearable:"",filterable:""},model:{value:t.dataForm.FAMST,callback:function(e){t.$set(t.dataForm,"FAMST",e)},expression:"dataForm.FAMST"}},t._l(t.famstOptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"國籍",prop:"NATIO"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.NATIO,clearable:"",filterable:""},model:{value:t.dataForm.NATIO,callback:function(e){t.$set(t.dataForm,"NATIO",e)},expression:"dataForm.NATIO"}},t._l(t.countryOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.natio,value:t.land1}})})),1)],1),e("el-form-item",{attrs:{label:"語言",prop:"SPRSL"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.SPRSL,clearable:"",filterable:""},model:{value:t.dataForm.SPRSL,callback:function(e){t.$set(t.dataForm,"SPRSL",e)},expression:"dataForm.SPRSL"}},t._l(t.sprslOptions,(function(t){return e("el-option",{key:t.sprsl,attrs:{label:t.sprsl+" "+t.sptxt,value:t.sprsl}})})),1)],1),e("el-form-item",{attrs:{label:"出生國家",prop:"GBLND"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.GBLND,clearable:"",filterable:""},model:{value:t.dataForm.GBLND,callback:function(e){t.$set(t.dataForm,"GBLND",e)},expression:"dataForm.GBLND"}},t._l(t.countryOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.landx,value:t.land1}})})),1)],1),e("el-form-item",{attrs:{label:"出生地點",prop:"GBORT"}},[e("el-input",{attrs:{name:"GBORT",disabled:t.DisableFlag.GBORT},model:{value:t.dataForm.GBORT,callback:function(e){t.$set(t.dataForm,"GBORT",e)},expression:"dataForm.GBORT"}})],1),e("el-form-item",{attrs:{label:"區域",prop:"GDDEP"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.GDDEP,clearable:"",filterable:""},model:{value:t.dataForm.GDDEP,callback:function(e){t.$set(t.dataForm,"GDDEP",e)},expression:"dataForm.GDDEP"}},t._l(t.gddepOptions,(function(t){return e("el-option",{key:t.counc,attrs:{label:t.counc+" "+t.bezei,value:t.counc}})})),1)],1),e("el-form-item",{attrs:{label:"子女數量",prop:"ANZKD"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"ANZKD",min:0,max:10,disabled:t.DisableFlag.ANZKD},model:{value:t.dataForm.ANZKD,callback:function(e){t.$set(t.dataForm,"ANZKD",e)},expression:"dataForm.ANZKD"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},H=[],K=a("3835"),J=(a("1276"),{name:"Pa0002Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"",pernr:"",begda:"",endda:"",aedtm:"",uname:"",active:"",infty:"",subty:"",nachn:"",vorna:"",gesch:"0",gbort:"",gbdat:"",gddep:"",bezei:"",gbjhr:"",gbmon:"",gbtag:"",gblnd:"",natio:"",famst:"",sprsl:"",anzkd:0}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",NACHN:"",VORNA:"",GESCH:"0",GBORT:"",GBDAT:"",GDDEP:"",BEZEI:"",GBJHR:"",GBMON:"",GBTAG:"",GBLND:"",NATIO:"",FAMST:"",SPRSL:"",ANZKD:0},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],NACHN:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],VORNA:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],GESCH:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],GBDAT:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],GBLND:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],NATIO:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],FAMST:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],GBORT:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},famstOptions:[],sprslOptions:[],countryOptions:[],gddepOptions:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,NACHN:!0,VORNA:!0,GESCH:!0,GBORT:!0,GBDAT:!0,GDDEP:!0,BEZEI:!0,GBJHR:!0,GBMON:!0,GBTAG:!0,GBLND:!0,NATIO:!0,FAMST:!0,SPRSL:!0,ANZKD:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.NACHN=!1,e.VORNA=!1,e.GESCH=!1,e.GBORT=!1,e.GBDAT=!1,e.GDDEP=!1,e.GBLND=!1,e.NATIO=!1,e.FAMST=!1,e.SPRSL=!1,e.ANZKD=!1,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getZHR_VALUERANGE(),this.getT002T(),this.getT005(),this.getT005F())}},"dataForm.ENDDA":{handler:function(t){this.getZHR_VALUERANGE(),this.getT002T(),this.getT005(),this.getT005F()}},dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.NACHN=this.parentObj.body.nachn,this.dataForm.VORNA=this.parentObj.body.vorna,this.dataForm.GESCH=this.parentObj.body.gesch,this.dataForm.GBORT=this.parentObj.body.gbort,this.dataForm.GBDAT=this.parentObj.body.gbdat,this.dataForm.GDDEP=this.parentObj.body.gddep,this.dataForm.BEZEI=this.parentObj.body.bezei,this.dataForm.GBJHR=this.parentObj.body.gbjhr,this.dataForm.GBMON=this.parentObj.body.gbmon,this.dataForm.GBTAG=this.parentObj.body.gbtag,this.dataForm.GBLND=this.parentObj.body.gblnd,this.dataForm.NATIO=this.parentObj.body.natio,this.dataForm.FAMST=parseInt(this.parentObj.body.famst),this.dataForm.SPRSL=this.parentObj.body.sprsl,this.dataForm.ANZKD=this.parentObj.body.anzkd):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0002",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getZHR_VALUERANGE(),this.getT002T(),this.getT005(),this.getT005F())}},deep:!0}},methods:{selectGBDAT:function(t){var e=t.split("-"),a=Object(K["a"])(e,3),i=a[0],s=a[1],o=a[2];this.dataForm.GBJHR=String(i-1911),this.dataForm.GBMON=s,this.dataForm.GBTAG=o},submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.nachn=t.dataForm.NACHN,a.vorna=t.dataForm.VORNA,a.gesch=t.dataForm.GESCH,a.gbort=t.dataForm.GBORT,a.gbdat=t.dataForm.GBDAT,a.gddep=t.dataForm.GDDEP,a.bezei=t.dataForm.BEZEI,a.gbjhr=t.dataForm.GBJHR,a.gbmon=t.dataForm.GBMON,a.gbtag=t.dataForm.GBTAG,a.gblnd=t.dataForm.GBLND,a.natio=t.dataForm.NATIO,a.famst=String(t.dataForm.FAMST),a.sprsl=t.dataForm.SPRSL,a.anzkd=t.dataForm.ANZKD,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",NACHN:"",VORNA:"",GESCH:"0",GBORT:"",GBDAT:"",GDDEP:"",BEZEI:"",GBJHR:"",GBMON:"",GBTAG:"",GBLND:"",NATIO:"",FAMST:"",SPRSL:"",ANZKD:0}},getZHR_VALUERANGE:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.famstOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["h"])("ZHR_VALUERANGE","domname","FAMST").then((function(e){t.famstOptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),console.log("this.famstOptions",t.famstOptions),200===e.status||Object(r["Message"])({message:"取得婚姻狀態失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getT002T:function(){var t=this;Object(b["i"])("T002T").then((function(e){t.sprslOptions=e.data,200===e.status||Object(r["Message"])({message:"取得語言資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getT005:function(){var t=this;Object(b["i"])("T005").then((function(e){t.countryOptions=e.data,200===e.status||Object(r["Message"])({message:"取得國家資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getT005F:function(){var t=this;Object(b["i"])("T005F").then((function(e){t.gddepOptions=e.data,200===e.status||Object(r["Message"])({message:"取得區域資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}}),X=J,q=Object(D["a"])(X,Y,H,!1,null,"189a70ba",null),W=q.exports,Q={name:"Pa0002List",components:{Pa0002Detail:W},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},tt=Q,et=Object(D["a"])(tt,U,Z,!1,null,null,null),at=et.exports,it=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("計畫工作時間")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"schkz",label:"WS規則"}}),e("el-table-column",{attrs:{prop:"zterf",label:"TM"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0007-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},st=[],ot=a("f9ce"),lt={name:"Pa0007List",components:{Pa0007Detail:ot["a"]},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},nt=lt,rt=Object(D["a"])(nt,it,st,!1,null,null,null),ct=rt.exports,dt=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("地址")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"anssa",label:"類型"}}),e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"pstlz",label:"PC/城巿"}}),e("el-table-column",{attrs:{prop:"atrdw",label:"完整地址"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0006-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},ut=[],pt=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("地址")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:24}},[e("el-form-item",{attrs:{label:"地址類型",prop:"ANSSA"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.ANSSA,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.ANSSA,callback:function(e){t.$set(t.dataForm,"ANSSA",e)},expression:"dataForm.ANSSA"}},t._l(t.optionsAnssa,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.stext,value:t.subty}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"郵遞區號",prop:"PSTLZ"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.PSTLZ,clearable:"",filterable:"",placeholder:"請選擇"},on:{change:t.changeSelPSTLZ},model:{value:t.dataForm.PSTLZ,callback:function(e){t.$set(t.dataForm,"PSTLZ",e)},expression:"dataForm.PSTLZ"}},t._l(t.optionsPstlz,(function(a){return e("el-option",{key:a.zip03,attrs:{label:a.zip03,value:a.zip03}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.zip03))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(a.town))])])})),1)],1),e("el-form-item",{attrs:{label:"區域代碼",prop:"STATE"}},[e("el-input",{attrs:{name:"STATE",disabled:t.DisableFlag.STATE},model:{value:t.dataForm.STATE,callback:function(e){t.$set(t.dataForm,"STATE",e)},expression:"dataForm.STATE"}})],1),e("el-form-item",{attrs:{label:"縣代碼",prop:"COUNC"}},[e("el-input",{attrs:{name:"COUNC",disabled:t.DisableFlag.COUNC},model:{value:t.dataForm.COUNC,callback:function(e){t.$set(t.dataForm,"COUNC",e)},expression:"dataForm.COUNC"}})],1),e("el-form-item",{attrs:{label:"村里",prop:"VILLA"}},[e("el-input",{attrs:{name:"VILLA",disabled:t.DisableFlag.VILLA},model:{value:t.dataForm.VILLA,callback:function(e){t.$set(t.dataForm,"VILLA",e)},expression:"dataForm.VILLA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"國家代碼",prop:"land1"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.LAND1,clearable:"",filterable:"",placeholder:"請選擇"},on:{change:t.selChengeLand1},model:{value:t.dataForm.LAND1,callback:function(e){t.$set(t.dataForm,"LAND1",e)},expression:"dataForm.LAND1"}},t._l(t.optionsLand1,(function(a){return e("el-option",{key:a.land1,attrs:{label:a.land1,value:a.land1}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.land1))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(a.landx))])])})),1)],1),e("el-form-item",{attrs:{label:"區域名稱"}},[e("el-input",{attrs:{name:"ARNAME",disabled:!0},model:{value:t.dataForm.ARNAME,callback:function(e){t.$set(t.dataForm,"ARNAME",e)},expression:"dataForm.ARNAME"}})],1),e("el-form-item",{attrs:{label:"縣巿名稱",prop:"BEZEI"}},[e("el-input",{attrs:{name:"BEZEI",disabled:t.DisableFlag.BEZEI},model:{value:t.dataForm.BEZEI,callback:function(e){t.$set(t.dataForm,"BEZEI",e)},expression:"dataForm.BEZEI"}})],1),e("el-form-item",{attrs:{label:"鄰",prop:"NEIGH"}},[e("el-input",{attrs:{name:"NEIGH",disabled:t.DisableFlag.NEIGH},model:{value:t.dataForm.NEIGH,callback:function(e){t.$set(t.dataForm,"NEIGH",e)},expression:"dataForm.NEIGH"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"鄉鎮",prop:"ORT02"}},[e("el-input",{attrs:{name:"ORT02",disabled:t.DisableFlag.ORT02},model:{value:t.dataForm.ORT02,callback:function(e){t.$set(t.dataForm,"ORT02",e)},expression:"dataForm.ORT02"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"街道和門牌號碼",prop:"STRAS"}},[e("el-input",{attrs:{name:"STRAS",disabled:t.DisableFlag.STRAS},model:{value:t.dataForm.STRAS,callback:function(e){t.$set(t.dataForm,"STRAS",e)},expression:"dataForm.STRAS"}})],1)],1),e("el-col",{attrs:{xs:24,md:24}},[e("el-form-item",{attrs:{label:"詳細地址",prop:"ATRDW"}},[e("el-input",{attrs:{name:"ATRDW",disabled:t.DisableFlag.ATRDW},model:{value:t.dataForm.ATRDW,callback:function(e){t.$set(t.dataForm,"ATRDW",e)},expression:"dataForm.ATRDW"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},mt=[],bt={name:"Pa0006Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrcA_COSTC_NAME:"",infty:"",kostl:"",pA0001_WERKS:"",pernr:"",persg:"",persk:"",subty:"",t500P_PBTXT:"",t501T_PTEXT:"",t503T_PTEXT:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"qwertyui1234567",pernr:"13000003",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0006",subty:"0001",anssa:"",pstlz:"",land1:"",state:"",counc:"",bezei:"",ort02:"",villa:"",neigh:"",stras:"",atrdw:""}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0006",SUBTY:"",ANSSA:"",PSTLZ:"",LAND1:"TW",STATE:"",COUNC:"",BEZEI:"",ORT02:"",VILLA:"",NEIGH:"",STRAS:"",ATRDW:"",ARNAME:"台灣"},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ANSSA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],PSTLZ:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},optionsAnssa:[],optionsPstlz:[],optionsLand1:[],optionsState:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,ANSSA:!0,PSTLZ:!0,LAND1:!0,STATE:!0,COUNC:!0,BEZEI:!0,ORT02:!0,VILLA:!0,NEIGH:!0,STRAS:!0,ATRDW:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(0===a&&(e.ANSSA=!1),e.PSTLZ=!1,e.LAND1=!1,e.STATE=!0,e.COUNC=!0,e.BEZEI=!0,e.ORT02=!0,e.VILLA=!1,e.NEIGH=!1,e.STRAS=!1,e.ATRDW=!0,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getT591A(),this.getT7TW0A(),this.getT005())}},"dataForm.ENDDA":{handler:function(t){this.getT591A(),this.getT7TW0A(),this.getT005()}},"dataForm.BEZEI":{handler:function(){this.getStrAddress()}},"dataForm.ORT02":{handler:function(){this.getStrAddress()}},"dataForm.VILLA":{handler:function(){this.getStrAddress()}},"dataForm.NEIGH":{handler:function(){this.getStrAddress()}},"dataForm.STRAS":{handler:function(){this.getStrAddress()}},dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.ANSSA=this.parentObj.body.anssa,this.dataForm.PSTLZ=this.parentObj.body.pstlz,this.dataForm.LAND1=this.parentObj.body.land1,this.dataForm.STATE=this.parentObj.body.state,this.dataForm.COUNC=this.parentObj.body.counc,this.dataForm.BEZEI=this.parentObj.body.bezei,this.dataForm.ORT02=this.parentObj.body.ort02,this.dataForm.VILLA=this.parentObj.body.villa,this.dataForm.NEIGH=this.parentObj.body.neigh,this.dataForm.STRAS=this.parentObj.body.stras,this.dataForm.ATRDW=this.parentObj.body.atrdw):(this.dataForm.BEGDA=Object(c["c"])(new Date),this.dataForm.ENDDA="9999-12-31",this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0006",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getT591A(),this.getT7TW0A(),this.getT005()),this.selChengeLand1(),this.changeSelPSTLZ()}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.anssa=t.dataForm.ANSSA,a.pstlz=t.dataForm.PSTLZ,a.land1=t.dataForm.LAND1,a.state=t.dataForm.STATE,a.counc=t.dataForm.COUNC,a.bezei=t.dataForm.BEZEI,a.ort02=t.dataForm.ORT02,a.villa=t.dataForm.VILLA,a.neigh=t.dataForm.NEIGH,a.stras=t.dataForm.STRAS,a.atrdw=t.dataForm.ATRDW,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",ANSSA:"",PSTLZ:"",LAND1:"TW",STATE:"",COUNC:"",BEZEI:"",ORT02:"",VILLA:"",NEIGH:"",STRAS:"",ATRDW:""}},getT591A:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0===t.dataForm.DIALOG_INIT&&(t.dataForm.DIALOG_INIT=!1),a=!1,(Object(c["a"])(t.dataForm.BEGDA)||Object(c["a"])(t.dataForm.ENDDA))&&(t.optionsAnssa=[],a=!0),!1!==t.dialogVisible&&!a&&"view"!==t.dialogStatus&&"delete"!==t.dialogStatus){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(b["n"])(t.dataForm.INFTY,"1800-1-1","9999-12-31").then((function(e){t.optionsAnssa=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty"),200===e.status||Object(r["Message"])({message:"取得地址類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 7:case"end":return e.stop()}}),e)})))()},getT7TW0A:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0===t.dataForm.DIALOG_INIT&&(t.dataForm.DIALOG_INIT=!1),a=!1,(Object(c["a"])(t.dataForm.BEGDA)||Object(c["a"])(t.dataForm.ENDDA))&&(t.optionsPstlz=[],a=!0),!1!==t.dialogVisible&&!a&&"view"!==t.dialogStatus&&"delete"!==t.dialogStatus){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(b["i"])("T7TW0A").then((function(e){t.optionsPstlz=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"zip03"),200===e.status||Object(r["Message"])({message:"取得郵遞區號資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 7:case"end":return e.stop()}}),e)})))()},getT005:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0===t.dataForm.DIALOG_INIT&&(t.dataForm.DIALOG_INIT=!1),a=!1,(Object(c["a"])(t.dataForm.BEGDA)||Object(c["a"])(t.dataForm.ENDDA))&&(t.optionsLand1=[],a=!0),!1!==t.dialogVisible&&!a&&"view"!==t.dialogStatus&&"delete"!==t.dialogStatus){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(b["i"])("T005").then((function(e){t.optionsLand1=e.data,200===e.status||Object(r["Message"])({message:"取得國家代碼失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 7:case"end":return e.stop()}}),e)})))()},changeSelPSTLZ:function(t){var e=this,a=void 0===t?this.dataForm.PSTLZ:t;""!==a&&void 0!==a&&Object(b["h"])("T7TW0A","Zjuper",a).then((function(t){var a=t.data;return e.dataForm.STATE=a[0].state,e.dataForm.COUNC=a[0].counc,e.dataForm.ORT02=a[0].town,e.getT005FByCounc(e.dataForm.COUNC),200!==t.status?void Object(r["Message"])({message:"取得郵遞區號資料失敗",type:"error",duration:3e3}):void 0})).catch((function(t){console.log("error: "+t)}))},getT005FByCounc:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){var i;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""!==t&&void 0!==t){a.next=2;break}return a.abrupt("return");case 2:if(!0===e.dataForm.DIALOG_INIT&&(e.dataForm.DIALOG_INIT=!1),i=!1,(Object(c["a"])(e.dataForm.BEGDA)||Object(c["a"])(e.dataForm.ENDDA))&&(i=!0),!1!==e.dialogVisible&&!i&&"delete"!==e.dialogStatus){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Object(b["h"])("T005F","counc",t).then((function(t){e.dataForm.BEZEI=t.data[0].bezei,200===t.status||Object(r["Message"])({message:"取得動作原因資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 9:case"end":return a.stop()}}),a)})))()},getStrAddress:function(){this.dataForm.ATRDW=this.dataForm.ARNAME+this.dataForm.BEZEI+this.dataForm.ORT02+this.dataForm.VILLA+this.dataForm.NEIGH+this.dataForm.STRAS},selChengeLand1:function(t){var e=this;this.dataForm.ARNAME=void 0!==t?void 0===t?"台灣":this.optionsLand1.filter((function(e){return e.land1===t}))[0].landx:void 0===t?"台灣":this.optionsLand1.filter((function(t){return t.land1===e.parentObj.body.land1}))[0].landx,this.getStrAddress()}}},ht=bt,ft=Object(D["a"])(ht,pt,mt,!1,null,null,null),gt=ft.exports,Dt={name:"Pa0006List",components:{Pa0006Detail:gt},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},yt=Dt,vt=Object(D["a"])(yt,dt,ut,!1,null,null,null),Ot=vt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("異動")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"massn",label:"作業"}}),e("el-table-column",{attrs:{prop:"mntxt",label:"異動類型"}}),e("el-table-column",{attrs:{prop:"massg",label:"原因代碼"}}),e("el-table-column",{attrs:{prop:"mgtxt",label:"異動原因"}}),e("el-table-column",{attrs:{prop:"stat2",label:"雇用狀態"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0000-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj,"pa0000-data":t.pa0000Data},on:{close:t.closeDialog}})],1)},St=[],Et=a("a3df"),At={name:"Pa0000List",components:{Pa0000Detail:Et["a"]},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}},pa0000Data:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},wt=At,Tt=Object(D["a"])(wt,Ft,St,!1,null,null,null),xt=Tt.exports,jt=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("契約要項")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"cttyp",label:"契約類型"}}),e("el-table-column",{attrs:{prop:"ctedt",label:"雇主的通知期限"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0016-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},_t=[],Ct=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"服務類型",prop:"CTTYP"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.CTTYP,clearable:"",filterable:"",placeholder:"請選擇"},on:{change:t.selChengeCttyp},model:{value:t.dataForm.CTTYP,callback:function(e){t.$set(t.dataForm,"CTTYP",e)},expression:"dataForm.CTTYP"}},t._l(t.optionsCttyp,(function(a){return e("el-option",{key:a.domvalue,attrs:{label:a.domvalue,value:a.domvalue}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.domvalue))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(a.ddtext))])])})),1)],1),e("el-form-item",{attrs:{label:"有效期限",prop:"CTEDT"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.CTEDT},model:{value:t.dataForm.CTEDT,callback:function(e){t.$set(t.dataForm,"CTEDT",e)},expression:"dataForm.CTEDT"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"服務類型說明",prop:"DDTEXT"}},[e("el-input",{attrs:{name:"DDTEXT",disabled:t.DisableFlag.DDTEXT},model:{value:t.dataForm.DDTEXT,callback:function(e){t.$set(t.dataForm,"DDTEXT",e)},expression:"dataForm.DDTEXT"}})],1)],1)],1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},kt=[],Nt={name:"Pa0016Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0016",SUBTY:"",CTTYP:"",DDTEXT:"",CTEDT:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],CTTYP:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],CTEDT:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},begda:"2000-1-1",endda:"9999-12-31",optionsCttyp:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,CTTYP:!0,DDTEXT:!0,CTEDT:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(0===a&&(e.CTTYP=!1),e.DDTEXT=!1,e.CTEDT=!1,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.fetchData()}},"dataForm.ENDDA":{handler:function(t){this.fetchData()}},"dataForm.CTTYP":{handler:function(t){this.fetchData(),void 0!==t&&""!==t&&""!==this.dataForm.CTTYP&&(this.dataForm.DDTEXT=""===t?"":this.optionsCttyp.filter((function(e){return e.domvalue===t}))[0].ddtext)}},dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.CTTYP=this.parentObj.body.cttyp,this.dataForm.DDTEXT=this.parentObj.body.ddtext,this.dataForm.CTEDT=this.parentObj.body.ctedt):(this.dataForm.BEGDA=Object(c["c"])(new Date),this.dataForm.ENDDA=this.endda,this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0016",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty=t.dataForm.SUBTY,a.cttyp=t.dataForm.CTTYP,a.ddtext=t.dataForm.DDTEXT,a.ctedt=Object(c["c"])(new Date(t.dataForm.CTEDT)),console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",CTTYP:"",DDTEXT:"",CTEDT:""}},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getZHR_VALUERANGE();case 2:case"end":return e.stop()}}),e)})))()},getZHR_VALUERANGE:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["h"])("ZHR_VALUERANGE","domname","CTTYP").then((function(e){t.optionsCttyp=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),200===e.status||Object(r["Message"])({message:"取得服務類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},selChengeCttyp:function(t){this.optionsCttyp.length>0&&void 0!==t&&(this.dataForm.DDTEXT=""===t?"":this.optionsCttyp.filter((function(e){return e.domvalue===t}))[0].ddtext)}}},It=Nt,Mt=Object(D["a"])(It,Ct,kt,!1,null,null,null),Bt=Mt.exports,Rt={name:"Pa0016List",components:{Pa0016Detail:Bt},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},Lt=Rt,Pt=Object(D["a"])(Lt,jt,_t,!1,null,null,null),Vt=Pt.exports,$t=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("內部資料")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"wausw",label:"公司ID"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0032-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},Gt=[],zt=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"上一個員工號碼",prop:"PNALT"}},[e("el-input",{attrs:{name:"PNALT",disabled:t.DisableFlag.PNALT},model:{value:t.dataForm.PNALT,callback:function(e){t.$set(t.dataForm,"PNALT",e)},expression:"dataForm.PNALT"}})],1),e("el-form-item",{attrs:{label:"公司ID",prop:"WAUSW"}},[e("el-input",{attrs:{name:"WAUSW",disabled:t.DisableFlag.WAUSW},model:{value:t.dataForm.WAUSW,callback:function(e){t.$set(t.dataForm,"WAUSW",e)},expression:"dataForm.WAUSW"}})],1)],1)],1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},Ut=[],Zt={name:"Pa0032Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrcA_COSTC_NAME:"",infty:"",kostl:"",pA0001_WERKS:"",pernr:"",persg:"",persk:"",subty:"",t500P_PBTXT:"",t501T_PTEXT:"",t503T_PTEXT:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"qwertyui1234567",pernr:"13000003",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0032",subty:"0001",pnalt:"",wausw:""}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0032",SUBTY:"",PNALT:"",WAUSW:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]}}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,PNALT:!0,WAUSW:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.PNALT=!1,e.WAUSW=!1,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.PNALT=this.parentObj.body.pnalt,this.dataForm.WAUSW=this.parentObj.body.wausw):(this.dataForm.BEGDA=Object(c["c"])(new Date),this.dataForm.ENDDA="9999-12-31",this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0032",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.pnalt=t.dataForm.PNALT,a.wausw=t.dataForm.WAUSW,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",PNALT:"",WAUSW:""}}}},Yt=Zt,Ht=Object(D["a"])(Yt,zt,Ut,!1,null,null,null),Kt=Ht.exports,Jt={name:"Pa0032List",components:{Pa0032Detail:Kt},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},Xt=Jt,qt=Object(D["a"])(Xt,$t,Gt,!1,null,null,null),Wt=qt.exports,Qt=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("其他/前任雇主")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"arbgb",label:"雇主"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0023-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},te=[],ee=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"80px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("其他/前任雇主")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"雇主",prop:"ARBGB"}},[e("el-input",{attrs:{name:"ARBGB",disabled:t.DisableFlag.ARBGB},model:{value:t.dataForm.ARBGB,callback:function(e){t.$set(t.dataForm,"ARBGB",e)},expression:"dataForm.ARBGB"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}})],1)],1)]),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("附加欄位")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"部門",prop:"ZODEPT"}},[e("el-input",{attrs:{name:"ZODEPT",disabled:t.DisableFlag.ZODEPT},model:{value:t.dataForm.ZODEPT,callback:function(e){t.$set(t.dataForm,"ZODEPT",e)},expression:"dataForm.ZODEPT"}})],1),e("el-form-item",{attrs:{label:"職位",prop:"ZOPOS"}},[e("el-input",{attrs:{name:"ZOPOS",disabled:t.DisableFlag.ZOPOS},model:{value:t.dataForm.ZOPOS,callback:function(e){t.$set(t.dataForm,"ZOPOS",e)},expression:"dataForm.ZOPOS"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"工作說明",prop:"ZOTEXT"}},[e("el-input",{attrs:{name:"ZOTEXT",disabled:t.DisableFlag.ZOTEXT},model:{value:t.dataForm.ZOTEXT,callback:function(e){t.$set(t.dataForm,"ZOTEXT",e)},expression:"dataForm.ZOTEXT"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},ae=[],ie={name:"Pa0023Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"qwertyui1234567",pernr:"19055688",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0023",subty:"",arbgb:"仁傑",zodept:"MIS",zopos:"PM",zotext:"專案管理"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0023",SUBTY:"",ARBGB:"",ZODEPT:"",ZOPOS:"",ZOTEXT:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ARBGB:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZODEPT:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZOPOS:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ZOTEXT:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]}}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,ARBGB:!0,ZODEPT:!0,ZOPOS:!0,ZOTEXT:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,e.ARBGB=!1,e.ZODEPT=!1,e.ZOPOS=!1,e.ZOTEXT=!1),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.ARBGB=this.parentObj.body.arbgb,this.dataForm.ZODEPT=this.parentObj.body.zodept,this.dataForm.ZOPOS=this.parentObj.body.zopos,this.dataForm.ZOTEXT=this.parentObj.body.zotext):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0023",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.arbgb=t.dataForm.ARBGB,a.zodept=t.dataForm.ZODEPT,a.zopos=t.dataForm.ZOPOS,a.zotext=t.dataForm.ZOTEXT,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",ARBGB:"",ZODEPT:"",ZOPOS:"",ZOTEXT:""}}}},se=ie,oe=Object(D["a"])(se,ee,ae,!1,null,"0f0566f0",null),le=oe.exports,ne={name:"Pa0023List",components:{Pa0023Detail:le},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},re=ne,ce=Object(D["a"])(re,Qt,te,!1,null,"4335ed68",null),de=ce.exports,ue=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("兵役")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"wdart",label:"服務類型"}}),e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0081-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},pe=[],me=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"服務類型",prop:"WDART"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.WDART,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.WDART,callback:function(e){t.$set(t.dataForm,"WDART",e)},expression:"dataForm.WDART"}},t._l(t.optionsWdart,(function(a){return e("el-option",{key:a.subty,attrs:{label:a.subty,value:a.subty}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.subty))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(a.stext))])])})),1)],1),e("el-form-item",{attrs:{label:"單位",prop:"WDEIN"}},[e("el-input",{attrs:{name:"WDEIN",disabled:t.DisableFlag.WDEIN},model:{value:t.dataForm.WDEIN,callback:function(e){t.$set(t.dataForm,"WDEIN",e)},expression:"dataForm.WDEIN"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"服務類型說明",prop:"ANSSA"}},[e("el-input",{attrs:{name:"ANSSA",disabled:t.DisableFlag.ANSSA},model:{value:t.dataForm.ANSSA,callback:function(e){t.$set(t.dataForm,"ANSSA",e)},expression:"dataForm.ANSSA"}})],1),e("el-form-item",{attrs:{label:"報到日期",prop:"WDERD"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.WDERD},model:{value:t.dataForm.WDERD,callback:function(e){t.$set(t.dataForm,"WDERD",e)},expression:"dataForm.WDERD"}})],1)],1)],1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},be=[],he={name:"Pa0081Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0081",SUBTY:"",WDART:"",ANSSA:"",WDEIN:"",WDERD:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],WDART:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},optionsWdart:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,WDART:!0,ANSSA:!0,WDEIN:!0,WDERD:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(0===a&&(e.WDART=!1),e.ANSSA=!1,e.WDEIN=!1,e.WDERD=!1,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.fetchData()}},"dataForm.ENDDA":{handler:function(t){this.fetchData()}},"dataForm.WDART":{handler:function(t){this.fetchData(),void 0!==t&&""!==t&&""!==this.dataForm.WDART&&(this.dataForm.ANSSA=""===t?"":this.optionsWdart.filter((function(e){return e.subty===t}))[0].stext)}},dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.WDART=this.parentObj.body.wdart,this.dataForm.ANSSA=this.parentObj.body.anssa,this.dataForm.WDEIN=this.parentObj.body.wdein,this.dataForm.WDERD=this.parentObj.body.wderd):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0081",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.wdart=t.dataForm.WDART,a.wdein=t.dataForm.WDEIN,a.wderd=Object(c["c"])(new Date(t.dataForm.WDERD)),console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",WDART:"",ANSSA:"",WDEIN:"",WDERD:new Date}},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getT591A();case 2:case"end":return e.stop()}}),e)})))()},getT591A:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["n"])("0081","1800-1-1","9999-12-31").then((function(e){t.optionsWdart=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty"),200===e.status||Object(r["Message"])({message:"取得類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},fe=he,ge=Object(D["a"])(fe,me,be,!1,null,null,null),De=ge.exports,ye={name:"Pa0081List",components:{Pa0081Detail:De},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},ve=ye,Oe=Object(D["a"])(ve,ue,pe,!1,null,null,null),Fe=Oe.exports,Se=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("識別証")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"zcardty",label:"類型"}}),e("el-table-column",{attrs:{prop:"stext",label:"說明"}}),e("el-table-column",{attrs:{prop:"zdoor",label:"門組"}}),e("el-table-column",{attrs:{prop:"zbadge",label:"內碼"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa9004-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},Ee=[],Ae=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"類型",prop:"ZCARDTY"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.ZCARDTY,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.ZCARDTY,callback:function(e){t.$set(t.dataForm,"ZCARDTY",e)},expression:"dataForm.ZCARDTY"}},t._l(t.optionsZcardty,(function(a){return e("el-option",{key:a.subty,attrs:{label:a.subty,value:a.subty}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.subty))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(a.stext))])])})),1)],1),e("el-form-item",{attrs:{label:"門組",prop:"ZDOOR"}},[e("el-input",{attrs:{name:"ZDOOR",disabled:t.DisableFlag.ZDOOR},model:{value:t.dataForm.ZDOOR,callback:function(e){t.$set(t.dataForm,"ZDOOR",e)},expression:"dataForm.ZDOOR"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"類型說明",prop:"STEXT"}},[e("el-input",{attrs:{name:"STEXT",disabled:t.DisableFlag.STEXT},model:{value:t.dataForm.STEXT,callback:function(e){t.$set(t.dataForm,"STEXT",e)},expression:"dataForm.STEXT"}})],1),e("el-form-item",{attrs:{label:"內碼",prop:"ZBADGE"}},[e("el-input",{attrs:{name:"ZBADGE",disabled:t.DisableFlag.ZBADGE},model:{value:t.dataForm.ZBADGE,callback:function(e){t.$set(t.dataForm,"ZBADGE",e)},expression:"dataForm.ZBADGE"}})],1)],1)],1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},we=[],Te={name:"Pa9004Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"9004",SUBTY:"",ZCARDTY:"",STEXT:"",ZDOOR:"",ZBADGE:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ZCARDTY:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ZDOOR:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ZBADGE:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},optionsZcardty:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,ZCARDTY:!0,STEXT:!0,ZDOOR:!0,ZBADGE:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(0===a&&(e.ZCARDTY=!1),e.STEXT=!0,e.ZDOOR=!1,e.ZBADGE=!1,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.fetchData()}},"dataForm.ENDDA":{handler:function(t){this.fetchData()}},"dataForm.ZCARDTY":{handler:function(t){this.fetchData(),void 0!==t&&""!==t&&""!==this.dataForm.ZCARDTY&&(this.dataForm.STEXT=""===t?"":this.optionsZcardty.filter((function(e){return e.subty===t}))[0].stext)}},dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.ZCARDTY=this.parentObj.body.zcardty,this.dataForm.STEXT=this.parentObj.body.stext,this.dataForm.ZDOOR=this.parentObj.body.zdoor,this.dataForm.ZBADGE=this.parentObj.body.zbadge):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="9004",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.zcardty=t.dataForm.ZCARDTY,a.stext=t.dataForm.STEXT,a.zdoor=t.dataForm.ZDOOR,a.zbadge=t.dataForm.ZBADGE,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",ZCARDTY:"",STEXT:"",ZDOOR:"",ZBADGE:""}},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getT591A();case 2:case"end":return e.stop()}}),e)})))()},getT591A:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["n"])("9004","1800-1-1","9999-12-31").then((function(e){t.optionsZcardty=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty"),200===e.status||Object(r["Message"])({message:"取得類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},xe=Te,je=Object(D["a"])(xe,Ae,we,!1,null,null,null),_e=je.exports,Ce={name:"Pa9004List",components:{Pa9004Detail:_e},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},ke=Ce,Ne=Object(D["a"])(ke,Se,Ee,!1,null,null,null),Ie=Ne.exports,Me=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("日期規格")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"dar01",label:"日期類型"}}),e("el-table-column",{attrs:{prop:"dat01",label:"日期"}}),e("el-table-column",{attrs:{prop:"dar02",label:"日期類型"}}),e("el-table-column",{attrs:{prop:"dat02",label:"日期"}}),e("el-table-column",{attrs:{prop:"dar03",label:"日期類型"}}),e("el-table-column",{attrs:{prop:"dat03",label:"日期"}}),e("el-table-column",{attrs:{prop:"dar04",label:"日期類型"}}),e("el-table-column",{attrs:{prop:"dat04",label:"日期"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0041-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},Be=[],Re=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("日期規格")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 1",prop:"DAR01"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR01,clearable:"",filterable:""},model:{value:t.dataForm.DAR01,callback:function(e){t.$set(t.dataForm,"DAR01",e)},expression:"dataForm.DAR01"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 1",prop:"DAT01"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT01},model:{value:t.dataForm.DAT01,callback:function(e){t.$set(t.dataForm,"DAT01",e)},expression:"dataForm.DAT01"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 2",prop:"DAR02"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR02,clearable:"",filterable:""},model:{value:t.dataForm.DAR02,callback:function(e){t.$set(t.dataForm,"DAR02",e)},expression:"dataForm.DAR02"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 2",prop:"DAT02"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT02},model:{value:t.dataForm.DAT02,callback:function(e){t.$set(t.dataForm,"DAT02",e)},expression:"dataForm.DAT02"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 3",prop:"DAR03"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR03,clearable:"",filterable:""},model:{value:t.dataForm.DAR03,callback:function(e){t.$set(t.dataForm,"DAR03",e)},expression:"dataForm.DAR03"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 3",prop:"DAT03"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT03},model:{value:t.dataForm.DAT03,callback:function(e){t.$set(t.dataForm,"DAT03",e)},expression:"dataForm.DAT03"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 4",prop:"DAR04"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR04,clearable:"",filterable:""},model:{value:t.dataForm.DAR04,callback:function(e){t.$set(t.dataForm,"DAR04",e)},expression:"dataForm.DAR04"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 4",prop:"DAT04"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT04},model:{value:t.dataForm.DAT04,callback:function(e){t.$set(t.dataForm,"DAT04",e)},expression:"dataForm.DAT04"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 5",prop:"DAR05"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR05,clearable:"",filterable:""},model:{value:t.dataForm.DAR05,callback:function(e){t.$set(t.dataForm,"DAR05",e)},expression:"dataForm.DAR05"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 5",prop:"DAT05"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT05},model:{value:t.dataForm.DAT05,callback:function(e){t.$set(t.dataForm,"DAT05",e)},expression:"dataForm.DAT05"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 6",prop:"DAR06"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR06,clearable:"",filterable:""},model:{value:t.dataForm.DAR06,callback:function(e){t.$set(t.dataForm,"DAR06",e)},expression:"dataForm.DAR06"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 6",prop:"DAT06"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT06},model:{value:t.dataForm.DAT06,callback:function(e){t.$set(t.dataForm,"DAT06",e)},expression:"dataForm.DAT06"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 7",prop:"DAR07"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR07,clearable:"",filterable:""},model:{value:t.dataForm.DAR07,callback:function(e){t.$set(t.dataForm,"DAR07",e)},expression:"dataForm.DAR07"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 7",prop:"DAT07"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT07},model:{value:t.dataForm.DAT07,callback:function(e){t.$set(t.dataForm,"DAT07",e)},expression:"dataForm.DAT07"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 8",prop:"DAR08"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR08,clearable:"",filterable:""},model:{value:t.dataForm.DAR08,callback:function(e){t.$set(t.dataForm,"DAR08",e)},expression:"dataForm.DAR08"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 8",prop:"DAT08"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT08},model:{value:t.dataForm.DAT08,callback:function(e){t.$set(t.dataForm,"DAT08",e)},expression:"dataForm.DAT08"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"日期類型 9",prop:"DAR09"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.DAR09,clearable:"",filterable:""},model:{value:t.dataForm.DAR09,callback:function(e){t.$set(t.dataForm,"DAR09",e)},expression:"dataForm.DAR09"}},t._l(t.DAROptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"日期 9",prop:"DAT09"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.DAT09},model:{value:t.dataForm.DAT09,callback:function(e){t.$set(t.dataForm,"DAT09",e)},expression:"dataForm.DAT09"}})],1)],1)],1)],1)]),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("年資相關資訊")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"職前專業年資",prop:"ZPROF"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"ZPROF",disabled:t.DisableFlag.ZPROF,precision:1,step:.1},model:{value:t.dataForm.ZPROF,callback:function(e){t.$set(t.dataForm,"ZPROF",e)},expression:"dataForm.ZPROF"}})],1),e("el-form-item",{attrs:{label:"累積抵扣年資(月)",prop:"ZCUM"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"ZCUM",disabled:t.DisableFlag.ZCUM},model:{value:t.dataForm.ZCUM,callback:function(e){t.$set(t.dataForm,"ZCUM",e)},expression:"dataForm.ZCUM"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"職前工作年資",prop:"ZNONCMO"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"ZNONCMO",disabled:t.DisableFlag.ZNONCMO,precision:1,step:.1},model:{value:t.dataForm.ZNONCMO,callback:function(e){t.$set(t.dataForm,"ZNONCMO",e)},expression:"dataForm.ZNONCMO"}})],1),e("el-form-item",{attrs:{label:"折算職等年資",prop:"ZCTG"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"ZCTG",disabled:t.DisableFlag.ZCTG,precision:1,step:.1},model:{value:t.dataForm.ZCTG,callback:function(e){t.$set(t.dataForm,"ZCTG",e)},expression:"dataForm.ZCTG"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},Le=[],Pe={name:"Pa0041Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"qwertyui1234567",pernr:"19055688",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0041",subty:"",dar01:"Z1",dat01:"2022/4/18",dar02:"ZA",dat02:"2022/4/18",dar03:"Z1",dat03:"2022/4/18",dar04:"ZA",dat04:"2022/4/18",dar05:"ZA",dat05:"2022/4/18",dar06:"ZA",dat06:"2022/4/18",dar07:"ZA",dat07:"2022/4/18",dar08:"ZA",dat08:"2022/4/18",dar09:"ZA",dat09:"2022/4/18",zprof:0,zcum:0,znoncmo:0,zctg:0}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0041",SUBTY:"",DAR01:"",DAT01:"",DAR02:"",DAT02:"",DAR03:"",DAT03:"",DAR04:"",DAT04:"",DAR05:"",DAT05:"",DAR06:"",DAT06:"",DAR07:"",DAT07:"",DAR08:"",DAT08:"",DAR09:"",DAT09:"",ZPROF:0,ZCUM:0,ZNONCMO:0,ZCTG:0},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},DAROptions:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,DAR01:!0,DAT01:!0,DAR02:!0,DAT02:!0,DAR03:!0,DAT03:!0,DAR04:!0,DAT04:!0,DAR05:!0,DAT05:!0,DAR06:!0,DAT06:!0,DAR07:!0,DAT07:!0,DAR08:!0,DAT08:!0,DAR09:!0,DAT09:!0,ZPROF:!0,ZCUM:!0,ZNONCMO:!0,ZCTG:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,e.DAR01=!1,e.DAT01=!1,e.DAR02=!1,e.DAT02=!1,e.DAR03=!1,e.DAT03=!1,e.DAR04=!1,e.DAT04=!1,e.DAR05=!1,e.DAT05=!1,e.DAR06=!1,e.DAT06=!1,e.DAR07=!1,e.DAT07=!1,e.DAR08=!1,e.DAT08=!1,e.DAR09=!1,e.DAT09=!1,e.ZPROF=!1,e.ZCUM=!1,e.ZNONCMO=!1,e.ZCTG=!1),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.getPAConfigByPar()}},"dataForm.ENDDA":{handler:function(t){this.getPAConfigByPar()}},dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.DAR01=this.parentObj.body.dar01,this.dataForm.DAT01=this.parentObj.body.dat01,this.dataForm.DAR02=this.parentObj.body.dar02,this.dataForm.DAT02=this.parentObj.body.dat02,this.dataForm.DAR03=this.parentObj.body.dar03,this.dataForm.DAT03=this.parentObj.body.dat03,this.dataForm.DAR04=this.parentObj.body.dar04,this.dataForm.DAT04=this.parentObj.body.dat04,this.dataForm.DAR05=this.parentObj.body.dar05,this.dataForm.DAT05=this.parentObj.body.dat05,this.dataForm.DAR06=this.parentObj.body.dar06,this.dataForm.DAT06=this.parentObj.body.dat06,this.dataForm.DAR07=this.parentObj.body.dar07,this.dataForm.DAT07=this.parentObj.body.dat07,this.dataForm.DAR08=this.parentObj.body.dar08,this.dataForm.DAT08=this.parentObj.body.dat08,this.dataForm.DAR09=this.parentObj.body.dar09,this.dataForm.DAT09=this.parentObj.body.dat09,this.dataForm.ZPROF=this.parentObj.body.zprof,this.dataForm.ZCUM=this.parentObj.body.zcum,this.dataForm.ZNONCMO=this.parentObj.body.znoncmo,this.dataForm.ZCTG=this.parentObj.body.zctg):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0041",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getPAConfigByPar())}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.dar01=t.dataForm.DAR01,a.dat01=t.dataForm.DAT01,a.dar02=t.dataForm.DAR02,a.dat02=t.dataForm.DAT02,a.dar03=t.dataForm.DAR03,a.dat03=t.dataForm.DAT03,a.dar04=t.dataForm.DAR04,a.dat04=t.dataForm.DAT04,a.dar05=t.dataForm.DAR05,a.dat05=t.dataForm.DAT05,a.dar06=t.dataForm.DAR06,a.dat06=t.dataForm.DAT06,a.dar07=t.dataForm.DAR07,a.dat07=t.dataForm.DAT07,a.dar08=t.dataForm.DAR08,a.dat08=t.dataForm.DAT08,a.dar09=t.dataForm.DAR09,a.dat09=t.dataForm.DAT09,a.zprof=t.dataForm.ZPROF,a.zcum=t.dataForm.ZCUM,a.znoncmo=t.dataForm.ZNONCMO,a.zctg=t.dataForm.ZCTG,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",DAR01:"",DAT01:"",DAR02:"",DAT02:"",DAR03:"",DAT03:"",DAR04:"",DAT04:"",DAR05:"",DAT05:"",DAR06:"",DAT06:"",DAR07:"",DAT07:"",DAR08:"",DAT08:"",DAR09:"",DAT09:"",ZPROF:0,ZCUM:0,ZNONCMO:0,ZCTG:0}},getPAConfigByPar:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.DAROptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["h"])("ZHR_VALUERANGE","domname","DATAR").then((function(e){t.DAROptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),200===e.status||Object(r["Message"])({message:"取得日期類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}},Ve=Pe,$e=Object(D["a"])(Ve,Re,Le,!1,null,"170a34ab",null),Ge=$e.exports,ze={name:"Pa0041List",components:{Pa0041Detail:Ge},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},Ue=ze,Ze=Object(D["a"])(Ue,Me,Be,!1,null,"11edfa83",null),Ye=Ze.exports,He=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("個人ID")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"t591a_stext",label:"說明"}}),e("el-table-column",{attrs:{prop:"icnum",label:"ID號碼"}}),e("el-table-column",{attrs:{prop:"expid",label:"到期日"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0022-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},Ke=[],Je=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"100px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("個人ID")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"ID類型",prop:"ICTYP"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.ICTYP,clearable:"",filterable:""},on:{change:t.selectICTYP},model:{value:t.dataForm.ICTYP,callback:function(e){t.$set(t.dataForm,"ICTYP",e)},expression:"dataForm.ICTYP"}},t._l(t.ICTYPOptions,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.stext,value:t.subty}})})),1)],1),e("el-form-item",{attrs:{label:"ID號碼",prop:"ICNUM"}},[e("el-input",{attrs:{name:"ICNUM",disabled:t.DisableFlag.ICNUM},model:{value:t.dataForm.ICNUM,callback:function(e){t.$set(t.dataForm,"ICNUM",e)},expression:"dataForm.ICNUM"}})],1),0===t.IDCOTVisible?e("el-form-item",{attrs:{label:"ID錯誤註記",prop:"OVCHK"}},[e("el-radio",{attrs:{label:"",disabled:t.DisableFlag.OVCHK},model:{value:t.dataForm.OVCHK,callback:function(e){t.$set(t.dataForm,"OVCHK",e)},expression:"dataForm.OVCHK"}},[t._v("沒有錯誤")]),e("el-radio",{attrs:{label:"A",disabled:t.DisableFlag.OVCHK},model:{value:t.dataForm.OVCHK,callback:function(e){t.$set(t.dataForm,"OVCHK",e)},expression:"dataForm.OVCHK"}},[t._v("核發號碼錯誤")]),e("el-radio",{attrs:{label:"B",disabled:t.DisableFlag.OVCHK},model:{value:t.dataForm.OVCHK,callback:function(e){t.$set(t.dataForm,"OVCHK",e)},expression:"dataForm.OVCHK"}},[t._v("未知原因")])],1):t._e(),0===t.IDCOTVisible?e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"ID國家",prop:"IDCOT"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:"",clearable:"",filterable:""},model:{value:t.dataForm.IDCOT,callback:function(e){t.$set(t.dataForm,"IDCOT",e)},expression:"dataForm.IDCOT"}},t._l(t.IDCOTOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.landx,value:t.land1}})})),1)],1):t._e(),1===t.IDCOTVisible?e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"ID國家",prop:"IDCOT"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:"",clearable:"",filterable:""},model:{value:t.dataForm.IDCOT,callback:function(e){t.$set(t.dataForm,"IDCOT",e)},expression:"dataForm.IDCOT"}},t._l(t.IDCOTOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.landx,value:t.land1}})})),1)],1):t._e(),2===t.IDCOTVisible?e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"ID國家",prop:"IDCOT"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.IDCOT,clearable:"",filterable:""},model:{value:t.dataForm.IDCOT,callback:function(e){t.$set(t.dataForm,"IDCOT",e)},expression:"dataForm.IDCOT"}},t._l(t.IDCOTOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.landx,value:t.land1}})})),1)],1):t._e(),e("el-form-item",{attrs:{label:"核發機關",prop:"AUTH1"}},[e("el-input",{attrs:{name:"AUTH1",disabled:t.DisableFlag.AUTH1},model:{value:t.dataForm.AUTH1,callback:function(e){t.$set(t.dataForm,"AUTH1",e)},expression:"dataForm.AUTH1"}})],1),e("el-form-item",{attrs:{label:"核發號碼",prop:"DOCN1"}},[e("el-input",{attrs:{name:"DOCN1",disabled:t.DisableFlag.DOCN1},model:{value:t.dataForm.DOCN1,callback:function(e){t.$set(t.dataForm,"DOCN1",e)},expression:"dataForm.DOCN1"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"核發日期",prop:"FPDAT"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.FPDAT},model:{value:t.dataForm.FPDAT,callback:function(e){t.$set(t.dataForm,"FPDAT",e)},expression:"dataForm.FPDAT"}})],1),e("el-form-item",{attrs:{label:"到期日",prop:"EXPID"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"請選擇",disabled:t.DisableFlag.EXPID},model:{value:t.dataForm.EXPID,callback:function(e){t.$set(t.dataForm,"EXPID",e)},expression:"dataForm.EXPID"}})],1),e("el-form-item",{attrs:{label:"核發地點",prop:"ISSPL"}},[e("el-input",{attrs:{name:"ISSPL",disabled:t.DisableFlag.ISSPL},model:{value:t.dataForm.ISSPL,callback:function(e){t.$set(t.dataForm,"ISSPL",e)},expression:"dataForm.ISSPL"}})],1),0===t.IDCOTVisible?e("el-form-item",{attrs:{label:"ID核發國家",prop:"ISCOT"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:"",clearable:"",filterable:""},model:{value:t.dataForm.ISCOT,callback:function(e){t.$set(t.dataForm,"ISCOT",e)},expression:"dataForm.ISCOT"}},t._l(t.ISCOTOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.landx,value:t.land1}})})),1)],1):t._e(),1===t.IDCOTVisible?e("el-form-item",{attrs:{label:"ID核發國家",prop:"ISCOT"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:"",clearable:"",filterable:""},model:{value:t.dataForm.ISCOT,callback:function(e){t.$set(t.dataForm,"ISCOT",e)},expression:"dataForm.ISCOT"}},t._l(t.ISCOTOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.landx,value:t.land1}})})),1)],1):t._e(),2===t.IDCOTVisible?e("el-form-item",{attrs:{label:"ID核發國家",prop:"ISCOT"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.ISCOT,clearable:"",filterable:""},model:{value:t.dataForm.ISCOT,callback:function(e){t.$set(t.dataForm,"ISCOT",e)},expression:"dataForm.ISCOT"}},t._l(t.ISCOTOptions,(function(t){return e("el-option",{key:t.land1,attrs:{label:t.land1+" "+t.landx,value:t.land1}})})),1)],1):t._e(),e("el-form-item",{attrs:{label:"民族團體",prop:"RACEO"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.RACEO,clearable:"",filterable:""},model:{value:t.dataForm.RACEO,callback:function(e){t.$set(t.dataForm,"RACEO",e)},expression:"dataForm.RACEO"}},t._l(t.RACEOOptions,(function(t){return e("el-option",{key:t.domvalue,attrs:{label:t.domvalue+" "+t.ddtext,value:t.domvalue}})})),1)],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},Xe=[],qe={name:"Pa0185Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"qwertyui1234567",pernr:"13000003",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0105",subty:"0002",ictyp:"02",t591a_stext:"台灣ID",icnum:"A123456789",ovchk:"A",idcot:"TW",auth1:"",docn1:"",fpdat:"",expid:"",isspl:"",iscot:"TW",raceo:"003"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0185",SUBTY:"",ICTYP:"",STEXT:"",ICNUM:"",OVCHK:"",IDCOT:"",LANDX:"",AUTH1:"",DOCN1:"",FPDAT:"",EXPID:"",ISSPL:"",ISCOT:"",RACEO:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ICTYP:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ICNUM:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],IDCOT:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ISCOT:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],AUTH1:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],DOCN1:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],ISSPL:[{required:!1,message:"此欄不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},ICTYPOptions:[],IDCOTOptions:[],ISCOTOptions:[],RACEOOptions:[],IDCOTVisible:-1}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,ICTYP:!0,STEXT:!0,ICNUM:!0,OVCHK:!0,IDCOT:!0,LANDX:!0,AUTH1:!0,DOCN1:!0,FPDAT:!0,EXPID:!0,ISSPL:!0,ISCOT:!0,RACEO:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,e.ICNUM=!1,e.OVCHK=!1,e.IDCOT=!1,e.AUTH1=!1,e.DOCN1=!1,e.FPDAT=!1,e.EXPID=!1,e.ISSPL=!1,e.ISCOT=!1,e.RACEO=!1,0===a&&(e.ICTYP=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getT591A(),this.getT005(),this.getPAConfigByPar())}},"dataForm.ENDDA":{handler:function(t){this.getT591A(),this.getT005(),this.getPAConfigByPar()}},dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.ICTYP=this.parentObj.body.ictyp,this.dataForm.STEXT=this.parentObj.body.t591a_stext,this.dataForm.ICNUM=this.parentObj.body.icnum,this.dataForm.OVCHK=this.parentObj.body.ovchk,this.dataForm.IDCOT=this.parentObj.body.idcot,this.dataForm.AUTH1=this.parentObj.body.auth1,this.dataForm.DOCN1=this.parentObj.body.docn1,this.dataForm.FPDAT=this.parentObj.body.fpdat,this.dataForm.EXPID=this.parentObj.body.expid,this.dataForm.ISSPL=this.parentObj.body.isspl,this.dataForm.ISCOT=this.parentObj.body.iscot,this.dataForm.RACEO=this.parentObj.body.iscot):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0185",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getT591A(),this.getT005(),this.getPAConfigByPar())}},deep:!0}},methods:{selectICTYP:function(){var t=["01","07"],e=t.indexOf(this.dataForm.ICTYP);0===e?(this.dataForm.IDCOT="TW",this.dataForm.LANDX="台灣",this.dataForm.ISCOT="台灣",this.IDCOTVisible=0):1===e?(this.dataForm.IDCOT="CN",this.dataForm.LANDX="中國",this.dataForm.ISCOT="中國",this.IDCOTVisible=1):(this.dataForm.IDCOT="",this.dataForm.LANDX="",this.dataForm.ISCOT="",this.IDCOTVisible=2)},submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.ictyp=t.dataForm.ICTYP,a.icnum=t.dataForm.ICNUM,a.ovchk=t.dataForm.OVCHK,a.idcot=t.dataForm.IDCOT,a.auth1=t.dataForm.AUTH1,a.docn1=t.dataForm.DOCN1,a.fpdat=t.dataForm.FPDAT,a.expid=t.dataForm.EXPID,a.isspl=t.dataForm.ISSPL,a.iscot=t.dataForm.ISCOT,a.raceo=t.dataForm.RACEO,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",ICTYP:"",STEXT:"",ICNUM:"",OVCHK:"",IDCOT:"",LANDX:"",AUTH1:"",DOCN1:"",FPDAT:"",EXPID:"",ISSPL:"",ISCOT:"",RACEO:""}},getT591A:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.ICTYPOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["n"])(this.dataForm.INFTY,"1800-1-1","9999-12-31").then((function(e){t.ICTYPOptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty"),200===e.status||Object(r["Message"])({message:"取得ID類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getT005:function(){var t=this;Object(b["i"])("T005").then((function(e){t.countryOptions=e.data,200===e.status||Object(r["Message"])({message:"取得國家資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},getPAConfigByPar:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(c["a"])(this.dataForm.BEGDA)||Object(c["a"])(this.dataForm.ENDDA))&&(this.RACEOOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(b["h"])("ZHR_VALUERANGE","domname","RACEO").then((function(e){t.RACEOOptions=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"domvalue"),200===e.status||Object(r["Message"])({message:"取得民族團體資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}},We=qe,Qe=Object(D["a"])(We,Je,Xe,!1,null,"607819b0",null),ta=Qe.exports,ea={name:"Pa0022List",components:{Pa0022Detail:ta},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},aa=ea,ia=Object(D["a"])(aa,He,Ke,!1,null,"6a1fd487",null),sa=ia.exports,oa=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("替代名稱")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"namtp",label:"名稱類型"}}),e("el-table-column",{attrs:{prop:"stext",label:"名稱類型內文"}}),e("el-table-column",{attrs:{prop:"alnam",label:"替代名稱"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("pa0182-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},la=[],na=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"名稱類型",prop:"NAMTP"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.NAMTP,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.NAMTP,callback:function(e){t.$set(t.dataForm,"NAMTP",e)},expression:"dataForm.NAMTP"}},t._l(t.optionsNamtp,(function(a){return e("el-option",{key:a.subty,attrs:{label:a.subty,value:a.subty}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(a.subty))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(a.stext))])])})),1)],1),e("el-form-item",{attrs:{label:"其他名稱",prop:"ALNAM"}},[e("el-input",{attrs:{name:"ALNAM",disabled:t.DisableFlag.ALNAM},model:{value:t.dataForm.ALNAM,callback:function(e){t.$set(t.dataForm,"ALNAM",e)},expression:"dataForm.ALNAM"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"名稱類型說明",prop:"STEXT"}},[e("el-input",{attrs:{name:"STEXT",disabled:t.DisableFlag.STEXT},model:{value:t.dataForm.STEXT,callback:function(e){t.$set(t.dataForm,"STEXT",e)},expression:"dataForm.STEXT"}})],1)],1)],1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},ra=[],ca={name:"Pa0182Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{},body:{}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0182",SUBTY:"",NAMTP:"",STEXT:"",ALNAM:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],NAMTP:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},optionsNamtp:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,NAMTP:!0,STEXT:!0,ALNAM:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(0===a&&(e.NAMTP=!1),e.STEXT=!0,e.ALNAM=!1,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.fetchData()}},"dataForm.ENDDA":{handler:function(t){this.fetchData()}},"dataForm.NAMTP":{handler:function(t){this.fetchData(),void 0!==t&&""!==t&&""!==this.dataForm.NAMTP&&(this.dataForm.STEXT=""===t?"":this.optionsNamtp.filter((function(e){return e.subty===t}))[0].stext)}},dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.NAMTP=this.parentObj.body.namtp,this.dataForm.ALNAM=this.parentObj.body.alnam):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0182",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY))}},deep:!0}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(h["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(b["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(r["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.namtp=t.dataForm.NAMTP,a.stext=t.dataForm.STEXT,a.alnam=t.dataForm.ALNAM,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?(Object(b["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):Object(b["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",NAMTP:"",STEXT:"",ALNAM:""}},fetchData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getT591A();case 2:case"end":return e.stop()}}),e)})))()},getT591A:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["n"])("0182","1800-1-1","9999-12-31").then((function(e){t.optionsNamtp=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty"),200===e.status||Object(r["Message"])({message:"取得名稱類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},da=ca,ua=Object(D["a"])(da,na,ra,!1,null,null,null),pa=ua.exports,ma={name:"Pa0182List",components:{Pa0182Detail:pa},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},ba=ma,ha=Object(D["a"])(ba,oa,la,!1,null,null,null),fa=ha.exports,ga={name:"PAInfortype",components:{Pa0105List:E,Pa0105Detail:v,Pa0001List:C,Pa0001Detail:T["a"],Pa0022List:z,Pa0022Detail:P,Pa0002List:at,Pa0002Detail:W,Pa0007List:ct,Pa0007Detail:ot["a"],Pa0006List:Ot,Pa0006Detail:gt,Pa0000List:xt,Pa0000Detail:Et["a"],Pa0016List:Vt,Pa0016Detail:Bt,Pa0032List:Wt,Pa0032Detail:Kt,Pa0023List:de,Pa0023Detail:le,Pa0081List:Fe,Pa0081Detail:De,Pa9004List:Ie,Pa9004Detail:_e,Pa0041List:Ye,Pa0041Detail:Ge,Pa0185List:sa,Pa0185Detail:ta,Pa0182List:fa,Pa0182Detail:pa},data:function(){return{switchEdit:!1,dialogVisible:!1,dialogStatus:"",listView:"",detailView:"",subtype:!1,pernr:"19055688",begda:"",endda:"",titleData:{},bodyData:[],pa0000Data:[],parentObj:{},infoSel:void 0,subSel:void 0,subOptions:[],filteredSubOptions:[],options:[{infty:"0000",itext:"異動"},{infty:"0001",itext:"組織指派"},{infty:"0002",itext:"個人資料"},{infty:"0003",itext:"薪資狀態"},{infty:"0004",itext:"殘障"},{infty:"0006",itext:"地址"},{infty:"0007",itext:"計劃工作時間"},{infty:"0008",itext:"基本薪資"},{infty:"0009",itext:"銀行明細"},{infty:"0014",itext:"例行性付款/扣除額"},{infty:"0015",itext:"額外給付"},{infty:"0016",itext:"契約要項"},{infty:"0021",itext:"家庭成員/被扶養者"},{infty:"0022",itext:"教育"},{infty:"0023",itext:"其他/前任僱主"},{infty:"0032",itext:"內部資料"},{infty:"0041",itext:"日期規格"},{infty:"0081",itext:"兵役"},{infty:"0105",itext:"通訊"},{infty:"0182",itext:"替代名稱"},{infty:"0185",itext:"個人 ID"},{infty:"2001",itext:"缺勤"},{infty:"2003",itext:"代班"},{infty:"2005",itext:"加班"},{infty:"2006",itext:"缺勤限額"},{infty:"9004",itext:"識別證"}],filteredOptions:[],typeinfoFromDate:new Date(1799,12,1),typeinfoToDate:new Date(9999,11,31),pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.filteredOptions=Object(n["a"])(this.options)},mounted:function(){this.$refs.pernr.focus()},beforeDestroy:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==t.switchEdit){e.next=10;break}return a={},a.pernr=t.pernr,a.mdfyflg="0",a.mdfyusr=t.$store.getters.name,a.mdfydtm=Object(c["b"])(new Date),a.pageguid=t.$store.getters.uuid,e.next=9,Object(b["e"])(a).then((function(e){var a=e.success;!0===a||Object(r["Message"])(Object(c["f"])("檢視切換失敗:員工編號(".concat(t.pernr,")編輯解鎖失效"),"error"))})).catch((function(t){console.log(t)}));case 9:t.switchEdit=!1;case 10:case"end":return e.stop()}}),e)})))()},methods:{handleSwitchEdit:function(){var t=this;if(!this.titleData.pernr||!this.titleData.infty)return this.switchEdit=!1,void Object(r["Message"])(Object(c["f"])("請搜尋員工編號及InfoType !","error"));var e=this.titleData.pernr,a={};a.pernr=e,!0===this.switchEdit?(a.mdfyflg="1",a.pageguid=this.$store.getters.uuid):(a.mdfyflg="0",a.pageguid=this.$store.getters.uuid),a.mdfyusr=this.$store.getters.name,a.mdfydtm=Object(c["b"])(new Date),console.log("editLock: "+JSON.stringify(a)),Object(b["e"])(a).then((function(i){if(console.log("editLock pageguid: "+a.pageguid),200!==i.status||!0!==i.success)return Object(r["Message"])(Object(c["f"])("檢視/編輯切換失敗:員工編號(".concat(e,")編輯解鎖失效(").concat(i.message,")"),"error")),void(t.switchEdit=!1);Object(r["Message"])(Object(c["f"])("檢視/編輯切換成功:員工編號(".concat(e,")"),"success"))})).catch((function(a){Object(r["Message"])(Object(c["f"])("檢視/編輯切換失敗:員工編號(".concat(e,")編輯解鎖失效(").concat(a,")"),"error")),t.switchEdit=!1,console.log(a)}))},closeDialog:function(){this.dialogVisible=!1},view:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.pernr&&null!=t.infoSel){e.next=3;break}return Object(r["Message"])(Object(c["f"])("請輸入員工編號及選擇InfoType !","error")),e.abrupt("return");case 3:return e.next=5,t.handleSearch();case 5:t.parentObj={title:t.titleData,body:t.bodyData[0]},t.dialogStatus="view",t.dialogVisible=!0;case 8:case"end":return e.stop()}}),e)})))()},search:function(){this.pernr?(this.resetForm(),this.handleSearch()):Object(r["Message"])(Object(c["f"])("請輸入員工編號 !","error"))},handleSearch:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.typeinfoFromDate&&null!==t.typeinfoToDate){e.next=3;break}return Object(r["Message"])(Object(c["f"])("請輸入開始日期及結束日期 ! ","error")),e.abrupt("return");case 3:if("1799-12-01"===t.typeinfoFromDate&&"9999-11-31"===t.typeinfoToDate){e.next=13;break}if(!(t.typeinfoToDate<t.typeinfoFromDate)){e.next=9;break}return Object(r["Message"])(Object(c["f"])("結束時間不能比開始時間早 ! ","error")),e.abrupt("return");case 9:t.begda=Object(c["c"])(t.typeinfoFromDate),t.endda=Object(c["c"])(t.typeinfoToDate);case 11:e.next=15;break;case 13:t.begda="1799-12-01",t.endda="9999-11-31";case 15:return e.next=17,Object(b["j"])(t.pernr,t.begda,t.endda).then((function(e){var a=e.data;if(200===e.status){if(a.length>0){var i=Object.assign({},a[0]);if(t.pernr=i.pernr,i.begda=t.begda,i.endda=t.endda,t.infoSel>-1){var s=t.options.findIndex((function(e){return e.infty===t.infoSel}));i.infty=t.options[s].infty,i.actions="",i.subty=t.subSel}t.titleData=i,console.log("titleData",t.titleData)}}else Object(r["Message"])(Object(c["f"])("該員工不存在 ! ","error"))})).catch((function(t){console.log(t)}));case 17:if(!(t.infoSel>-1)){e.next=23;break}return e.next=20,t.getPAList();case 20:a=t.options.findIndex((function(e){return e.infty===t.infoSel})),t.listView="pa".concat(t.options[a].infty,"-list"),t.detailView="pa".concat(t.options[a].infty,"-detail");case 23:case"end":return e.stop()}}),e)})))()},getPAList:function(){var t=this,e=this.options.findIndex((function(e){return e.infty===t.infoSel}));return Object(b["k"])(this.options[e].infty,this.pernr,this.begda,this.endda).then((function(e){t.bodyData=e.data;var a=new Date,i=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,s=a.getDate()<10?"0"+a.getDate():a.getDate(),o=a.getFullYear()+"-"+i+"-"+s;t.pa0000Data=t.bodyData.filter((function(t){return t.begda===o})),t.subSel&&(t.bodyData=t.bodyData.filter((function(e){return e.subty===t.subSel})))})).catch((function(t){console.log(t)}))},getSubType:function(){var t=this;this.subSel=void 0,this.subtype=!1;var e=this.options.findIndex((function(e){return e.infty===t.infoSel}));Object(b["n"])(this.options[e].infty,"1800-1-1","9999-12-31").then((function(e){var a=e.data;t.subOptions=a,t.filteredSubOptions=a,400!==e.status||(t.subtype=!0)})).catch((function(t){console.log(t)}))},resetForm:function(){this.titleData={pernr:"",persg:"",t501t_ptext:"",pa0001_werks:"",t500p_pbtxt:"",ename:"",persk:"",t503t_ptext:"",kostl:"",hrca_costc_name:""}}}},Da=ga,ya=Object(D["a"])(Da,i,s,!1,null,"2e3ac399",null);e["default"]=ya.exports},"9aac":function(t,e,a){},"9af8":function(t,e,a){"use strict";a.d(e,"n",(function(){return s})),a.d(e,"j",(function(){return o})),a.d(e,"k",(function(){return l})),a.d(e,"l",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"p",(function(){return c})),a.d(e,"d",(function(){return d})),a.d(e,"i",(function(){return u})),a.d(e,"h",(function(){return p})),a.d(e,"g",(function(){return m})),a.d(e,"m",(function(){return b})),a.d(e,"b",(function(){return h})),a.d(e,"o",(function(){return f})),a.d(e,"a",(function(){return g})),a.d(e,"f",(function(){return D})),a.d(e,"e",(function(){return y}));a("99af");var i=a("b775");function s(t,e,a){var s="/DomainController/Common/T591A/GetById/".concat(t,"/").concat(e,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+s,method:"get"})}function o(t,e,a){var s="/DomainController/PA/P_PA0001/GetINI/".concat(t,"/").concat(e,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+s,method:"get"})}function l(t,e,a,s){var o="/DomainController/PA/P_PA".concat(t,"/Get/").concat(e,"/").concat(a,"/").concat(s);return Object(i["a"])({url:"https://apim.innolux.com"+o,method:"get"})}function n(t,e,a){var s="/DomainController/PA/P_PA".concat(t,"/GetBy").concat(e,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+s,method:"get"})}function r(t,e){var a="/DomainController/PA/P_PA".concat(t,"/Add");return Object(i["a"])({url:"https://apim.innolux.com"+a,method:"post",data:e})}function c(t,e){var a="/DomainController/PA/P_PA".concat(t,"/Update");return Object(i["a"])({url:"https://apim.innolux.com"+a,method:"put",data:e})}function d(t,e,a){var s="/DomainController/PA/P_PA".concat(t,"/ActiveDelete/").concat(e);return Object(i["a"])({url:"https://apim.innolux.com"+s,method:"put",data:a})}function u(t){var e="/DomainController/Common/".concat(t,"/Get");return Object(i["a"])({url:"https://apim.innolux.com"+e,method:"get"})}function p(t,e,a){var s=e.toLowerCase(),o=s.substring(0,1).toUpperCase()+s.substring(1,s.length),l="/DomainController/Common/".concat(t,"/GetBy").concat(o,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+l,method:"get"})}function m(){var t="/DomainController/Common/CSKSZ/Get";return Object(i["a"])({url:"https://apim.innolux.com"+t,method:"get"})}function b(t,e,a){var s="/DomainController/Common/T508A/GetBySchkzList/".concat(t,"/").concat(e,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+s,method:"get"})}function h(t){var e="/DomainController/PA/BATCH/Z1";return Object(i["a"])({url:"https://apim.innolux.com"+e,method:"post",data:t})}function f(t){var e="/DomainController/PA/BATCH/PA_Z1_QueryForBatchData_REC_PERSON";return Object(i["a"])({url:"https://apim.innolux.com"+e,method:"post",data:t})}function g(t){var e="/DomainController/PA/BATCH/CommonChange";return Object(i["a"])({url:"https://apim.innolux.com"+e,method:"post",data:t})}function D(){var t="/DomainController/PA/BATCH/BATCH_SEQUENCE_NEXT";return Object(i["a"])({url:"https://apim.innolux.com"+t,method:"post"})}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PB0000",a="/DomainController/PA/".concat(e,"/EditLock");return Object(i["a"])({url:"https://apim.innolux.com"+a,method:"put",data:t})}},"9b8b":function(t,e,a){},"9bbf":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-drag",use:"icon-drag-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-drag"><path d="M73.137 29.08h-9.209 29.7L63.886.093 34.373 29.08h20.49v27.035H27.238v17.948h27.625v27.133h18.274V74.063h27.41V56.115h-27.41V29.08zm-9.245 98.827l27.518-26.711H36.59l27.302 26.71zM.042 64.982l27.196 27.029V38.167L.042 64.982zm100.505-26.815V92.01l27.41-27.029-27.41-26.815z" /></symbol>'});l.a.add(n);e["default"]=n},"9d7c":function(t,e,a){t.exports=a.p+"static/img/睿生在職logo.76d092fc.jpg"},"9d91":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-icon",use:"icon-icon-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-icon"><path d="M115.147.062a13 13 0 0 1 4.94.945c1.55.63 2.907 1.526 4.069 2.688a13.148 13.148 0 0 1 2.761 4.069c.678 1.55 1.017 3.245 1.017 5.086v102.3c0 3.681-1.187 6.733-3.56 9.155-2.373 2.422-5.352 3.633-8.937 3.633H12.992c-3.875 0-7-1.26-9.373-3.779-2.373-2.518-3.56-5.667-3.56-9.445V12.704c0-3.39 1.163-6.345 3.488-8.863C5.872 1.32 8.972.062 12.847.062h102.3zM81.434 109.047c1.744 0 3.003-.412 3.778-1.235.775-.824 1.163-1.914 1.163-3.27 0-1.26-.388-2.325-1.163-3.197-.775-.872-2.034-1.307-3.778-1.307H72.57c.097-.194.145-.485.145-.872V27.09h9.01c1.743 0 2.954-.436 3.633-1.308.678-.872 1.017-1.938 1.017-3.197 0-1.26-.34-2.325-1.017-3.197-.679-.872-1.89-1.308-3.633-1.308H46.268c-1.743 0-2.954.436-3.632 1.308-.678.872-1.018 1.938-1.018 3.197 0 1.26.34 2.325 1.018 3.197.678.872 1.889 1.308 3.632 1.308h8.138v72.075c0 .193.024.339.073.436.048.096.072.242.072.436H46.56c-1.744 0-3.003.435-3.778 1.307-.775.872-1.163 1.938-1.163 3.197 0 1.356.388 2.446 1.163 3.27.775.823 2.034 1.235 3.778 1.235h34.875z" /></symbol>'});l.a.add(n);e["default"]=n},"9eb9":function(t,e,a){"use strict";a("b8c8")},"9ed6":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,autocomplete:"on","label-position":"left"}},[e("div",{staticClass:"title-container"},[e("img",{staticClass:"logo",attrs:{src:a("cf05"),alt:"logo.png"}})]),e("el-form-item",{attrs:{prop:"UserID"}},[e("span",{staticClass:"svg-container"},[e("svg-icon",{attrs:{"icon-class":"user"}})],1),e("el-input",{ref:"username",attrs:{placeholder:"Username",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.loginForm.UserID,callback:function(e){t.$set(t.loginForm,"UserID",e)},expression:"loginForm.UserID"}})],1),e("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(e){t.capsTooltip=e},expression:"capsTooltip"}},[e("el-form-item",{attrs:{prop:"Password"}},[e("span",{staticClass:"svg-container"},[e("svg-icon",{attrs:{"icon-class":"password"}})],1),e("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:[function(e){return t.checkCapslock.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin.apply(null,arguments)}]},model:{value:t.loginForm.Password,callback:function(e){t.$set(t.loginForm,"Password",e)},expression:"loginForm.Password"}}),e("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[e("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1)],1),t.DMZ?[e("el-form-item",{attrs:{prop:"TwoFA"}},[e("span",{staticClass:"svg-container"},[e("svg-icon",{attrs:{"icon-class":"message"}})],1),e("el-input",{ref:"twofa",attrs:{placeholder:"2FA驗證碼",name:"twofa",type:"text",tabindex:"3",autocomplete:"on"},model:{value:t.loginForm.TwoFA,callback:function(e){t.$set(t.loginForm,"TwoFA",e)},expression:"loginForm.TwoFA"}})],1),e("br"),e("el-link",{staticStyle:{color:"yellow"},attrs:{icon:"el-icon-info",href:"https://apim.innolux.com/2fa-query",target:"_blank"}},[t._v("2FA QRCode 查詢系統 ( 選innoHCM QR Code )")]),e("br")]:t._e(),e("br"),e("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[t._v("Login")]),e("div",{staticClass:"bottom-container"},[e("img",{staticClass:"innolux_logo",attrs:{src:a("d0d6"),alt:"innolux_logo.png"}})])],2)],1)},s=[],o=a("c7eb"),l=a("1da1"),n=(a("e9c4"),a("99af"),a("13d5"),a("d3b7"),a("b64b"),a("61f7")),r=a("5c96"),c={name:"Login",data:function(){var t=this,e=function(t,e,a){Object(n["e"])(e)?a():a(new Error("Please enter the correct user name"))},a=function(t,e,a){e.length<6?a(new Error("The password can not be less than 6 digits")):a()},i=function(e,a,i){!0===t.DMZ&&0===a.length?i(new Error("Please Check The Authenticator App")):i()};return{loginForm:{UserID:"",Password:"",Type:"SAMV4",ad:"",pathname:"",TwoFA:""},loginRules:{UserID:[{required:!0,trigger:"blur",validator:e}],Password:[{required:!0,trigger:"blur",validator:a}],TwoFA:[{required:!0,trigger:"blur",validator:i}]},passwordType:"password",capsTooltip:!1,loading:!1,redirect:void 0,otherQuery:{},DMZ:!1}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},created:function(){},mounted:function(){""===this.loginForm.UserID?this.$refs.username.focus():""===this.loginForm.Password&&this.$refs.password.focus(),this.DMZ=!0},destroyed:function(){},methods:{checkCapslock:function(t){var e=t.key;this.capsTooltip=e&&1===e.length&&e>="A"&&e<="Z"},showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleLogin:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i,s,l;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.$store.getters.uuid.length){e.next=3;break}return e.next=3,t.$store.dispatch("user/setUUID");case 3:if(!0!==t.DMZ){e.next=22;break}return a=JSON.stringify(t.loginForm),i=JSON.parse(a),e.next=8,t.$store.dispatch("user/TwoFALogin",i);case 8:if(s=e.sent,!0!==s.success){e.next=19;break}return e.next=12,t.$store.dispatch("user/TwoFAVerify",i);case 12:if(l=e.sent,!0===l.success){e.next=17;break}return Object(r["Message"])({message:l.message,type:"error",duration:5e3}),t.loading=!1,e.abrupt("return",!1);case 17:e.next=22;break;case 19:return Object(r["Message"])({message:s.message,type:"error",duration:5e3}),t.loading=!1,e.abrupt("return",!1);case 22:t.$refs.loginForm.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0;var a=JSON.stringify(t.loginForm),i=JSON.parse(a);i.pathname=t.$store.getters.uuid,"CMINL".length>0&&(i.ad="".concat("CMINL","/").concat(i.UserID)),t.$store.dispatch("user/login",i).then((function(){t.$router.push({path:t.redirect||"/",query:t.otherQuery}),t.loading=!1})).catch((function(){t.loading=!1,Object(r["Message"])({message:"Login Error",type:"error",duration:5e3})}))}));case 23:case"end":return e.stop()}}),e)})))()},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,a){return"redirect"!==a&&(e[a]=t[a]),e}),{})}}},d=c,u=(a("ad1f"),a("1cfe"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,"7e2429d3",null);e["default"]=p.exports},a14a:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-404",use:"icon-404-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-404"><path d="M121.718 73.272v9.953c3.957-7.584 6.199-16.05 6.199-24.995C127.917 26.079 99.273 0 63.958 0 28.644 0 0 26.079 0 58.23c0 .403.028.806.028 1.21l22.97-25.953h13.34l-19.76 27.187h6.42V53.77l13.728-19.477v49.361H22.998V73.272H2.158c5.951 20.284 23.608 36.208 45.998 41.399-1.44 3.3-5.618 11.263-12.565 12.674-8.607 1.764 23.358.428 46.163-13.178 17.519-4.611 31.938-15.849 39.77-30.513h-13.506V73.272H85.02V59.464l22.998-25.977h13.008l-19.429 27.187h6.421v-7.433l13.727-19.402v39.433h-.027zm-78.24 2.822a10.516 10.516 0 0 1-.996-4.535V44.548c0-1.613.332-3.124.996-4.535a11.66 11.66 0 0 1 2.713-3.68c1.134-1.032 2.49-1.864 4.04-2.468 1.55-.605 3.21-.908 4.982-.908h11.292c1.77 0 3.431.303 4.981.908 1.522.604 2.85 1.41 3.986 2.418l-12.26 16.303v-2.898a1.96 1.96 0 0 0-.665-1.512c-.443-.403-.996-.604-1.66-.604-.665 0-1.218.201-1.661.604a1.96 1.96 0 0 0-.664 1.512v9.071L44.364 77.606a10.556 10.556 0 0 1-.886-1.512zm35.73-4.535c0 1.613-.332 3.124-.997 4.535a11.66 11.66 0 0 1-2.712 3.68c-1.134 1.032-2.49 1.864-4.04 2.469-1.55.604-3.21.907-4.982.907H55.185c-1.77 0-3.431-.303-4.981-.907-1.55-.605-2.906-1.437-4.041-2.47a12.49 12.49 0 0 1-1.384-1.512l13.727-18.217v6.375c0 .605.222 1.109.665 1.512.442.403.996.604 1.66.604.664 0 1.218-.201 1.66-.604a1.96 1.96 0 0 0 .665-1.512V53.87L75.97 36.838c.913.932 1.66 1.99 2.214 3.175.664 1.41.996 2.922.996 4.535v27.011h.028z" /></symbol>'});l.a.add(n);e["default"]=n},a18c:function(t,e,a){"use strict";a.d(e,"b",(function(){return Le})),a.d(e,"a",(function(){return Pe})),a.d(e,"d",(function(){return Ge}));var i,s,o=a("36cd"),l=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b0e")),n=a("8c4f"),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-wrapper",class:t.classObj},["mobile"===t.device&&t.sidebar.opened?e("div",{staticClass:"drawer-bg",on:{click:t.handleClickOutside}}):t._e(),e("sidebar",{staticClass:"sidebar-container"}),e("div",{staticClass:"main-container",class:{hasTagsView:t.needTagsView}},[e("div",{class:{"fixed-header":t.fixedHeader}},[e("navbar"),t.needTagsView?e("tags-view"):t._e()],1),e("app-main"),t.showSettings?e("right-panel",[e("settings")],1):t._e()],1)],1)},c=[],d=a("5530"),u=function(){var t=this,e=t._self._c;return e("div",{ref:"rightPanel",staticClass:"rightPanel-container",class:{show:t.show}},[e("div",{staticClass:"rightPanel-background"}),e("div",{staticClass:"rightPanel"},[e("div",{staticClass:"handle-button",style:{top:t.buttonTop+"px","background-color":t.theme},on:{click:function(e){t.show=!t.show}}},[e("i",{class:t.show?"el-icon-close":"el-icon-setting"})]),e("div",{staticClass:"rightPanel-items"},[t._t("default")],2)])])},p=[],m=(a("a9e3"),a("ed08")),b={name:"RightPanel",props:{clickNotClose:{default:!1,type:Boolean},buttonTop:{default:250,type:Number}},data:function(){return{show:!1}},computed:{theme:function(){return this.$store.state.settings.theme}},watch:{show:function(t){t&&!this.clickNotClose&&this.addEventClick(),t?Object(m["a"])(document.body,"showRightPanel"):Object(m["e"])(document.body,"showRightPanel")}},mounted:function(){this.insertToBody()},beforeDestroy:function(){var t=this.$refs.rightPanel;t.remove()},methods:{addEventClick:function(){window.addEventListener("click",this.closeSidebar)},closeSidebar:function(t){var e=t.target.closest(".rightPanel");e||(this.show=!1,window.removeEventListener("click",this.closeSidebar))},insertToBody:function(){var t=this.$refs.rightPanel,e=document.querySelector("body");e.insertBefore(t,e.firstChild)}}},h=b,f=(a("8d1d"),a("0305"),a("2877")),g=Object(f["a"])(h,u,p,!1,null,"7ce91d5a",null),D=g.exports,y=function(){var t=this,e=t._self._c;return e("section",{staticClass:"app-main"},[e("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e("keep-alive",{attrs:{include:t.cachedViews}},[e("router-view",{key:t.key})],1)],1)],1)},v=[],O={name:"AppMain",computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.path}}},F=O,S=(a("bb12"),a("3749"),Object(f["a"])(F,y,v,!1,null,"92459f82",null)),E=S.exports,A=(a("b0c0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"navbar"},[e("hamburger",{staticClass:"hamburger-container",attrs:{id:"hamburger-container","is-active":t.sidebar.opened},on:{toggleClick:t.toggleSideBar}}),e("breadcrumb",{staticClass:"breadcrumb-container",attrs:{id:"breadcrumb-container"}}),e("div",{staticClass:"right-menu"},["mobile"!==t.device?[e("search",{staticClass:"right-menu-item",attrs:{id:"header-search"}}),e("error-log",{staticClass:"errLog-container right-menu-item hover-effect"}),e("screen-full",{staticClass:"right-menu-item hover-effect",attrs:{id:"screenfull"}}),e("span",{staticClass:"right-menu-item user-info"},[t._v(t._s(t.name))])]:t._e(),e("el-dropdown",{staticClass:"avatar-container right-menu-item hover-effect",attrs:{trigger:"click"}},[e("div",{staticClass:"avatar-wrapper"},[e("img",{staticClass:"user-avatar",attrs:{src:t.avatar+"?imageView2/1/w/80/h/80"}}),e("i",{staticClass:"el-icon-caret-bottom"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("router-link",{attrs:{to:"/"}},[e("el-dropdown-item",[t._v("Dashboard")])],1),e("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout.apply(null,arguments)}}},[e("span",{staticStyle:{display:"block"}},[t._v("Log Out")])])],1)],1)],2)],1)}),w=[],T=a("c7eb"),x=a("1da1"),j=a("2f62"),_=function(){var t=this,e=t._self._c;return e("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[e("transition-group",{attrs:{name:"breadcrumb"}},t._l(t.levelList,(function(a,i){return e("el-breadcrumb-item",{key:a.path},["noRedirect"===a.redirect||i==t.levelList.length-1?e("span",{staticClass:"no-redirect"},[t._v(t._s(a.meta.title))]):e("a",{on:{click:function(e){return e.preventDefault(),t.handleLink(a)}}},[t._v(t._s(a.meta.title))])])})),1)],1)},C=[],k=(a("2ca0"),a("4de4"),a("99af"),a("498a"),a("bd11")),N=a.n(k),I={data:function(){return{levelList:null}},watch:{$route:function(t){t.path.startsWith("/redirect/")||this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var t=this.$route.matched.filter((function(t){return t.meta&&t.meta.title})),e=t[0];this.isDashboard(e)||(t=[{path:"/dashboard",meta:{title:"Dashboard"}}].concat(t)),this.levelList=t.filter((function(t){return t.meta&&t.meta.title&&!1!==t.meta.breadcrumb}))},isDashboard:function(t){var e=t&&t.name;return!!e&&e.trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase()},pathCompile:function(t){var e=this.$route.params,a=N.a.compile(t);return a(e)},handleLink:function(t){var e=t.redirect,a=t.path;e?this.$router.push(e):this.$router.push(this.pathCompile(a))}}},M=I,B=(a("89f5"),Object(f["a"])(M,_,C,!1,null,"1919fc1a",null)),R=B.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{padding:"0 15px"},on:{click:t.toggleClick}},[e("svg",{staticClass:"hamburger",class:{"is-active":t.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[e("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])},P=[],V={name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},methods:{toggleClick:function(){this.$emit("toggleClick")}}},$=V,G=(a("d49d"),Object(f["a"])($,L,P,!1,null,"49e15297",null)),z=G.exports,U=function(){var t=this,e=t._self._c;return t.errorLogs.length>0?e("div",[e("el-badge",{staticStyle:{"line-height":"25px","margin-top":"-5px"},attrs:{"is-dot":!0},nativeOn:{click:function(e){t.dialogTableVisible=!0}}},[e("el-button",{staticStyle:{padding:"8px 10px"},attrs:{size:"small",type:"danger"}},[e("svg-icon",{attrs:{"icon-class":"bug"}})],1)],1),e("el-dialog",{attrs:{visible:t.dialogTableVisible,width:"80%","append-to-body":""},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("span",{staticStyle:{"padding-right":"10px"}},[t._v("Error Log")]),e("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-delete"},on:{click:t.clearAll}},[t._v("Clear All")])],1),e("el-table",{attrs:{data:t.errorLogs,border:""}},[e("el-table-column",{attrs:{label:"Message"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.row;return[e("div",[e("span",{staticClass:"message-title"},[t._v("Msg:")]),e("el-tag",{attrs:{type:"danger"}},[t._v(" "+t._s(i.err.message)+" ")])],1),e("br"),e("div",[e("span",{staticClass:"message-title",staticStyle:{"padding-right":"10px"}},[t._v("Info: ")]),e("el-tag",{attrs:{type:"warning"}},[t._v(" "+t._s(i.vm.$vnode.tag)+" error in "+t._s(i.info)+" ")])],1),e("br"),e("div",[e("span",{staticClass:"message-title",staticStyle:{"padding-right":"16px"}},[t._v("Url: ")]),e("el-tag",{attrs:{type:"success"}},[t._v(" "+t._s(i.url)+" ")])],1)]}}],null,!1,3134886942)}),e("el-table-column",{attrs:{label:"Stack"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.err.stack)+" ")]}}],null,!1,2525805560)})],1)],1)],1):t._e()},Z=[],Y={name:"ErrorLog",data:function(){return{dialogTableVisible:!1}},computed:{errorLogs:function(){return this.$store.getters.errorLogs}},methods:{clearAll:function(){this.dialogTableVisible=!1,this.$store.dispatch("errorLog/clearErrorLog")}}},H=Y,K=(a("b36c"),Object(f["a"])(H,U,Z,!1,null,"be34583a",null)),J=K.exports,X=function(){var t=this,e=t._self._c;return e("div",[e("svg-icon",{attrs:{"icon-class":t.isFullscreen?"exit-fullscreen":"fullscreen"},on:{click:t.click}})],1)},q=[],W=a("93bf"),Q=a.n(W),tt={name:"Screenfull",data:function(){return{isFullscreen:!1}},mounted:function(){this.init()},beforeDestroy:function(){this.destroy()},methods:{click:function(){if(!Q.a.enabled)return this.$message({message:"you browser can not work",type:"warning"}),!1;Q.a.toggle()},change:function(){this.isFullscreen=Q.a.isFullscreen},init:function(){Q.a.enabled&&Q.a.on("change",this.change)},destroy:function(){Q.a.enabled&&Q.a.off("change",this.change)}}},et=tt,at=(a("f752"),Object(f["a"])(et,X,q,!1,null,"1d75d652",null)),it=at.exports,st=(a("ac1f"),a("841c"),a("a15b"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-search",class:{show:t.show}},[e("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(e){return e.stopPropagation(),t.click.apply(null,arguments)}}}),e("el-select",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{"remote-method":t.querySearch,filterable:"","default-first-option":"",remote:"",placeholder:"Search"},on:{change:t.change},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},t._l(t.options,(function(t){return e("el-option",{key:t.path,attrs:{value:t,label:t.title.join(" > ")}})})),1)],1)}),ot=[],lt=a("2909"),nt=a("b85c"),rt=a("ffe7"),ct=a.n(rt),dt=a("df7c"),ut=a.n(dt),pt={name:"HeaderSearch",data:function(){return{search:"",options:[],searchPool:[],show:!1,fuse:void 0}},computed:{routes:function(){return this.$store.getters.permission_routes}},watch:{routes:function(){this.searchPool=this.generateRoutes(this.routes)},searchPool:function(t){this.initFuse(t)},show:function(t){t?document.body.addEventListener("click",this.close):document.body.removeEventListener("click",this.close)}},mounted:function(){this.searchPool=this.generateRoutes(this.routes)},methods:{click:function(){this.show=!this.show,this.show&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},close:function(){this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.blur(),this.options=[],this.show=!1},change:function(t){var e=this;this.$router.push(t.path),this.search="",this.options=[],this.$nextTick((function(){e.show=!1}))},initFuse:function(t){this.fuse=new ct.a(t,{shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:.7},{name:"path",weight:.3}]})},generateRoutes:function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=[],o=Object(nt["a"])(t);try{for(o.s();!(e=o.n()).done;){var l=e.value;if(!l.hidden){var n={path:ut.a.resolve(a,l.path),title:Object(lt["a"])(i)};if(l.meta&&l.meta.title&&(n.title=[].concat(Object(lt["a"])(n.title),[l.meta.title]),"noRedirect"!==l.redirect&&s.push(n)),l.children){var r=this.generateRoutes(l.children,n.path,n.title);r.length>=1&&(s=[].concat(Object(lt["a"])(s),Object(lt["a"])(r)))}}}}catch(c){o.e(c)}finally{o.f()}return s},querySearch:function(t){this.options=""!==t?this.fuse.search(t):[]}}},mt=pt,bt=(a("ce81"),Object(f["a"])(mt,st,ot,!1,null,"7633dc5e",null)),ht=bt.exports,ft={components:{Breadcrumb:R,Hamburger:z,ErrorLog:J,ScreenFull:it,Search:ht},computed:Object(d["a"])({},Object(j["b"])(["sidebar","avatar","device","name"])),methods:{toggleSideBar:function(){this.$store.dispatch("app/toggleSideBar")},logout:function(){var t=this;return Object(x["a"])(Object(T["a"])().mark((function e(){return Object(T["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/logout");case 2:t.$router.push("/login");case 3:case"end":return e.stop()}}),e)})))()}}},gt=ft,Dt=(a("3268"),Object(f["a"])(gt,A,w,!1,null,"0560887c",null)),yt=Dt.exports,vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawer-container"},[e("div",[e("h3",{staticClass:"drawer-title"},[t._v("Page style setting")]),e("div",{staticClass:"drawer-item"},[e("span",[t._v("Theme Color")]),e("theme-picker",{staticStyle:{float:"right",height:"26px",margin:"-3px 8px 0 0"},on:{change:t.themeChange}})],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("Open Tags-View")]),e("el-switch",{staticClass:"drawer-switch",model:{value:t.tagsView,callback:function(e){t.tagsView=e},expression:"tagsView"}})],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("Fixed Header")]),e("el-switch",{staticClass:"drawer-switch",model:{value:t.fixedHeader,callback:function(e){t.fixedHeader=e},expression:"fixedHeader"}})],1),e("div",{staticClass:"drawer-item"},[e("span",[t._v("Sidebar Logo")]),e("el-switch",{staticClass:"drawer-switch",model:{value:t.sidebarLogo,callback:function(e){t.sidebarLogo=e},expression:"sidebarLogo"}})],1)])])},Ot=[],Ft=function(){var t=this,e=t._self._c;return e("el-color-picker",{staticClass:"theme-picker",attrs:{predefine:["#409EFF","#1890ff","#304156","#212121","#11a983","#13c2c2","#6959CD","#f5222d"],"popper-class":"theme-picker-dropdown"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}})},St=[],Et=(a("5319"),a("fb6a"),a("00b4"),a("4d63"),a("2c3e"),a("25f0"),a("159b"),a("b680"),a("f6f8").version),At="#409EFF",wt={data:function(){return{chalk:"",theme:""}},computed:{defaultTheme:function(){return this.$store.state.settings.theme}},watch:{defaultTheme:{handler:function(t,e){this.theme=t},immediate:!0},theme:function(t){var e=this;return Object(x["a"])(Object(T["a"])().mark((function a(){var i,s,o,l,n,r,c,d;return Object(T["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.chalk?e.theme:At,"string"===typeof t){a.next=3;break}return a.abrupt("return");case 3:if(s=e.getThemeCluster(t.replace("#","")),o=e.getThemeCluster(i.replace("#","")),console.log(s,o),l=e.$message({message:"  Compiling the theme",customClass:"theme-message",type:"success",duration:0,iconClass:"el-icon-loading"}),n=function(t,a){return function(){var i=e.getThemeCluster(At.replace("#","")),o=e.updateStyle(e[t],i,s),l=document.getElementById(a);l||(l=document.createElement("style"),l.setAttribute("id",a),document.head.appendChild(l)),l.innerText=o}},e.chalk){a.next=12;break}return r="https://unpkg.com/element-ui@".concat(Et,"/lib/theme-chalk/index.css"),a.next=12,e.getCSSString(r,"chalk");case 12:c=n("chalk","chalk-style"),c(),d=[].slice.call(document.querySelectorAll("style")).filter((function(t){var e=t.innerText;return new RegExp(i,"i").test(e)&&!/Chalk Variables/.test(e)})),d.forEach((function(t){var a=t.innerText;"string"===typeof a&&(t.innerText=e.updateStyle(a,o,s))})),e.$emit("change",t),l.close();case 18:case"end":return a.stop()}}),a)})))()}},methods:{updateStyle:function(t,e,a){var i=t;return e.forEach((function(t,e){i=i.replace(new RegExp(t,"ig"),a[e])})),i},getCSSString:function(t,e){var a=this;return new Promise((function(i){var s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&200===s.status&&(a[e]=s.responseText.replace(/@font-face{[^}]+}/,""),i())},s.open("GET",t),s.send()}))},getThemeCluster:function(t){for(var e=function(t,e){var a=parseInt(t.slice(0,2),16),i=parseInt(t.slice(2,4),16),s=parseInt(t.slice(4,6),16);return 0===e?[a,i,s].join(","):(a+=Math.round(e*(255-a)),i+=Math.round(e*(255-i)),s+=Math.round(e*(255-s)),a=a.toString(16),i=i.toString(16),s=s.toString(16),"#".concat(a).concat(i).concat(s))},a=function(t,e){var a=parseInt(t.slice(0,2),16),i=parseInt(t.slice(2,4),16),s=parseInt(t.slice(4,6),16);return a=Math.round((1-e)*a),i=Math.round((1-e)*i),s=Math.round((1-e)*s),a=a.toString(16),i=i.toString(16),s=s.toString(16),"#".concat(a).concat(i).concat(s)},i=[t],s=0;s<=9;s++)i.push(e(t,Number((s/10).toFixed(2))));return i.push(a(t,.1)),i}}},Tt=wt,xt=(a("0995"),Object(f["a"])(Tt,Ft,St,!1,null,null,null)),jt=xt.exports,_t={components:{ThemePicker:jt},data:function(){return{}},computed:{fixedHeader:{get:function(){return this.$store.state.settings.fixedHeader},set:function(t){this.$store.dispatch("settings/changeSetting",{key:"fixedHeader",value:t})}},tagsView:{get:function(){return this.$store.state.settings.tagsView},set:function(t){this.$store.dispatch("settings/changeSetting",{key:"tagsView",value:t})}},sidebarLogo:{get:function(){return this.$store.state.settings.sidebarLogo},set:function(t){this.$store.dispatch("settings/changeSetting",{key:"sidebarLogo",value:t})}}},methods:{themeChange:function(t){this.$store.dispatch("settings/changeSetting",{key:"theme",value:t})}}},Ct=_t,kt=(a("cede"),Object(f["a"])(Ct,vt,Ot,!1,null,"5d274279",null)),Nt=kt.exports,It=function(){var t=this,e=t._self._c;return e("div",{class:{"has-logo":t.showLogo}},[t.showLogo?e("logo",{attrs:{collapse:t.isCollapse}}):t._e(),e("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[e("el-menu",{attrs:{"default-active":t.activeMenu,collapse:t.isCollapse,"background-color":t.variables.menuBg,"text-color":t.variables.menuText,"unique-opened":!1,"active-text-color":t.variables.menuActiveText,"collapse-transition":!1,mode:"vertical"}},t._l(t.permission_routes,(function(t){return e("sidebar-item",{key:t.path,attrs:{item:t,"base-path":t.path}})})),1)],1)],1)},Mt=[],Bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar-logo-container",class:{collapse:t.collapse}},[e("transition",{attrs:{name:"sidebarLogoFade"}},[t.collapse?e("router-link",{key:"collapse",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[t.logo?e("img",{staticClass:"sidebar-logo",attrs:{src:t.logo}}):e("h1",{staticClass:"sidebar-title"},[t._v(t._s(t.title)+" ")])]):e("router-link",{key:"expand",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[t.logo?e("img",{staticClass:"sidebar-logo",attrs:{src:t.logo}}):t._e(),e("h1",{staticClass:"sidebar-title"},[t._v(t._s(t.title)+" ")])])],1)],1)},Rt=[],Lt={name:"SidebarLogo",props:{collapse:{type:Boolean,required:!0}},data:function(){return{title:"人力資源管理系統",logo:"./innolux-offical.png"}}},Pt=Lt,Vt=(a("dfd1"),Object(f["a"])(Pt,Bt,Rt,!1,null,"376446bf",null)),$t=Vt.exports,Gt=function(){var t=this,e=t._self._c;return t.item.hidden?t._e():e("div",[!t.hasOneShowingChild(t.item.children,t.item)||t.onlyOneChild.children&&!t.onlyOneChild.noShowingChildren||t.item.alwaysShow?e("el-submenu",{ref:"subMenu",attrs:{index:t.resolvePath(t.item.path),"popper-append-to-body":""}},[e("template",{slot:"title"},[t.item.meta?e("item",{attrs:{icon:t.item.meta&&t.item.meta.icon,title:t.item.meta.title}}):t._e()],1),t._l(t.item.children,(function(a){return e("sidebar-item",{key:a.path,staticClass:"nest-menu",attrs:{"is-nest":!0,item:a,"base-path":t.resolvePath(a.path)}})}))],2):[t.onlyOneChild.meta?e("app-link",{attrs:{to:t.resolvePath(t.onlyOneChild.path)}},[e("el-menu-item",{class:{"submenu-title-noDropdown":!t.isNest},attrs:{index:t.resolvePath(t.onlyOneChild.path)}},[e("item",{attrs:{icon:t.onlyOneChild.meta.icon||t.item.meta&&t.item.meta.icon,title:t.onlyOneChild.meta.title}})],1)],1):t._e()]],2)},zt=[],Ut=a("61f7"),Zt=(a("caad"),a("2532"),{name:"MenuItem",functional:!0,props:{icon:{type:String,default:""},title:{type:String,default:""}},render:function(t,e){var a=e.props,i=a.icon,s=a.title,o=[];return i&&(i.includes("el-icon")?o.push(t("i",{class:[i,"sub-el-icon"]})):o.push(t("svg-icon",{attrs:{"icon-class":i}}))),s&&o.push(t("span",{slot:"title"},[s])),o}}),Yt=Zt,Ht=(a("f15b"),Object(f["a"])(Yt,i,s,!1,null,"18eeea00",null)),Kt=Ht.exports,Jt=function(){var t=this,e=t._self._c;return e(t.type,t._b({tag:"component"},"component",t.linkProps(t.to),!1),[t._t("default")],2)},Xt=[],qt={props:{to:{type:String,required:!0}},computed:{isExternal:function(){return Object(Ut["c"])(this.to)},type:function(){return this.isExternal?"a":"router-link"}},methods:{linkProps:function(t){return this.isExternal?{href:t,target:"_blank",rel:"noopener"}:{to:t}}}},Wt=qt,Qt=Object(f["a"])(Wt,Jt,Xt,!1,null,null,null),te=Qt.exports,ee={computed:{device:function(){return this.$store.state.app.device}},mounted:function(){this.fixBugIniOS()},methods:{fixBugIniOS:function(){var t=this,e=this.$refs.subMenu;if(e){var a=e.handleMouseleave;e.handleMouseleave=function(e){"mobile"!==t.device&&a(e)}}}}},ae={name:"SidebarItem",components:{Item:Kt,AppLink:te},mixins:[ee],props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return this.onlyOneChild=null,{}},methods:{hasOneShowingChild:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,i=e.filter((function(e){return!e.hidden&&(t.onlyOneChild=e,!0)}));return 1===i.length||0===i.length&&(this.onlyOneChild=Object(d["a"])(Object(d["a"])({},a),{},{path:"",noShowingChildren:!0}),!0)},resolvePath:function(t){return Object(Ut["c"])(t)?t:Object(Ut["c"])(this.basePath)?this.basePath:ut.a.resolve(this.basePath,t)}}},ie=ae,se=Object(f["a"])(ie,Gt,zt,!1,null,null,null),oe=se.exports,le=a("cf1e"),ne=a.n(le),re={components:{SidebarItem:oe,Logo:$t},computed:Object(d["a"])(Object(d["a"])({},Object(j["b"])(["permission_routes","sidebar"])),{},{activeMenu:function(){var t=this.$route,e=t.meta,a=t.path;return e.activeMenu?e.activeMenu:a},showLogo:function(){return this.$store.state.settings.sidebarLogo},variables:function(){return ne.a},isCollapse:function(){return!this.sidebar.opened}})},ce=re,de=Object(f["a"])(ce,It,Mt,!1,null,null,null),ue=de.exports,pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[e("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:t.handleScroll}},t._l(t.visitedViews,(function(a){return e("router-link",{key:a.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:t.isActive(a)?"active":"",attrs:{to:{path:a.path,query:a.query,fullPath:a.fullPath},tag:"span"},nativeOn:{mouseup:function(e){if("button"in e&&1!==e.button)return null;!t.isAffix(a)&&t.closeSelectedTag(a)},contextmenu:function(e){return e.preventDefault(),t.openMenu(a,e)}}},[t._v(" "+t._s(a.title)+" "),t.isAffix(a)?t._e():e("span",{staticClass:"el-icon-close",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.closeSelectedTag(a)}}})])})),1),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[e("li",{on:{click:function(e){return t.refreshSelectedTag(t.selectedTag)}}},[t._v("Refresh")]),t.isAffix(t.selectedTag)?t._e():e("li",{on:{click:function(e){return t.closeSelectedTag(t.selectedTag)}}},[t._v("Close")]),e("li",{on:{click:t.closeOthersTags}},[t._v("Close Others")]),e("li",{on:{click:function(e){return t.closeAllTags(t.selectedTag)}}},[t._v("Close All")])])],1)},me=[],be=function(){var t=this,e=t._self._c;return e("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(e){return e.preventDefault(),t.handleScroll.apply(null,arguments)}}},[t._t("default")],2)},he=[],fe=(a("c740"),4),ge={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(t){var e=t.wheelDelta||40*-t.deltaY,a=this.scrollWrapper;a.scrollLeft=a.scrollLeft+e/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(t){var e=this.$refs.scrollContainer.$el,a=e.offsetWidth,i=this.scrollWrapper,s=this.$parent.$refs.tag,o=null,l=null;if(s.length>0&&(o=s[0],l=s[s.length-1]),o===t)i.scrollLeft=0;else if(l===t)i.scrollLeft=i.scrollWidth-a;else{var n=s.findIndex((function(e){return e===t})),r=s[n-1],c=s[n+1],d=c.$el.offsetLeft+c.$el.offsetWidth+fe,u=r.$el.offsetLeft-fe;d>i.scrollLeft+a?i.scrollLeft=d-a:u<i.scrollLeft&&(i.scrollLeft=u)}}}},De=ge,ye=(a("b92c"),Object(f["a"])(De,be,he,!1,null,"41421bb2",null)),ve=ye.exports,Oe={components:{ScrollPane:ve},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return this.$store.state.permission.routes}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(t){return t.path===this.$route.path},isAffix:function(t){return t.meta&&t.meta.affix},filterAffixTags:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return t.forEach((function(t){if(t.meta&&t.meta.affix){var s=ut.a.resolve(a,t.path);i.push({fullPath:s,path:s,name:t.name,meta:Object(d["a"])({},t.meta)})}if(t.children){var o=e.filterAffixTags(t.children,t.path);o.length>=1&&(i=[].concat(Object(lt["a"])(i),Object(lt["a"])(o)))}})),i},initTags:function(){var t,e=this.affixTags=this.filterAffixTags(this.routes),a=Object(nt["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.name&&this.$store.dispatch("tagsView/addVisitedView",i)}}catch(s){a.e(s)}finally{a.f()}},addTags:function(){var t=this.$route.name;return t&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var t=this,e=this.$refs.tag;this.$nextTick((function(){var a,i=Object(nt["a"])(e);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.to.path===t.$route.path){t.$refs.scrollPane.moveToTarget(s),s.to.fullPath!==t.$route.fullPath&&t.$store.dispatch("tagsView/updateVisitedView",t.$route);break}}}catch(o){i.e(o)}finally{i.f()}}))},refreshSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delCachedView",t).then((function(){var a=t.fullPath;e.$nextTick((function(){e.$router.replace({path:"/redirect"+a})}))}))},closeSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delView",t).then((function(a){var i=a.visitedViews;e.isActive(t)&&e.toLastView(i,t)}))},closeOthersTags:function(){var t=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){t.moveToCurrentTag()}))},closeAllTags:function(t){var e=this;this.$store.dispatch("tagsView/delAllViews").then((function(a){var i=a.visitedViews;e.affixTags.some((function(e){return e.path===t.path}))||e.toLastView(i,t)}))},toLastView:function(t,e){var a=t.slice(-1)[0];a?this.$router.push(a.fullPath):"Dashboard"===e.name?this.$router.replace({path:"/redirect"+e.fullPath}):this.$router.push("/")},openMenu:function(t,e){var a=105,i=this.$el.getBoundingClientRect().left,s=this.$el.offsetWidth,o=s-a,l=e.clientX-i+15;this.left=l>o?o:l,this.top=e.clientY,this.visible=!0,this.selectedTag=t},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},Fe=Oe,Se=(a("f327"),a("0332"),Object(f["a"])(Fe,pe,me,!1,null,"4f2c4841",null)),Ee=Se.exports,Ae=a("4360"),we=document,Te=we.body,xe=992,je={watch:{$route:function(t){"mobile"===this.device&&this.sidebar.opened&&Ae["a"].dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){var t=this.$_isMobile();t&&(Ae["a"].dispatch("app/toggleDevice","mobile"),Ae["a"].dispatch("app/closeSideBar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){var t=Te.getBoundingClientRect();return t.width-1<xe},$_resizeHandler:function(){if(!document.hidden){var t=this.$_isMobile();Ae["a"].dispatch("app/toggleDevice",t?"mobile":"desktop"),t&&Ae["a"].dispatch("app/closeSideBar",{withoutAnimation:!0})}}}},_e={name:"Layout",components:{AppMain:E,Navbar:yt,RightPanel:D,Settings:Nt,Sidebar:ue,TagsView:Ee},mixins:[je],computed:Object(d["a"])(Object(d["a"])({},Object(j["c"])({sidebar:function(t){return t.app.sidebar},device:function(t){return t.app.device},showSettings:function(t){return t.settings.showSettings},needTagsView:function(t){return t.settings.tagsView},fixedHeader:function(t){return t.settings.fixedHeader}})),{},{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}}}),methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}},Ce=_e,ke=(a("28ca"),Object(f["a"])(Ce,r,c,!1,null,"2539468a",null)),Ne=ke.exports,Ie={path:"/OM",component:Ne,redirect:"/OM/O_HRP1000",alwaysShow:!0,name:"OM",meta:{title:"組織管理",icon:"tree",roles:["/OM"]},children:[{path:"OM_Infotype",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("b787"))}))},redirect:"/OM/OM_Infotype/O_HRP1000",alwaysShow:!0,name:"OMInfotype",meta:{title:"組織主檔",roles:["/OM/Change"]},children:[{path:"CC",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("3cc9"))}))},props:{newsletterPopup:!1},name:"CC",meta:{title:"成本中心",roles:["/OM/CC"]}},{path:"O_HRP1000",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("4fa5"))}))},props:{newsletterPopup:!1},name:"OrgHrp1000",meta:{title:"組織",roles:["/OM/O_HRP1000"]}},{path:"C_HRP1000",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("16af"))}))},props:{newsletterPopup:!1},name:"CHrp1000",meta:{title:"職稱",roles:["/OM/C_HRP1000"]}},{path:"S_HRP1000",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("e3ed"))}))},props:{newsletterPopup:!1},name:"SHrp1000",meta:{title:"職位",roles:["/OM/S_HRP1000"]}}]},{path:"OM_Change",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("b787"))}))},redirect:"/OM/OM_Change/OM_Employ",alwaysShow:!0,name:"OMChange",meta:{title:"批次作業",roles:["/OM/Change"]},children:[{path:"OM_BATCH_CC",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("a908"))}))},name:"OM_BATCH_CC",meta:{title:"建立成本中心",roles:["/OM/Change/Batch/CC"]}},{path:"OM_BATCH_O",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("5b86"))}))},name:"OM_BATCH_O",meta:{title:"建立組織",roles:["/OM/Change/Batch/O"]}},{path:"OM_BATCH_C",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("f4d8"))}))},name:"OM_BATCH_C",meta:{title:"建立職稱",roles:["/OM/Change/Batch/C"]}}]}]},Me=Ie,Be={path:"/PA",component:Ne,redirect:"/PA/PA_Infortype",alwaysShow:!0,name:"PA",meta:{title:"人事管理",icon:"people",roles:["/PA"]},children:[{path:"PA_Infortype",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("9958"))}))},props:{newsletterPopup:!1},name:"PAInfortype",meta:{title:"人事主檔",roles:["/PA/PA_Infortype"]}},{path:"PA_ChangeManual",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("aa48"))}))},props:{newsletterPopup:!1},name:"PAChangeManual",meta:{title:"人事異動",roles:["/PA/ChangeManual"]}},{path:"PA_Change",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("b133"))}))},redirect:"/PA/PA_Change/PA_Employ",name:"PAChange",meta:{title:"批次作業",roles:["/PA/Change"]},children:[{path:"PA_Employ",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("7a57"))}))},name:"PAEmploy",meta:{title:"任用",roles:["/PA/Change/Batch/Employ"]}},{path:"PA_DepartmentChange",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("e663"))}))},name:"PADepartmentChange",meta:{title:"部門異動",roles:["/PA/Change/Batch/DepartmentChange"]}},{path:"PA_CommonChange",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("fe01"))}))},name:"PACommonChange",meta:{title:"一般異動",roles:["/PA/Change/Batch/CommonChange"]}},{path:"PA_RegionChange",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("91bb"))}))},name:"PARegionChange",meta:{title:"廠區異動/海外派駐/回任",roles:["/PA/Change/Batch/RegionChange"]}}]},{path:"PA_Report",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("b09b"))}))},name:"PAReport",meta:{title:"報表",roles:["/PA/Report"]},children:[{path:"PA_Certificate_of_Employment",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("7463"))}))},name:"PA_Certificate_of_Employment",meta:{title:"在職證明",roles:["/PA/Report/CertificateOfEmployment"]}},{path:"PA_Certificate_of_Resignation",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("a918"))}))},name:"PA_Certificate_of_Resignation",meta:{title:"離職證明",roles:["/PA/Report/CertificateOfResignation"]}}]}]},Re=Be;l["default"].use(n["a"]);var Le=[{path:"/redirect",component:Ne,hidden:!0,children:[{path:"/redirect/:path(.*)",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("ef3c"))}))}}]},{path:"/login",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("9ed6"))}))},hidden:!0},{path:"/auth-redirect",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("b829"))}))},hidden:!0},{path:"/404",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("1db4"))}))},hidden:!0},{path:"/401",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("24e2"))}))},hidden:!0},{path:"/",component:Ne,redirect:"/dashboard",children:[{path:"dashboard",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("9406"))}))},name:"Dashboard",meta:{title:"佈告欄",icon:"dashboard",affix:!0}}]}],Pe=[Me,Re,{path:"/outputCE",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("11dd"))}))},name:"outputCE",props:!0,hidden:!0,roles:["/PA/Report/CertificateOfResignation","/PA/Report/CertificateOfEmployment"]},{path:"/outputCR",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("5c13"))}))},name:"outputCR",props:!0,hidden:!0,roles:["/PA/Report/CertificateOfResignation","/PA/Report/CertificateOfEmployment"]},{path:"/PT",component:Ne,redirect:"/PT/page",alwaysShow:!0,name:"PT",meta:{title:"PT",icon:"schedule_calendar",roles:["admin","editor"]},children:[{path:"page",component:function(){return Promise.resolve().then((function(){return Object(o["a"])(a("3252"))}))},name:"PagePermission2",meta:{title:"PT Permission",roles:["admin"]}}]},{path:"*",redirect:"/404",hidden:!0}],Ve=function(){return new n["a"]({scrollBehavior:function(){return{y:0}},routes:Le})},$e=Ve();function Ge(){var t=Ve();$e.matcher=t.matcher}e["c"]=$e},a36b:function(t,e,a){t.exports=a.p+"static/img/404.a57b6f31.png"},a3df:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("人事活動")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"作業類型",prop:"MASSN"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.MASSN,clearable:"",filterable:"",placeholder:"請選擇"},on:{change:t.getT530},model:{value:t.dataForm.MASSN,callback:function(e){t.$set(t.dataForm,"MASSN",e)},expression:"dataForm.MASSN"}},t._l(t.optionsMntxt,(function(t){return e("el-option",{key:t.massn,attrs:{label:t.massn+" "+t.mntxt,value:t.massn}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"動作原因",prop:"MASSG",rules:t.reinstatement?t.rules.target:[{required:!1}]}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.MASSG,clearable:"",filterable:"",placeholder:"請選擇"},on:{change:t.selChengeMassg},model:{value:t.dataForm.MASSG,callback:function(e){t.$set(t.dataForm,"MASSG",e)},expression:"dataForm.MASSG"}},t._l(t.optionsMassg,(function(t){return e("el-option",{key:t.massg,attrs:{label:t.massg+" "+t.mgtxt,value:t.massg}})})),1)],1)],1)],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("狀態")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"雇用",prop:"STAT2"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.STAT2,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.STAT2,callback:function(e){t.$set(t.dataForm,"STAT2",e)},expression:"dataForm.STAT2"}},t._l(t.optionsStat2,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1)],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("組織指派")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"職位",prop:"PLANS"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.PLANS,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.PLANS,callback:function(e){t.$set(t.dataForm,"PLANS",e)},expression:"dataForm.PLANS"}},t._l(t.optionsPLANS,(function(t){return e("el-option",{key:t.persa,attrs:{label:t.persa+" "+t.pbtxt,value:t.persa}})})),1)],1),e("el-form-item",{attrs:{label:"人事範圍",prop:"PERSA"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.PERSA,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.PERSA,callback:function(e){t.$set(t.dataForm,"PERSA",e)},expression:"dataForm.PERSA"}},t._l(t.optionsPERSA,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"員工群組",prop:"PERSG"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.PERSG,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.PERSG,callback:function(e){t.$set(t.dataForm,"PERSG",e)},expression:"dataForm.PERSG"}},t._l(t.optionsPERSG,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"員工子群組",prop:"PERSK"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.PERSK,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.PERSK,callback:function(e){t.$set(t.dataForm,"PERSK",e)},expression:"dataForm.PERSK"}},t._l(t.optionsPERSK,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1)],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("其他作業")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pa0000Data,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"massn",label:"作業"}}),e("el-table-column",{attrs:{prop:"mntxt",label:"異動類型"}}),e("el-table-column",{attrs:{prop:"massg",label:"原因代碼"}}),e("el-table-column",{attrs:{prop:"mgtxt",label:"異動原因"}})],1)],1)],1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e(),"change"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("下一步")]):t._e()],1)],1)],1)},s=[],o=a("c7eb"),l=a("1da1"),n=(a("b0c0"),a("e9c4"),a("4de4"),a("d3b7"),a("7db0"),a("159b"),a("5c96")),r=a("9af8"),c=a("0c47"),d=a("61f7"),u={name:"Pa0000Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},reinstatement:{type:Boolean,default:!1},pa0000Data:{type:Array,default:function(){return[]}},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:"",actions:""},body:{id:"qwertyui1234567",pernr:"13000003",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0000",subty:"0001",massn:"",massg:"",mgtxt:"",stat2:"",plans:""}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除",change:"異動 複製"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"0000",SUBTY:"",MASSN:"",MASSG:"",MGTXT:"",STAT2:"",PLANS:"",PERSA:"",t500p_pbtxt:"",PERSG:"",t501t_ptext:"",PERSK:"",t503t_ptext:""},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],MASSN:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],MASSG:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},optionsMntxt:[],optionsMassg:[],optionsStat2:[{value:"0",label:"離職"},{value:"1",label:"留停"},{value:"3",label:"在職"}],optionsPLANS:[],optionsPERSA:[],optionsPERSG:[],optionsPERSK:[],body:{}}},computed:{DisableFlag:function(){var t=["add","edit","copy","change"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,MASSN:!0,MASSG:!0,MGTXT:!0,STAT2:!0,PLANS:!0,PERSA:!0,t500p_pbtxt:!0,PERSG:!0,t501t_ptext:!0,PERSK:!0,t503t_ptext:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,0===a&&(e.MASSN=!1),e.MASSG=!1,e.MGTXT=!0,e.STAT2=!0,e.PLANS=!0,e.PERSA=!0,e.PERSG=!0,e.PERSK=!0,e.t500p_pbtxt=!0,e.t501t_ptext=!0,e.t503t_ptext=!0,3===a&&(e.BEGDA=!0,e.ENDDA=!0,"2"===this.parentObj.title.actions&&(e.MASSG=!0),"3"===this.parentObj.title.actions&&(e.PLANS=!1,e.PERSA=!1,e.PERSG=!1,e.PERSK=!1))),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getT529A(),this.getT500P(),this.getT501T(),this.getT503T())}},"dataForm.ENDDA":{handler:function(t){this.getT529A(),this.getT500P(),this.getT501T(),this.getT503T()}},dialogVisible:{handler:function(t,e){if(!0===t){var a=["view","edit","copy","delete","change"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=""===this.parentObj.title.actions?this.parentObj.body.begda:this.parentObj.title.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,""===this.parentObj.title.actions?(this.dataForm.MASSN=this.parentObj.body.massn,this.dataForm.STAT2=this.parentObj.body.stat2):"1"===this.parentObj.title.actions?(this.dataForm.MASSN="Z3",this.dataForm.STAT2="1"):"2"===this.parentObj.title.actions?(this.dataForm.MASSN="Z4",this.dataForm.STAT2="3"):"3"===this.parentObj.title.actions?(this.dataForm.MASSN="Z8",this.dataForm.STAT2=this.parentObj.body.stat2):(this.dataForm.MASSN="Z9",this.dataForm.STAT2=this.parentObj.body.stat2),this.dataForm.MASSG=this.parentObj.body.massg,this.dataForm.MGTXT="0"===this.parentObj.body.massg?this.parentObj.body.massg:this.parentObj.body.mgtxt,this.dataForm.PLANS=this.parentObj.body.plans,this.dataForm.PERSA=this.parentObj.body.persa,this.dataForm.PERSG=this.parentObj.body.persg,this.dataForm.PERSK=this.parentObj.body.persk):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0000",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(c["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getT529A(),this.getT500P(),this.getT501T(),this.getT503T()),this.dataForm.PERSA=this.parentObj.title.persa,this.dataForm.t500p_pbtxt=this.parentObj.title.t500p_pbtxt,this.dataForm.PERSG=this.parentObj.title.persg,this.dataForm.t501t_ptext=this.parentObj.title.t501t_ptext,this.dataForm.PERSK=this.parentObj.title.persk,this.dataForm.t503t_ptext=this.parentObj.title.t503t_ptext}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(d["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(c["c"])(new Date),void Object(r["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(n["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(n["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(c["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(c["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(c["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.massn=t.dataForm.MASSN,a.massg=t.dataForm.MASSG,a.mgtxt=t.dataForm.MGTXT,a.stat2=t.dataForm.STAT2,a.plans=t.dataForm.PLANS,a.persa=t.dataForm.PERSA,a.persg=t.dataForm.PERSG,a.persk=t.dataForm.PERSK,console.log("add or update body: -> "+JSON.stringify(a)),"add"===t.dialogStatus||"copy"===t.dialogStatus?(Object(r["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(n["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(n["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),t.closeDialog()):"edit"===t.dialogStatus?Object(r["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(n["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(n["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):(t.body=a,t.$emit("pa0000",t.body),t.$refs["dataForm"].clearValidate(),t.resetForm())}}))}else Object(n["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",MASSN:"",MASSG:"",MGTXT:"",STAT2:"",PLANS:"",PERSA:"",PERSG:"",PERSK:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:""}},getT529A:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0===t.dataForm.DIALOG_INIT&&(t.dataForm.DIALOG_INIT=!1),a=!1,(Object(c["a"])(t.dataForm.BEGDA)||Object(c["a"])(t.dataForm.ENDDA))&&(t.optionsMntxt=[],a=!0),!1!==t.dialogVisible&&!a&&"view"!==t.dialogStatus&&"delete"!==t.dialogStatus){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(r["i"])("T529A").then((function(e){t.optionsMntxt=Object(c["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"massn"),200===e.status||Object(n["Message"])({message:"取得作業類型資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 7:i=t.dataForm.MASSN,void 0!==i&&""!==i&&t.getT530(i);case 9:case"end":return e.stop()}}),e)})))()},getT530:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){var i,s,l;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.dataForm.MASSG="",e.dataForm.MGTXT="",i=""===t?"":e.optionsMntxt.filter((function(e){return e.massn===t}))[0].massn,s=""===t?"":e.optionsMntxt.filter((function(e){return e.massn===t}))[0].stat2,e.dataForm.STAT2=s,!0===e.dataForm.DIALOG_INIT&&(e.dataForm.DIALOG_INIT=!1),l=!1,(Object(c["a"])(e.dataForm.BEGDA)||Object(c["a"])(e.dataForm.ENDDA))&&(e.optionsMassg=[],l=!0),!1!==e.dialogVisible&&!l&&"view"!==e.dialogStatus&&"delete"!==e.dialogStatus){a.next=10;break}return a.abrupt("return");case 10:return a.next=12,Object(r["h"])("T530","massn",i).then((function(t){var a=t.data;e.optionsMassg=a,200===t.status||Object(n["Message"])({message:"取得動作原因資料失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 12:case"end":return a.stop()}}),a)})))()},selChengeMassg:function(t){this.dataForm.MGTXT=""===t?"":this.optionsMassg.filter((function(e){return e.massg===t}))[0].mgtxt},getT500P:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.optionsPERSA.length>0)){e.next=3;break}return void 0!==t.dataForm.PERSA&&(a=t.optionsPERSA.find((function(e){return e.value===t.dataForm.PERSA})),void 0!==a&&(t.dataForm.t500p_pbtxt=a.label)),e.abrupt("return");case 3:return e.next=5,Object(r["i"])("T500P").then((function(e){var a=e.data;if(a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.persa),a.label="".concat(e.pbtxt),t.optionsPERSA.push(a)})),t.optionsPERSA.length>0&&void 0!==t.dataForm.PERSA){var i=t.optionsPERSA.find((function(e){return e.value===t.dataForm.PERSA}));void 0!==i&&(t.dataForm.t500p_pbtxt=i.label)}})).catch((function(t){console.log(t)}));case 5:case"end":return e.stop()}}),e)})))()},getT501T:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.optionsPERSG.length>0)){e.next=3;break}return void 0!==t.dataForm.PERSG&&(a=t.optionsPERSG.find((function(e){return e.value===t.dataForm.PERSG})),void 0!==a&&(t.dataForm.t501t_ptext=a.label)),e.abrupt("return");case 3:return e.next=5,Object(r["i"])("T501T").then((function(e){var a=e.data;if(a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.persg),a.label="".concat(e.ptext),t.optionsPERSG.push(a)})),t.optionsPERSG.length>0&&void 0!==t.dataForm.PERSG){var i=t.optionsPERSG.find((function(e){return e.value===t.dataForm.PERSG}));void 0!==i&&(t.dataForm.t501t_ptext=i.label)}})).catch((function(t){console.log(t)}));case 5:case"end":return e.stop()}}),e)})))()},getT503T:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.optionsPERSK.length>0)){e.next=3;break}return void 0!==t.dataForm.PERSK&&(a=t.optionsPERSK.find((function(e){return e.value===t.dataForm.PERSK})),void 0!==a&&(t.dataForm.t503t_ptext=a.label)),e.abrupt("return");case 3:return e.next=5,Object(r["i"])("T503T").then((function(e){var a=e.data;if(a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.persk),a.label="".concat(e.ptext),t.optionsPERSK.push(a)})),t.optionsPERSK.length>0&&void 0!==t.dataForm.PERSK){var i=t.optionsPERSK.find((function(e){return e.value===t.dataForm.PERSK}));void 0!==i&&(t.dataForm.t503t_ptext=i.label)}})).catch((function(t){console.log(t)}));case 5:case"end":return e.stop()}}),e)})))()}}},p=u,m=a("2877"),b=Object(m["a"])(p,i,s,!1,null,null,null);e["a"]=b.exports},a4af:function(t,e,a){"use strict";a("b9b9")},a59b:function(t,e,a){"use strict";a("0251")},a760:function(t,e,a){t.exports=a.p+"static/img/群豐駿離職logo.c923abab.jpg"},a908:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("批次新增/異動成本中心")])]),e("el-form",[e("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("批次上傳檔案 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 適用300筆以下資料 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"fileName",ref:"fileName",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"批次建立成本中心檔案"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1)]),e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"info",icon:"el-icon-download",size:"small"}},[e("span",{staticClass:"addBtn"},[t._v("範本")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("upload-excel-component",{ref:"uploadExcelComponent",attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload},on:{fileName:t.getFileName}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.excelTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.excelSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("Interface執行 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 台灣端招募系統適用 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticClass:"employ-bar"},[e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"開始日期",format:"yyyy-MM-dd"},model:{value:t.interFace.begda,callback:function(e){t.$set(t.interFace,"begda",e)},expression:"interFace.begda"}})],1)],1),e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.interFace.endda,callback:function(e){t.$set(t.interFace,"endda",e)},expression:"interFace.endda"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"u_site",ref:"u_site",staticStyle:{width:"100%"},attrs:{placeholder:"資料歸屬場區"},model:{value:t.interFace.u_site,callback:function(e){t.$set(t.interFace,"u_site",e)},expression:"interFace.u_site"}})],1)],1)]),e("div",{},[e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.interfaceTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.interfaceSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])])],2)],1)],1)],1),e("div",[t.formatList?e("format-msg-list",{attrs:{"to-be-correct-data":t.toBeCorrectData}}):t._e()],1),e("div",[t.dbList?e("db-msg-list",{attrs:{"db-data":t.dbData}}):t._e()],1)],1)},s=[],o=a("5530"),l=(a("b0c0"),a("d81d"),a("ac1f"),a("00b4"),a("5319"),a("5c96")),n=a("0c47"),r=a("3796"),c=a("daa7"),d=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.toBeCorrectData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"KOKRS",label:"成本控制範圍"}}),e("el-table-column",{attrs:{prop:"KOSTL",label:"成本中心"}}),e("el-table-column",{attrs:{prop:"BEGDA",label:"生效日期"}}),e("el-table-column",{attrs:{prop:"KTEXT",label:"成本中心名稱"}}),e("el-table-column",{attrs:{prop:"LTEXT",label:"說明"}}),e("el-table-column",{attrs:{prop:"VERAK",label:"負責人"}}),e("el-table-column",{attrs:{prop:"KOSAR",label:"成本中心種類"}}),e("el-table-column",{attrs:{prop:"KHINR",label:"控制範圍"}}),e("el-table-column",{attrs:{prop:"GSBER",label:"業務範圍"}}),e("el-table-column",{attrs:{prop:"WAERS",label:"幣別碼"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}})],1)],1)])],1)},u=[],p={name:"OMOFormatMsgList",props:{toBeCorrectData:{type:Array,default:function(){return[]}}},data:function(){return{colspan:10}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.colspan){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},m=p,b=a("2877"),h=Object(b["a"])(m,d,u,!1,null,null,null),f=h.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dbData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"KOKRS",label:"成本控制範圍"}}),e("el-table-column",{attrs:{prop:"KOSTL",label:"成本中心"}}),e("el-table-column",{attrs:{prop:"BEGDA",label:"生效日期"}}),e("el-table-column",{attrs:{prop:"KTEXT",label:"成本中心名稱"}}),e("el-table-column",{attrs:{prop:"LTEXT",label:"說明"}}),e("el-table-column",{attrs:{prop:"VERAK",label:"負責人"}}),e("el-table-column",{attrs:{prop:"KOSAR",label:"成本中心種類"}}),e("el-table-column",{attrs:{prop:"KHINR",label:"控制範圍"}}),e("el-table-column",{attrs:{prop:"GSBER",label:"業務範圍"}}),e("el-table-column",{attrs:{prop:"WAERS",label:"幣別碼"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}})],1)],1)])],1)},D=[],y={name:"OMOrgDbMsgList",props:{dbData:{type:Array,default:function(){return[]}}},data:function(){return{colspan:10}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.colspan){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},v=y,O=Object(b["a"])(v,g,D,!1,null,null,null),F=O.exports,S=1048576,E={name:"OMOBatch",components:{UploadExcelComponent:r["a"],FormatMsgList:f,DbMsgList:F},data:function(){return{endda:new Date(9999,12,31),interFace:{begda:new Date,endda:Object(o["a"])({},this.endda),u_site:""},activeNames:["1"],fileName:"",tableData:[],data:{},toBeCorrectData:[],dbData:[],excelData:[],check_only:"",formatList:!1,dbList:!1}},methods:{getFileName:function(){this.fileName=this.$refs.uploadExcelComponent.fileName,console.log("rawFile.name",this.$refs.uploadExcelComponent.fileName)},beforeUpload:function(t){var e=t.size<S;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results;this.tableData=e,console.log("results",e)},excelTest:function(){this.check_only="test",this.excelBatchCreate()},excelSubmit:function(){this.check_only="submit",this.excelBatchCreate()},interfaceTest:function(){this.check_only="test",this.interfaceBatchCreate()},interfaceSubmit:function(){this.check_only="submit",this.interfaceBatchCreate()},excelBatchCreate:function(){var t=this;if(this.fileName){this.data={},this.toBeCorrectData=[];for(var e=0;e<this.tableData.length;e++)this.data["KOKRS"]=this.tableData[e]["成本控制範圍"],this.data["KOSTL"]=this.tableData[e]["成本中心"],this.data["BEGDA"]=this.tableData[e]["生效日期"],this.data["KTEXT"]=this.tableData[e]["成本中心名稱"],this.data["LTEXT"]=this.tableData[e]["說明"],this.data["VERAK"]=this.tableData[e]["負責人"],this.data["GSBER"]=this.tableData[e]["業務範圍"],this.data["WAERS"]=this.tableData[e]["幣別碼"],this.data["ENDDA"]=Object(n["c"])(this.endda),this.data["UNAME"]=this.$store.getters.name,this.data["ACTIVE"]="1",this.data["AEDTM"]=Object(n["c"])(new Date),this.data["KOSAR"]="Z",this.data["KHINR"]=this.data["KOKRS"],this.excelData[e]=Object(o["a"])(Object(o["a"])({},this.data),{},{batch_item:e}),this.checkFormat(this.data);if(0===this.toBeCorrectData.length){this.formatList=!1,this.dbList=!0,this.dbData=[];var a={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===this.check_only&&(a.check_only=!0),"submit"===this.check_only&&(a.check_only=!1),a.type="excel",a.data=[];for(var i=function(e){a.data[e]=t.excelData[e],Object(c["b"])(a).then((function(a){var i=a.data,s=[];s=i[e].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)t.dbData.push(s[o]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},s=0;s<this.excelData.length;s++)i(s)}0!==this.toBeCorrectData.length&&(this.dbList=!1,this.formatList=!0),console.log(this.toBeCorrectData.map((function(t){return t.OBJID}))),console.log("this.toBeCorrectData",this.toBeCorrectData)}else Object(l["Message"])({message:"請上傳檔案 !",type:"error",duration:3e3})},interfaceBatchCreate:function(){var t=this;if(this.interFace.begda&&this.interFace.endda&&this.interFace.u_site){var e={};this.data={},this.toBeCorrectData=[],this.interFace.endda<this.interFace.begda?Object(l["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}):(e.begda=Object(n["c"])(this.interFace.begda),e.endda=Object(n["c"])(this.interFace.endda),e.u_site=this.interFace.u_site,e.aedtm="",e.uname="",e.pageguid="",Object(c["d"])(e).then((function(e){for(var a=0;a<e.data.data.length;a++)t.data=e.data.data[a],t.excelData[a]=Object(o["a"])({},t.data),t.excelData[a].batch_item=a,t.checkFormat(t.data);0===t.toBeCorrectData.length&&function(){t.formatList=!1,t.dbList=!0,t.dbData=[];var e={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===t.check_only&&(e.check_only=!0),"submit"===t.check_only&&(e.check_only=!1),e.type="rms_tw_db",e.data=[];for(var a=function(a){e.data[a]=t.excelData[a],Object(c["e"])(e).then((function(i){console.log("body",e);var s=i.data,o=[];o=s[a].result,o[0].rowspan=o.length;for(var l=0;l<o.length;l++)t.dbData.push(o[l]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},i=0;i<t.excelData.length;i++)a(i)}(),0!==t.toBeCorrectData.length&&(t.dbList=!1,t.formatList=!0),console.log(t.toBeCorrectData.map((function(t){return t.posno}))),console.log("this.toBeCorrectData",t.toBeCorrectData)})).catch((function(t){console.log(t)})))}else Object(l["Message"])({message:"請輸入完整查詢條件 !",type:"error",duration:3e3})},checkFormat:function(t){var e,a=this,i=0,s=function(s,l){var n=Object(o["a"])({},t);void 0===e&&(e=n),n.process_name=s,n.message=l,a.toBeCorrectData.push(n),i++};if(void 0!==t["KOSTL"]){if(void 0===t["BEGDA"]){var l=/\d{4}[/\-]\d{2}[/\-]\d{2}/;l.test(t["BEGDA"])?t["BEGDA"]=t["BEGDA"].replace(l,"$1-$2-$3"):s("生效日","不可為空")}void 0===this.data["KOKRS"]&&s("成本控制範圍","不可為空"),void 0===this.data["KOSTL"]&&s("成本中心","不可為空"),void 0===this.data["KTEXT"]&&s("成本中心名稱","不可為空"),void 0===this.data["LTEXT"]&&s("說明","不可為空"),void 0===this.data["VERAK"]&&s("負責人","不可為空"),void 0===this.data["WAERS"]&&s("幣別碼","不可為空"),void 0!==e&&(e.rowspan=i)}}}},A=E,w=Object(b["a"])(A,i,s,!1,null,"475ff535",null);e["default"]=w.exports},a918:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("離職證明")])]),e("div",[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"85px"}},[e("div",{staticClass:"dialog"},[e("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("選擇準則")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"員工號碼",prop:"PERNR"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERNR,callback:function(e){t.$set(t.dataForm,"PERNR",e)},expression:"dataForm.PERNR"}})],1),e("el-form-item",{attrs:{label:"作業類型",prop:"MASSN"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.MASSN,callback:function(e){t.$set(t.dataForm,"MASSN",e)},expression:"dataForm.MASSN"}})],1)],1),e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"作業原因",prop:"MASSG"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.MASSG,callback:function(e){t.$set(t.dataForm,"MASSG",e)},expression:"dataForm.MASSG"}})],1),e("el-form-item",{attrs:{label:"業務範圍",prop:"GSBER"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.GSBER,callback:function(e){t.$set(t.dataForm,"GSBER",e)},expression:"dataForm.GSBER"}})],1)],1),e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"人事範圍",prop:"PERSA"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERSA,callback:function(e){t.$set(t.dataForm,"PERSA",e)},expression:"dataForm.PERSA"}})],1),e("el-form-item",{attrs:{label:"人事子範圍",prop:"BTRTL"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.BTRTL,callback:function(e){t.$set(t.dataForm,"BTRTL",e)},expression:"dataForm.BTRTL"}})],1)],1),e("el-col",{attrs:{xs:24,sm:12,md:6}},[e("el-form-item",{attrs:{label:"員工群組",prop:"PERSG"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERSG,callback:function(e){t.$set(t.dataForm,"PERSG",e)},expression:"dataForm.PERSG"}})],1),e("el-form-item",{attrs:{label:"員工子群組",prop:"PERSK"}},[e("el-input",{staticStyle:{width:"100%"},model:{value:t.dataForm.PERSK,callback:function(e){t.$set(t.dataForm,"PERSK",e)},expression:"dataForm.PERSK"}})],1)],1)],1)],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("選擇準則")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"到職日",prop:"employmentDateRange"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","unlink-panels":"",format:"yyyy/MM/dd","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期","picker-options":t.pickerOptions},model:{value:t.employmentDateRange,callback:function(e){t.employmentDateRange=e},expression:"employmentDateRange"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"離職日",prop:"employmentDateRange"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","unlink-panels":"",format:"yyyy/MM/dd","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期","picker-options":t.pickerOptions},model:{value:t.resignationDateRange,callback:function(e){t.resignationDateRange=e},expression:"resignationDateRange"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"Remark",prop:"REMARK"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{maxlength:"150","show-word-limit":""},model:{value:t.dataForm.REMARK,callback:function(e){t.$set(t.dataForm,"REMARK",e)},expression:"dataForm.REMARK"}})],1)],1)],1)],2)],1)],1)]),e("span",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("提交表單")])],1)],1)])],1)},s=[],o=a("c7eb"),l=a("1da1"),n=a("5c96"),r=a("0c47"),c={name:"CertificadeOfEmployment",data:function(){return{pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"最近一週",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一個月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近一季",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}},{text:"最近一年",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-31536e6),t.$emit("pick",[a,e])}}]},dataForm:{PERNR:"",MASSN:"",MASSG:"",PERSA:"",BTRTL:"",PERSG:"",PERSK:"",GSBER:"",EMPLOYMENT_BEGDA:"",EMPLOYMENT_ENDDA:"",RESIGNATION_BEGDA:"",RESIGNATION_ENDDA:"",REASON:"",REMARK:"",FROMNUMBER:""},rules:{PERNR:[{required:!1,len:8}],MASSN:[{required:!1,len:2}],MASSG:[{required:!1,len:2}],GSBER:[{required:!1,len:4}],PERSA:[{required:!1,len:4}],BTRTL:[{required:!1,len:4}],PERSG:[{required:!1,len:1}],PERSK:[{required:!1,len:2}],REMARK:[{required:!1,max:150,message:"此欄位長度限制為150",trigger:"blur"}]},begda:"2000-1-1",endda:"9999-12-31",isLoading:!0,employmentDateRange:[],resignationDateRange:[],activeNames:["1","2"]}},computed:{},watch:{employmentDateRange:{handler:function(t,e){this.dataForm.EMPLOYMENT_BEGDA=t[0],this.dataForm.EMPLOYMENT_ENDDA=t[1]}},resignationDateRange:{handler:function(t,e){this.dataForm.RESIGNATION_BEGDA=t[0],this.dataForm.RESIGNATION_ENDDA=t[1]}}},created:function(){this.fetchData()},methods:{submitDialog:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("submit"),""===t.dataForm.PERNR&&""===t.dataForm.MASSN&&""===t.dataForm.MASSG&&""===t.dataForm.PERSA&&""===t.dataForm.BTRTL&&""===t.dataForm.PERSG&&""===t.dataForm.PERSK&&""===t.dataForm.GSBER?Object(n["Message"])({message:"請填寫欄位",type:"error",duration:3e3}):(t.$store.dispatch("certificate/updateForm",t.dataForm),t.$router.push("/outputCR"));case 2:case"end":return e.stop()}}),e)})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(r["g"])(this.dataForm,[],["number"])},fetchData:function(){return Object(l["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},forceUpdate:function(){this.$forceUpdate()}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,s,!1,null,"7073aeee",null);e["default"]=p.exports},aa46:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-edit",use:"icon-edit-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-edit"><path d="M106.133 67.2a4.797 4.797 0 0 0-4.8 4.8c0 .187.014.36.027.533h-.027V118.4H9.6V26.667h50.133c2.654 0 4.8-2.147 4.8-4.8 0-2.654-2.146-4.8-4.8-4.8H9.6a9.594 9.594 0 0 0-9.6 9.6V118.4c0 5.307 4.293 9.6 9.6 9.6h91.733c5.307 0 9.6-4.293 9.6-9.6V72.533h-.026c.013-.173.026-.346.026-.533 0-2.653-2.146-4.8-4.8-4.8z" /><path d="M125.16 13.373L114.587 2.8c-3.747-3.747-9.854-3.72-13.6.027l-52.96 52.96a4.264 4.264 0 0 0-.907 1.36L33.813 88.533c-.746 1.76-.226 3.534.907 4.68 1.133 1.147 2.92 1.667 4.693.92l31.4-13.293c.507-.213.96-.52 1.36-.907l52.96-52.96c3.747-3.746 3.774-9.853.027-13.6zM66.107 72.4l-18.32 7.76 7.76-18.32L92.72 24.667l10.56 10.56L66.107 72.4zm52.226-52.227l-8.266 8.267-10.56-10.56 8.266-8.267.027-.026 10.56 10.56-.027.026z" /></symbol>'});l.a.add(n);e["default"]=n},aa48:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("p",{staticClass:"page-title"},[t._v("人事異動")]),e("el-form",[e("div",{staticClass:"search-bg"},[e("div",{staticClass:"bar-row1"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"pernr",ref:"pernr",attrs:{disabled:t.switchEdit,maxlength:"8","show-word-limit":"",placeholder:"員工號碼"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.pernr,callback:function(e){t.pernr=e},expression:"pernr"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"subSpaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"Actions"},model:{value:t.infoSel,callback:function(e){t.infoSel=e},expression:"infoSel"}},t._l(t.filteredOptions,(function(t){return e("el-option",{key:t.actions,attrs:{label:t.itext,value:t.actions}})})),1)],1)],1)]),e("div",{staticClass:"bar-row2"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"開始日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.begda,callback:function(e){t.begda=e},expression:"begda"}})],1)],1),e("div",{staticClass:"searchBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.edit}},[e("span",[t._v("編輯")])])],1)],1)])])])]),e("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("員工號碼")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.pernr))])])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("名稱")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.ename))])])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("部門代碼")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.o_p1000_short))]),t._v(t._s(t.titleData.o_p1000_stext))])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace-1200"},[e("div",{staticClass:"title-label"},[t._v("人事範圍")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.persa))]),t._v(t._s(t.titleData.t500p_pbtxt))])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title colSpace-768"},[e("div",{staticClass:"title-label"},[t._v("員工群組")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.persg))]),t._v(t._s(t.titleData.t501t_ptext))])])]),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-label"},[t._v("員工子群組")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.persk))]),t._v(t._s(t.titleData.t503t_ptext))])])])],1)],1),e("div",["pa0000"===t.detailView?e("pa0000-detail",{ref:"pa0000Detail",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,reinstatement:t.reinstatement,"parent-obj":t.parentObj},on:{close:t.closeDialog,pa0000:t.pa0000}}):t._e(),"pa0001"===t.detailView?e("pa0001-detail",{ref:"pa0001Detail",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj,"pa0000-body":t.pa0000Body,next:t.next},on:{close:t.closeDialog,pa0001:t.pa0001}}):t._e(),"pa0007"===t.detailView?e("pa0007-detail",{ref:"pa0007Detail",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog,pa0007:t.pa0007}}):t._e()],1)],1)},s=[],o=a("c7eb"),l=a("1da1"),n=a("2909"),r=(a("c740"),a("5c96")),c=a("9af8"),d=a("0c47"),u=a("a3df"),p=a("f96c"),m=a("f9ce"),b={name:"PAChangeManual",components:{Pa0000Detail:u["a"],Pa0001Detail:p["a"],Pa0007Detail:m["a"]},data:function(){return{switchEdit:!1,dialogVisible:!1,dialogStatus:"",listView:"",detailView:"",subtype:!1,pernr:"19055688",begda:"1900-01-01",titleData:{},bodyData:[],parentObj:{},pa0000Body:{},pa0001Body:{},pa0007Body:{},dbData:[],infoSel:void 0,subOptions:[],options:[{actions:"1",itext:"留職停薪"},{actions:"2",itext:"復職"},{actions:"3",itext:"海外派駐"},{actions:"4",itext:"回任"}],filteredOptions:[],reinstatement:!1,next:!1}},created:function(){this.filteredOptions=Object(n["a"])(this.options)},mounted:function(){this.$refs.pernr.focus()},methods:{closeDialog:function(){this.dialogVisible=!1},pa0000:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pa0000Body=t.$refs.pa0000Detail.body,e.next=3,t.getPAList("0001");case 3:t.parentObj={title:t.titleData,body:t.bodyData[0]},t.detailView="pa0001";case 5:case"end":return e.stop()}}),e)})))()},pa0001:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.pa0001Body=t.$refs.pa0001Detail.body,a={},a.batch_id="",a.aedtm="",a.uname="",a.pageguid="",a.allow_wait=!1,a.check_only=!1,a.source_type="BASIC",a.data=[],"3"===t.titleData.actions||"4"===t.titleData.actions?(t.parentObj={title:t.titleData},t.detailView="pa0007"):(t.dialogVisible=!1,a.data[0]=Object.assign({},t.pa0000Body,t.pa0001Body),a.data[0].batch_item=0,Object(c["b"])(a).then((function(){Object(r["Message"])(Object(d["f"])("儲存成功 !"))})).catch((function(t){console.log(t)})));case 11:case"end":return e.stop()}}),e)})))()},pa0007:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.pa0007Body=t.$refs.pa0007Detail.body,t.dialogVisible=!1,a={},a.batch_id="",a.aedtm="",a.uname="",a.pageguid="",a.allow_wait=!1,a.check_only=!1,a.source_type="BASIC",a.data=[],a.data[0]=Object.assign({},t.pa0000Body,t.pa0001Body,t.pa0007Body),a.data[0].batch_item=0,console.log("bodytest",a),Object(c["b"])(a).then((function(){Object(r["Message"])(Object(d["f"])("儲存成功 !"))})).catch((function(t){console.log(t)}));case 15:case"end":return e.stop()}}),e)})))()},edit:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.pernr&&t.infoSel&&t.begda){e.next=3;break}return Object(r["Message"])(Object(d["f"])("請輸入員工編號、開始日期及選擇Actions !","error")),e.abrupt("return");case 3:return e.next=5,t.handleSearch();case 5:if(0!==t.bodyData.length){e.next=8;break}return Object(r["Message"])(Object(d["f"])("無異動資料 !","error")),e.abrupt("return");case 8:"2"===t.titleData.actions?t.reinstatement=!0:t.reinstatement=!1,"3"===t.titleData.actions||"4"===t.titleData.actions?t.next=!0:t.next=!1,t.parentObj={title:t.titleData,body:t.bodyData[0]},t.dialogStatus="change",t.dialogVisible=!0;case 13:case"end":return e.stop()}}),e)})))()},search:function(){this.pernr?(this.resetForm(),this.handleSearch()):Object(r["Message"])(Object(d["f"])("請輸入員工編號 !","error"))},handleSearch:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["j"])(t.pernr,"1800-01-01","9999-12-31").then((function(e){var a=e.data;if(200===e.status){if(a.length>0){var i=Object.assign({},a[0]);if(t.pernr=i.pernr,i.begda=t.begda,t.infoSel>-1){var s=t.options.findIndex((function(e){return e.actions===t.infoSel}));i.actions=t.options[s].actions}t.titleData=i,console.log("titleData",t.titleData)}}else Object(r["Message"])(Object(d["f"])("該員工不存在 ! ","error"))})).catch((function(t){console.log(t)}));case 2:if(!(t.infoSel>-1)){e.next=6;break}return e.next=5,t.getPAList("0000");case 5:t.detailView="pa0000";case 6:case"end":return e.stop()}}),e)})))()},getPAList:function(t){var e=this;return Object(c["k"])(t,this.pernr,this.begda,"9999-12-31").then((function(t){e.bodyData=t.data,console.log("this.bodyData",e.bodyData)})).catch((function(t){console.log(t)}))},resetForm:function(){this.titleData={pernr:"",persg:"",t501t_ptext:"",pa0001_werks:"",t500p_pbtxt:"",ename:"",persk:"",t503t_ptext:"",kostl:"",hrca_costc_name:""}}}},h=b,f=a("2877"),g=Object(f["a"])(h,i,s,!1,null,"5e6a2a3b",null);e["default"]=g.exports},aaa0:function(t,e,a){"use strict";a("1ec0")},aaac:function(t,e,a){},ab00:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-lock",use:"icon-lock-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-lock"><path d="M119.88 49.674h-7.987V39.52C111.893 17.738 90.45.08 63.996.08 37.543.08 16.1 17.738 16.1 39.52v10.154H8.113c-4.408 0-7.987 2.94-7.987 6.577v65.13c0 3.637 3.57 6.577 7.987 6.577H119.88c4.407 0 7.987-2.94 7.987-6.577v-65.13c-.008-3.636-3.58-6.577-7.987-6.577zm-23.953 0H32.065V39.52c0-14.524 14.301-26.295 31.931-26.295 17.63 0 31.932 11.777 31.932 26.295v10.153z" /></symbol>'});l.a.add(n);e["default"]=n},acdd:function(t,e,a){"use strict";a("7214")},ad1c:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-education",use:"icon-education-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-education"><path d="M88.883 119.565c-7.284 0-19.434 2.495-21.333 8.25v.127c-4.232.13-5.222 0-7.108 0-1.895-5.76-14.045-8.256-21.333-8.256H0V0h42.523c9.179 0 17.109 5.47 21.47 13.551C68.352 5.475 76.295 0 85.478 0H128v119.57l-39.113-.005h-.004zM60.442 24.763c0-9.651-8.978-16.507-17.777-16.507H7.108V111.43H39.11c7.054-.14 18.177.082 21.333 6.12v-4.628c-.134-5.722-.004-13.522 0-13.832V27.413l.004-2.655-.004.005zm60.442-16.517h-35.55c-8.802 0-17.78 6.856-17.78 16.493v74.259c.004.32.138 8.115 0 13.813v4.627c3.155-6.022 14.279-6.26 21.333-6.114h32V8.25l-.003-.005z" /></symbol>'});l.a.add(n);e["default"]=n},ad1f:function(t,e,a){"use strict";a("d16d")},b09b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},s=[],o=a("2877"),l={},n=Object(o["a"])(l,i,s,!1,null,null,null);e["default"]=n.exports},b0d0:function(t,e,a){},b133:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},s=[],o=a("2877"),l={},n=Object(o["a"])(l,i,s,!1,null,null,null);e["default"]=n.exports},b20f:function(t,e,a){t.exports={menuText:"#fff",menuActiveText:"#cad6ba",subMenuActiveText:"#cad6ba",menuBg:"#829569",menuHover:"#3d463a",subMenuBg:"#545f50",subMenuHover:"#343b32",sideBarWidth:"210px"}},b237:function(t,e,a){},b36c:function(t,e,a){"use strict";a("5ea7")},b3b5:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-user",use:"icon-user-usage",viewBox:"0 0 130 130",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 130" id="icon-user"><path d="M63.444 64.996c20.633 0 37.359-14.308 37.359-31.953 0-17.649-16.726-31.952-37.359-31.952-20.631 0-37.36 14.303-37.358 31.952 0 17.645 16.727 31.953 37.359 31.953zM80.57 75.65H49.434c-26.652 0-48.26 18.477-48.26 41.27v2.664c0 9.316 21.608 9.325 48.26 9.325H80.57c26.649 0 48.256-.344 48.256-9.325v-2.663c0-22.794-21.605-41.271-48.256-41.271z" stroke="#979797" /></symbol>'});l.a.add(n);e["default"]=n},b4dc:function(t,e,a){},b775:function(t,e,a){"use strict";a("ac1f"),a("00b4"),a("e9c4"),a("99af"),a("d3b7");var i=a("bc3a"),s=a.n(i),o=a("5c96"),l=a("4360"),n=a("5f87"),r=s.a.create({timeout:5e3});r.interceptors.request.use((function(t){l["a"].getters.token&&(t.headers["Authorization_API"]=Object(n["b"])()),l["a"].getters.token_apim&&(t.headers["Authorization"]="Bearer "+Object(n["a"])()),!0===/\/EditLock/.test(t.url)&&(t.headers["Authorization_API"]=Object(n["c"])()),console.log("axios cfg before: "+JSON.stringify(t));var e=t.method,a=t.url,i=a.length,s=a.indexOf("/apim")+1,o=a.substring(0,s+17),r=a.substring(s+17,i),c="";return"post"===e?!0===/\/DomainController\/(OM|PA|PT|PY)\/.+\/Add/.test(a)?c="fe7176cc-56fb-43f1-a668-f3fc7a69ffc3":!0===/\/Adapter\/Jwt\/.+/.test(a)&&(c="7775b0d7-ae59-4c2e-b9db-452ee6a063d8"):"get"===e?!0===/\/DomainController\/(OM|PA|PT|PY|Common)\/.+\/(Get|GetINI|GetById)\/.+\/.+\/.+/.test(a)?c="6398836a-8d8d-4fde-99a6-df88628d3935":!0===/\/DomainController\/Common\/.+\/GetBy.+\/.+\/.+/.test(a)?c="bb9da9ed-1789-4a17-b7cc-2f888ac10186":!0===/\/DomainController\/(OM|PA|PT|PY|Common)\/.+\/GetBy.+\/.+/.test(a)?c="9a3f60a5-607f-4259-a938-08c158667cb6":!0===/\/DomainController\/Common\/.+\/Get/.test(a)?c="978936fb-ce39-4285-a26c-193a4a0fa90d":!0===/\/Adapter\/SAMV4\/.+/.test(a)&&(c="042938e8-43bd-401a-9209-7d637a76bbbc"):"put"===e&&(t.headers["Content-Type"]="application/json",!0===/\/DomainController\/(OM|PA|PT|PY)\/.+\/ActiveDelete\/.+/.test(a)?c="db93d066-96a6-4aa4-9a1c-fdc33072ac56":!0===/\/DomainController\/(OM|PA|PT|PY)\/.+\/(Update|ActiveUpdate|EditLock)/.test(a)&&(c="3e0aaded-80b0-44bc-a0c0-cc16da492acf")),c.length>0?t.url="".concat(o).concat(c,"/").concat(r):!0!==/\/2FALogin/.test(a)&&!0!==/\/2FAVerify/.test(a)&&console.log("Not Find APIM Route: "+a),console.log("axios cfg after: "+JSON.stringify(t)),t}),(function(t){return console.log(t),Promise.reject(t)})),r.interceptors.response.use((function(t){var e=t.data;return 200!==t.status?(Object(o["Message"])({message:"Respone Status: "+t.status,type:"error",duration:5e3}),Promise.reject(new Error(e.message||"Error"))):void 0!==e.status&&401===e.status?(Object(o["Message"])({message:"認證失敗，請重新登入",type:"error",duration:5e3}),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("service.interceptors.response.use err: "+t),Object(o["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=r},b787:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},s=[],o=a("2877"),l={},n=Object(o["a"])(l,i,s,!1,null,null,null);e["default"]=n.exports},b829:function(t,e,a){"use strict";a.r(e);a("fb6a"),a("ac1f"),a("841c");var i,s,o={name:"AuthRedirect",created:function(){var t=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",t),window.close())},render:function(t){return t()}},l=o,n=a("2877"),r=Object(n["a"])(l,i,s,!1,null,null,null);e["default"]=r.exports},b8c8:function(t,e,a){},b92c:function(t,e,a){"use strict";a("b4dc")},b9b9:function(t,e,a){},bb12:function(t,e,a){"use strict";a("2ab9")},bc35:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-clipboard",use:"icon-clipboard-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-clipboard"><path d="M54.857 118.857h64V73.143H89.143c-1.902 0-3.52-.668-4.855-2.002-1.335-1.335-2.002-2.954-2.002-4.855V36.57H54.857v82.286zM73.143 16v-4.571a2.2 2.2 0 0 0-.677-1.61 2.198 2.198 0 0 0-1.609-.676H20.571c-.621 0-1.158.225-1.609.676a2.198 2.198 0 0 0-.676 1.61V16a2.2 2.2 0 0 0 .676 1.61c.451.45.988.676 1.61.676h50.285c.622 0 1.158-.226 1.61-.677.45-.45.676-.987.676-1.609zm18.286 48h21.357L91.43 42.642V64zM128 73.143v48c0 1.902-.667 3.52-2.002 4.855-1.335 1.335-2.953 2.002-4.855 2.002H52.57c-1.901 0-3.52-.667-4.854-2.002-1.335-1.335-2.003-2.953-2.003-4.855v-11.429H6.857c-1.902 0-3.52-.667-4.855-2.002C.667 106.377 0 104.759 0 102.857v-96c0-1.902.667-3.52 2.002-4.855C3.337.667 4.955 0 6.857 0h77.714c1.902 0 3.52.667 4.855 2.002 1.335 1.335 2.003 2.953 2.003 4.855V30.29c1 .622 1.856 1.29 2.569 2.003l29.147 29.147c1.335 1.335 2.478 3.145 3.429 5.43.95 2.287 1.426 4.383 1.426 6.291v-.018z" /></symbol>'});l.a.add(n);e["default"]=n},bcaf:function(t,e,a){},c653:function(t,e,a){var i={"./app.js":"d9cd","./certificate.js":"f933","./errorLog.js":"4d49","./permission.js":"31c2","./settings.js":"0781","./tagsView.js":"7509","./user.js":"0f9a"};function s(t){var e=o(t);return a(e)}function o(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="c653"},c829:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-chart",use:"icon-chart-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-chart"><path d="M0 54.857h36.571V128H0V54.857zM91.429 27.43H128V128H91.429V27.429zM45.714 0h36.572v128H45.714V0z" /></symbol>'});l.a.add(n);e["default"]=n},cbb7:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-email",use:"icon-email-usage",viewBox:"0 0 128 96",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 96" id="icon-email"><path d="M64.125 56.975L120.188.912A12.476 12.476 0 0 0 115.5 0h-103c-1.588 0-3.113.3-4.513.838l56.138 56.137z" /><path d="M64.125 68.287l-62.3-62.3A12.42 12.42 0 0 0 0 12.5v71C0 90.4 5.6 96 12.5 96h103c6.9 0 12.5-5.6 12.5-12.5v-71a12.47 12.47 0 0 0-1.737-6.35L64.125 68.287z" /></symbol>'});l.a.add(n);e["default"]=n},cc6c:function(t,e,a){t.exports=a.p+"static/img/401.089007e7.gif"},ce81:function(t,e,a){"use strict";a("aaac")},cede:function(t,e,a){"use strict";a("b0d0")},cf05:function(t,e,a){t.exports=a.p+"static/img/logo.fa1129a6.png"},cf1e:function(t,e,a){t.exports={menuText:"#fff",menuActiveText:"#cad6ba",subMenuActiveText:"#cad6ba",menuBg:"#829569",menuHover:"#3d463a",subMenuBg:"#545f50",subMenuHover:"#343b32",sideBarWidth:"210px"}},d056:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-people",use:"icon-people-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-people"><path d="M104.185 95.254c8.161 7.574 13.145 17.441 13.145 28.28 0 1.508-.098 2.998-.285 4.466h-10.784c.238-1.465.403-2.948.403-4.465 0-8.983-4.36-17.115-11.419-23.216C86 104.66 75.355 107.162 64 107.162c-11.344 0-21.98-2.495-31.22-6.83-7.064 6.099-11.444 14.218-11.444 23.203 0 1.517.165 3 .403 4.465H10.955a35.444 35.444 0 0 1-.285-4.465c0-10.838 4.974-20.713 13.127-28.291C9.294 85.42.003 70.417.003 53.58.003 23.99 28.656.001 64 .001s63.997 23.988 63.997 53.58c0 16.842-9.299 31.85-23.812 41.673zM64 36.867c-29.454 0-53.33-10.077-53.33 15.342 0 25.418 23.876 46.023 53.33 46.023 29.454 0 53.33-20.605 53.33-46.023 0-25.419-23.876-15.342-53.33-15.342zm24.888 25.644c-3.927 0-7.111-2.665-7.111-5.953 0-3.288 3.184-5.954 7.11-5.954 3.928 0 7.111 2.666 7.111 5.954s-3.183 5.953-7.11 5.953zm-3.556 16.372c0 4.11-9.55 7.442-21.332 7.442-11.781 0-21.332-3.332-21.332-7.442 0-1.06.656-2.064 1.8-2.976 3.295 2.626 10.79 4.465 19.532 4.465 8.743 0 16.237-1.84 19.531-4.465 1.145.912 1.801 1.916 1.801 2.976zm-46.22-16.372c-3.927 0-7.11-2.665-7.11-5.953 0-3.288 3.183-5.954 7.11-5.954 3.927 0 7.111 2.666 7.111 5.954s-3.184 5.953-7.11 5.953z" /></symbol>'});l.a.add(n);e["default"]=n},d0d6:function(t,e,a){t.exports=a.p+"static/img/innolux_logo.90e50b41.png"},d16d:function(t,e,a){},d49d:function(t,e,a){"use strict";a("da64")},d7ec:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-eye-open",use:"icon-eye-open-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-eye-open"><defs><style></style></defs><path d="M512 128q69.675 0 135.51 21.163t115.498 54.997 93.483 74.837 73.685 82.006 51.67 74.837 32.17 54.827L1024 512q-2.347 4.992-6.315 13.483T998.87 560.17t-31.658 51.669-44.331 59.99-56.832 64.34-69.504 60.16-82.347 51.5-94.848 34.687T512 896q-69.675 0-135.51-21.163t-115.498-54.826-93.483-74.326-73.685-81.493-51.67-74.496-32.17-54.997L0 513.707q2.347-4.992 6.315-13.483t18.816-34.816 31.658-51.84 44.331-60.33 56.832-64.683 69.504-60.331 82.347-51.84 94.848-34.816T512 128.085zm0 85.333q-46.677 0-91.648 12.331t-81.152 31.83-70.656 47.146-59.648 54.485-48.853 57.686-37.675 52.821-26.325 43.99q12.33 21.674 26.325 43.52t37.675 52.351 48.853 57.003 59.648 53.845T339.2 767.02t81.152 31.488T512 810.667t91.648-12.331 81.152-31.659 70.656-46.848 59.648-54.186 48.853-57.344 37.675-52.651T927.957 512q-12.33-21.675-26.325-43.648t-37.675-52.65-48.853-57.345-59.648-54.186-70.656-46.848-81.152-31.659T512 213.334zm0 128q70.656 0 120.661 50.006T682.667 512 632.66 632.661 512 682.667 391.339 632.66 341.333 512t50.006-120.661T512 341.333zm0 85.334q-35.328 0-60.33 25.002T426.666 512t25.002 60.33T512 597.334t60.33-25.002T597.334 512t-25.002-60.33T512 426.666z" /></symbol>'});l.a.add(n);e["default"]=n},d9cd:function(t,e,a){"use strict";a.r(e);var i=a("a78e"),s=a.n(i),o={sidebar:{opened:!s.a.get("sidebarStatus")||!!+s.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop",size:s.a.get("size")||"medium"},l={TOGGLE_SIDEBAR:function(t){t.sidebar.opened=!t.sidebar.opened,t.sidebar.withoutAnimation=!1,t.sidebar.opened?s.a.set("sidebarStatus",1):s.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(t,e){s.a.set("sidebarStatus",0),t.sidebar.opened=!1,t.sidebar.withoutAnimation=e},TOGGLE_DEVICE:function(t,e){t.device=e},SET_SIZE:function(t,e){t.size=e,s.a.set("size",e)}},n={toggleSideBar:function(t){var e=t.commit;e("TOGGLE_SIDEBAR")},closeSideBar:function(t,e){var a=t.commit,i=e.withoutAnimation;a("CLOSE_SIDEBAR",i)},toggleDevice:function(t,e){var a=t.commit;a("TOGGLE_DEVICE",e)},setSize:function(t,e){var a=t.commit;a("SET_SIZE",e)}};e["default"]={namespaced:!0,state:o,mutations:l,actions:n}},da64:function(t,e,a){},daa7:function(t,e,a){"use strict";a.d(e,"m",(function(){return s})),a.d(e,"i",(function(){return o})),a.d(e,"j",(function(){return l})),a.d(e,"h",(function(){return n})),a.d(e,"n",(function(){return r})),a.d(e,"c",(function(){return c})),a.d(e,"o",(function(){return d})),a.d(e,"f",(function(){return u})),a.d(e,"l",(function(){return p})),a.d(e,"k",(function(){return m})),a.d(e,"a",(function(){return b})),a.d(e,"b",(function(){return h})),a.d(e,"d",(function(){return f})),a.d(e,"e",(function(){return g})),a.d(e,"g",(function(){return D}));a("99af");var i=a("b775");function s(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"O",o="/DomainController/OM/".concat(s,"_P1000/Get/").concat(t,"/").concat(e,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+o,method:"get"})}function o(t,e,a,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"O",l="K"===o?"CSKSZ":"P".concat(t),n="/DomainController/OM/".concat(o,"_").concat(l,"/Get/").concat(e,"/").concat(a,"/").concat(s);return Object(i["a"])({url:"https://apim.innolux.com"+n,method:"get"})}function l(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"O",o="/DomainController/OM/".concat(s,"_P").concat(t,"/GetBy").concat(e,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+o,method:"get"})}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"O",a="/DomainController/OM/".concat(e,"_P").concat(t,"/GetAll");return Object(i["a"])({url:"https://apim.innolux.com"+a,method:"get"})}function r(t,e){var a="/DomainController/Common/T777U/GetByOtypInfty/".concat(t,"/").concat(e);return Object(i["a"])({url:"https://apim.innolux.com"+a,method:"get"})}function c(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"O",s="K"===a?"CSKSZ":"P".concat(t),o="/DomainController/OM/".concat(a,"_").concat(s,"/Add");return Object(i["a"])({url:"https://apim.innolux.com"+o,method:"post",data:e})}function d(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"O",s="K"===a?"CSKSZ":"P".concat(t),o="/DomainController/OM/".concat(a,"_").concat(s,"/Update");return Object(i["a"])({url:"https://apim.innolux.com"+o,method:"put",data:e})}function u(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"O",o="K"===s?"CSKSZ":"P".concat(t),l="/DomainController/OM/".concat(s,"_").concat(o,"/ActiveUpdate");return Object(i["a"])({url:"https://apim.innolux.com"+l,method:"put",data:a})}function p(t){var e="/DomainController/Common/".concat(t,"/Get");return Object(i["a"])({url:"https://apim.innolux.com"+e,method:"get"})}function m(t,e,a){var s=e.toLowerCase(),o=s.substring(0,1).toUpperCase()+s.substring(1,s.length),l="/DomainController/Common/".concat(t,"/GetBy").concat(o,"/").concat(a);return Object(i["a"])({url:"https://apim.innolux.com"+l,method:"get"})}function b(t,e,a,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"O";return"delete"===t?u(e,a,i,s):"edit"===t?d(e,i,s):c(e,i,s)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"O",a="/DomainController/OM/".concat(e,"BATCH/Z1");return Object(i["a"])({url:"https://apim.innolux.com"+a,method:"post",data:t})}function f(t){var e="/DomainController/OM/BATCH/EmployIF";return Object(i["a"])({url:"https://apim.innolux.com"+e,method:"post",data:t})}function g(t){var e="/DomainController/OM/BATCH/EmployIF/Result";return Object(i["a"])({url:"https://apim.innolux.com"+e,method:"post",data:t})}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"O",a="K"===e?"CSKSZ":"HRP1000",s="/DomainController/OM/".concat(e,"_").concat(a,"/EditLock");return Object(i["a"])({url:"https://apim.innolux.com"+s,method:"put",data:t})}},dbc7:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-exit-fullscreen",use:"icon-exit-fullscreen-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-exit-fullscreen"><path d="M49.217 41.329l-.136-35.24c-.06-2.715-2.302-4.345-5.022-4.405h-3.65c-2.712-.06-4.866 2.303-4.806 5.016l.152 19.164-24.151-23.79a6.698 6.698 0 0 0-9.499 0 6.76 6.76 0 0 0 0 9.526l23.93 23.713-18.345.074c-2.712-.069-5.228 1.813-5.64 5.02v3.462c.069 2.721 2.31 4.97 5.022 5.03l35.028-.207c.052.005.087.025.133.025l2.457.054a4.626 4.626 0 0 0 3.436-1.38c.88-.874 1.205-2.096 1.169-3.462l-.262-2.465c0-.048.182-.081.182-.136h.002zm52.523 51.212l18.32-.073c2.713.06 5.224-1.609 5.64-4.815v-3.462c-.068-2.722-2.317-4.97-5.021-5.04l-34.58.21c-.053 0-.086-.021-.138-.021l-2.451-.06a4.64 4.64 0 0 0-3.445 1.381c-.885.868-1.201 2.094-1.174 3.46l.27 2.46c.005.06-.177.095-.177.141l.141 34.697c.069 2.713 2.31 4.338 5.022 4.397l3.45.006c2.705.062 4.867-2.31 4.8-5.026l-.153-18.752 24.151 23.946a6.69 6.69 0 0 0 9.494 0 6.747 6.747 0 0 0 0-9.523L101.74 92.54v.001zM48.125 80.662a4.636 4.636 0 0 0-3.437-1.382l-2.457.06c-.05 0-.082.022-.137.022l-35.025-.21c-2.712.07-4.957 2.318-5.022 5.04v3.462c.409 3.206 2.925 4.874 5.633 4.814l18.554.06-24.132 23.928c-2.62 2.626-2.62 6.89 0 9.524a6.694 6.694 0 0 0 9.496 0l24.155-23.79-.155 18.866c-.06 2.722 2.094 5.093 4.801 5.025h3.65c2.72-.069 4.962-1.685 5.022-4.406l.141-34.956c0-.05-.182-.082-.182-.136l.262-2.46c.03-1.366-.286-2.592-1.166-3.46h-.001zM80.08 47.397a4.62 4.62 0 0 0 3.443 1.374l2.45-.054c.055 0 .088-.02.143-.028l35.08.21c2.712-.062 4.953-2.312 5.021-5.033l.009-3.463c-.417-3.211-2.937-5.084-5.64-5.025l-18.615-.073 23.917-23.715c2.63-2.623 2.63-6.879.008-9.513a6.691 6.691 0 0 0-9.494 0L92.251 26.016l.155-19.312c.065-2.713-2.097-5.085-4.802-5.025h-3.45c-2.713.069-4.954 1.693-5.022 4.406l-.139 35.247c0 .054.18.088.18.136l-.267 2.465c-.028 1.366.288 2.588 1.174 3.463v.001z" /></symbol>'});l.a.add(n);e["default"]=n},dcf8:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-nested",use:"icon-nested-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-nested"><path d="M.002 9.2c0 5.044 3.58 9.133 7.998 9.133 4.417 0 7.997-4.089 7.997-9.133 0-5.043-3.58-9.132-7.997-9.132S.002 4.157.002 9.2zM31.997.066h95.981V18.33H31.997V.066zm0 45.669c0 5.044 3.58 9.132 7.998 9.132 4.417 0 7.997-4.088 7.997-9.132 0-3.263-1.524-6.278-3.998-7.91-2.475-1.63-5.524-1.63-7.998 0-2.475 1.632-4 4.647-4 7.91zM63.992 36.6h63.986v18.265H63.992V36.6zm-31.995 82.2c0 5.043 3.58 9.132 7.998 9.132 4.417 0 7.997-4.089 7.997-9.132 0-5.044-3.58-9.133-7.997-9.133s-7.998 4.089-7.998 9.133zm31.995-9.131h63.986v18.265H63.992V109.67zm0-27.404c0 5.044 3.58 9.133 7.998 9.133 4.417 0 7.997-4.089 7.997-9.133 0-3.263-1.524-6.277-3.998-7.909-2.475-1.631-5.524-1.631-7.998 0-2.475 1.632-4 4.646-4 7.91zm31.995-9.13h31.991V91.4H95.987V73.135z" /></symbol>'});l.a.add(n);e["default"]=n},dfd1:function(t,e,a){"use strict";a("5e20")},e121:function(t,e,a){},e3ed:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",{staticClass:"switch"},[e("div",{staticClass:"display"}),e("div",[e("p",{staticClass:"page-title"},[t._v("職位")])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-switch",{attrs:{"active-text":"編輯","inactive-text":"檢視"},on:{change:t.btnControlEditView},model:{value:t.switchEdit,callback:function(e){t.switchEdit=e},expression:"switchEdit"}})],1)]),e("el-form",[e("div",{staticClass:"search-bg"},[e("div",{staticClass:"bar-row1"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"OBJID",ref:"objInput",attrs:{disabled:t.switchEdit,maxlength:"8","show-word-limit":"",placeholder:"職位物件ID"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.formOrg.OBJID,callback:function(e){t.$set(t.formOrg,"OBJID",e)},expression:"formOrg.OBJID"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"InfoType"},model:{value:t.infoSel,callback:function(e){t.infoSel=e},expression:"infoSel"}},t._l(t.filteredOptions,(function(a){return e("el-option",{key:a.infty,attrs:{label:a.infty+" "+a.itext,value:a.infty},nativeOn:{click:function(e){return t.getSubType.apply(null,arguments)}}})})),1)],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"subSpaceBetween"},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"SubType",disabled:null==t.infoSel||""===t.infoSel||!0===t.subtype},model:{value:t.subSel,callback:function(e){t.subSel=e},expression:"subSel"}},t._l(t.filteredSubOptions,(function(t){return e("el-option",{key:t.subty,attrs:{label:t.subty+" "+t.sutxt,value:t.subty}})})),1)],1)],1)]),e("div",{staticClass:"bar-row2"},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"開始日期","picker-options":t.pickerOptions,format:"yyyy-MM-dd"},model:{value:t.typeinfoFromDate,callback:function(e){t.typeinfoFromDate=e},expression:"typeinfoFromDate"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.typeinfoToDate,callback:function(e){t.typeinfoToDate=e},expression:"typeinfoToDate"}})],1)],1),e("div",{staticClass:"searchBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-view"},on:{click:t.view}})],1)],1)])])])]),e("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title colSpace"},[e("div",{staticClass:"title-label"},[t._v("職位物件ID")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.objid))])])])]),e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-label"},[t._v("職位代碼")]),e("div",{staticClass:"title-value"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.titleData.short))]),t._v(t._s(t.titleData.stext))])])])],1)],1),e(t.listView,{key:t.loadKey,tag:"component",attrs:{"title-data":t.titleData,"body-data":t.bodyData,"switch-edit":t.switchEdit},on:{getList:t.getListInfo}}),e(t.detailView,{tag:"component",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},s=[],o=a("c7eb"),l=a("1da1"),n=a("2909"),r=(a("b0c0"),a("e9c4"),a("99af"),a("c740"),a("caad"),a("2532"),a("4de4"),a("d3b7"),a("5c96")),c=a("daa7"),d=a("0c47"),u=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("物件")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),e("el-table-column",{attrs:{prop:"short",label:"物件縮寫"}}),e("el-table-column",{attrs:{prop:"stext",label:"物件名稱"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],1)],1)]),e("om1000-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog}})],1)},p=[],m=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"100px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"begda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.begda,callback:function(e){t.$set(t.dataForm,"begda",e)},expression:"dataForm.begda"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"endda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.endda,callback:function(e){t.$set(t.dataForm,"endda",e)},expression:"dataForm.endda"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"aedtm"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.aedtm,callback:function(e){t.$set(t.dataForm,"aedtm",e)},expression:"dataForm.aedtm"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"uname"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.uname,callback:function(e){t.$set(t.dataForm,"uname",e)},expression:"dataForm.uname"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("物件")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"物件縮寫",prop:"short"}},[e("el-input",{attrs:{name:"short",disabled:t.DisableFlag.SHORT},model:{value:t.dataForm.short,callback:function(e){t.$set(t.dataForm,"short",e)},expression:"dataForm.short"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"物件名稱",prop:"stext"}},[e("el-input",{attrs:{name:"stext",disabled:t.DisableFlag.STEXT},model:{value:t.dataForm.stext,callback:function(e){t.$set(t.dataForm,"stext",e)},expression:"dataForm.stext"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},b=[],h=a("5530"),f=a("61f7"),g={name:"Om1000Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{objid:null,short:""},body:{id:"",begda:"",endda:"",aedtm:"",uname:"",active:"",objid:null,infty:"",subty:"",short:"",stext:""}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{id:"",begda:new Date,endda:new Date(9999,11,31),aedtm:"",uname:"",active:"",objid:null,infty:"",subty:"",short:"",stext:""},rules:{begda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],endda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],short:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}],stext:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",trigger:"blur",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/}]},category:"S"}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,OBJID:!0,SUBTY:!0,SHORT:!0,STEXT:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.BEGDA=!1,e.ENDDA=!1,"edit"===this.dialogStatus&&(e.BEGDA=!0,e.ENDDA=!0),"copy"===this.dialogStatus&&(e.OBJID=!0),e.SHORT=!1,e.STEXT=!1),e}},watch:{dialogVisible:{handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete"],i=a.indexOf(this.dialogStatus);i>-1?this.dataForm=Object(h["a"])({},this.parentObj.body):(this.dataForm.objid=this.parentObj.title.objid,this.dataForm.infty="1000",this.dataForm.active="1",this.dataForm.aedtm=Object(d["c"])(new Date),this.dataForm.uname=this.$store.getters.name)}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.id,a.uname=this.$store.getters.name,a.aedtm=Object(d["c"])(new Date),Object(c["f"])(this.dataForm.infty,this.dataForm.id,a,this.category).then((function(e){console.log("deleteOMList body: "+JSON.stringify(a));var i=e.success;void 0!==i&&!0===i?(Object(r["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.$emit("close")):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),void this.closeDialog()}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.id,a.begda=Object(d["c"])(new Date(t.dataForm.begda)),a.endda=Object(d["c"])(new Date(t.dataForm.endda)),a.aedtm=Object(d["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.active,a.objid=t.dataForm.objid,a.infty=t.dataForm.infty,a.subty=t.dataForm.subty,a.short=t.dataForm.short,a.stext=t.dataForm.stext,console.log("add or update body: -> "+JSON.stringify(a)),"edit"!==t.dialogStatus?Object(c["c"])(t.dataForm.infty,a,t.category).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"新增成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):Object(c["o"])(t.dataForm.infty,a,t.category).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(r["Message"])({message:"更新成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(r["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)}))}}))}else Object(r["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,[],["number"])},queryOption:function(t){return!1}}},D=g,y=a("2877"),v=Object(y["a"])(D,m,b,!1,null,"3476d438",null),O=v.exports,F={name:"Om1000List",components:{Om1000Detail:O},props:{switchEdit:{type:Boolean,default:!1},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:{},body:{}}}},methods:{handleAdd:function(){this.parentObj.title=this.titleData,this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.title=this.titleData,this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("getList")}}},S=F,E=Object(y["a"])(S,u,p,!1,null,null,null),A=E.exports,w=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[t.titleData.inftyInfo?e("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.titleData.inftyInfo.headLabel))]):t._e()]),e("div",{staticClass:"card"},[e("el-table",{staticStyle:{width:"100%"},attrs:{"row-key":"id",data:t.bodyData,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"begda",label:"開始日期"}}),e("el-table-column",{attrs:{prop:"endda",label:"結束日期"}}),t.titleData.inftyInfo?t._l(t.titleData.inftyInfo.inputFields,(function(a){return e("el-table-column",{key:a.key,attrs:{prop:a.key,label:a.label,formatter:t.rowFormat}})})):t._e(),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:t.switchEdit?"250px":"100px"},scopedSlots:t._u([{key:"header",fn:function(){return[!0===t.switchEdit?e("el-button",{attrs:{type:"success",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.handleAdd}},[e("span",{staticClass:"addBtn"},[t._v("新增")])]):t._e()]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},[e("div",[!0===t.switchEdit?e("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.handleEdit(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"success",plain:"",icon:"el-icon-document-copy",size:"small"},on:{click:function(e){return t.handleCopy(i)}}}):t._e()],1),e("div",[!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e(),!0===t.switchEdit?e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.handleDelete(i)}}}):t._e()],1)]),!1===t.switchEdit?e("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-view",size:"small"},on:{click:function(e){return t.handleView(i)}}}):t._e()]}}])})],2)],1)]),e("om10017-detail",{attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible,"parent-obj":t.parentObj},on:{close:t.closeDialog,getList:t.getList}})],1)},T=[],x=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"140px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:!0},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:!0},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),"1007"===t.dataForm.INFTY?e("div",[e("div",{staticClass:"subDialog-header"},[t._v(t._s(t.dataForm.HEADLABEL))]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("div",[e("el-form-item",{attrs:{label:t.dataForm.INPUTLABELS[0],prop:"STATUS"}},[e("el-radio-group",{model:{value:t.dataForm.STATUS,callback:function(e){t.$set(t.dataForm,"STATUS",e)},expression:"dataForm.STATUS"}},[e("el-radio",{attrs:{label:"0"}},[t._v("開啟")]),e("el-radio",{attrs:{label:"2"}},[t._v("職缺已補")])],1)],1)],1)])],1)],1)]):t._e(),"1001"===t.dataForm.INFTY?e("div",[e("div",{staticClass:"subDialog-header"},[t._v(t._s(t.dataForm.HEADLABEL))]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("div",[e("el-form-item",{attrs:{label:t.dataForm.INPUTLABELS[0],prop:"SUBTY"}},[e("div",{staticClass:"three-col"},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{prop:"SUBTY"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"請選擇",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.SUBTY,callback:function(e){t.$set(t.dataForm,"SUBTY",e)},expression:"dataForm.SUBTY"}},t._l(t.filteredT777uOptions,(function(a){return e("el-option",{key:a.domvalue,attrs:{label:a.subty+" "+a.sutxt,value:a.subty},on:{change:t.forceUpdate}},[t._v(" "+t._s(a.subty)+" "+t._s(a.sutxt)+" ")])})),1)],1),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"}}),e("el-form-item",{staticStyle:{width:"100%"}})],1)])],1)])],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("相關物件")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:t.dataForm.INPUTLABELS[2],prop:"SCLAS"}},[e("div",{staticClass:"three-col"},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{prop:"SCLAS"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"請選擇",disabled:t.DisableFlag.FORMREADONLY},model:{value:t.dataForm.SCLAS,callback:function(e){t.$set(t.dataForm,"SCLAS",e)},expression:"dataForm.SCLAS"}},t._l(t.sclasOptions,(function(a){return e("el-option",{key:a.otype,attrs:{label:a.otype+" "+a.otext,value:a.otype},on:{change:t.forceUpdate}},[t._v(" "+t._s(a.otype)+" "+t._s(a.otext)+" ")])})),1)],1),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"}}),e("el-form-item",{staticStyle:{width:"100%"}})],1)])],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:t.dataForm.INPUTLABELS[3],prop:"SOBID"}},[e("div",{staticClass:"three-col"},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{prop:"SOBID"}},[t.OMOptions.includes(t.dataForm.SCLAS)?e("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":t.omFilter,placeholder:"请输入或選擇内容",disabled:t.DisableFlag.FORMREADONLY},on:{select:function(e){return t.updateObjInfo(!0)},change:function(e){return t.updateObjInfo(!1)}},model:{value:t.dataForm.SOBID,callback:function(e){t.$set(t.dataForm,"SOBID",e)},expression:"dataForm.SOBID"}}):t._e(),t.OMOptions.includes(t.dataForm.SCLAS)?t._e():e("el-input",{staticStyle:{width:"100%"},attrs:{name:"SOBID",disabled:t.DisableFlag.FORMREADONLY},on:{change:function(e){return t.updateObjInfo(!0)}},model:{value:t.dataForm.SOBID,callback:function(e){t.$set(t.dataForm,"SOBID",e)},expression:"dataForm.SOBID"}})],1),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{name:"SOBSHORT",disabled:!0},model:{value:t.dataForm.SOBSHORT,callback:function(e){t.$set(t.dataForm,"SOBSHORT",e)},expression:"dataForm.SOBSHORT"}})],1),e("el-form-item",{staticStyle:{width:"100%"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{name:"SOBNAME",disabled:!0},model:{value:t.dataForm.SOBNAME,callback:function(e){t.$set(t.dataForm,"SOBNAME",e)},expression:"dataForm.SOBNAME"}})],1)],1)])],1)],1)],1)]):t._e()],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},j=[],_=(a("d81d"),a("b64b"),a("3ca3"),a("ddb0"),a("159b"),a("2ca0"),a("9af8")),C=a("b775");function k(){var t="/DomainController/Common/T777O/Get/";return Object(C["a"])({url:"https://apim.innolux.com"+t,method:"get"})}var N={name:"Om10017Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{objid:"10000002"},body:{id:"qwertyui1234567",begda:"1800-1-1",endda:"9999-12-31",aedtm:"2000-12-31",uname:"XXXX.YYY",active:"1",infty:"0105",subty:"1"}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{ID:"",BEGDA:"",ENDDA:"",AEDTM:"",UNAME:"",ACTIVE:"1",INFTY:"",SUBTY:"",STXT:"",OBJID:"",SCLAS:"",SOBID:"",SOBSHORT:"",SOBNAME:"",STATUS:"2",INPUTLABELS:[],FIELDKEYS:[],DIALOG_INIT:!0},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],SUBTY:[{required:!0,message:"此欄為必填欄位"}],SOBID:[{required:!0,message:"此欄為必填欄位，且不支援特殊字元",pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9/-]+$/}],SCLAS:[{required:!0,message:"此欄為必填欄位"}],STATUS:[{required:!0,message:"此欄為必填欄位"}]},AllOMs:{},OMs:[],fillterOMs:[],T777uOptions:[],filteredT777uOptions:[],OMOptions:["O","C","S"],sclasOptions:[],PAOption:"P"}},computed:{DisableFlag:function(){var t=["add","edit","copy"],e={FORMREADONLY:!0,INPUTTEXT:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.FORMREADONLY=!1,e.INPUTTEXT=!1),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getT777uOptions(),this.setOMsFilter())}},"dataForm.ENDDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getT777uOptions(),this.setOMsFilter())}},"dataForm.SCLAS":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.setOMsFilter(),this.dataForm.SOBID="",this.dataForm.SOBNAME="",this.dataForm.SOBSHORT="",t===this.PAOption?this.dataForm.INPUTLABELS[3]="工號":this.dataForm.INPUTLABELS[3]="物件 ID")}},dialogVisible:{handler:function(t,e){var a=this;if(!0===t){var i=["view","edit","copy","delete"],s=i.indexOf(this.dialogStatus);this.dataForm.OBJID=this.parentObj.title.objid,this.dataForm.INFTY=this.parentObj.title.infty,this.dataForm.HEADLABEL=this.parentObj.title.inftyInfo.headLabel,this.dataForm.SELECTSTYLE="margin-right: 10px; width: 100%;";var o=this.parentObj.title.inftyInfo.inputFields;Object.keys(o).map((function(t){var e=o[t],i="";s>-1&&(i=a.parentObj.body[e["key"]]),a.dataForm.FIELDKEYS.push(e["key"]),a.dataForm.INPUTLABELS.push(e["label"]),a.dataForm[e["key"].toUpperCase()]=i})),s>-1?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.SUBTY=this.parentObj.body.subty):(this.dataForm.ACTIVE="1",this.dataForm.BEGDA=Object(d["c"])(new Date),this.dataForm.AEDTM=Object(d["b"])(new Date),this.dataForm.UNAME=this.$store.getters.name,this.dataForm.ENDDA="9999-12-31",this.dataForm.SCLAS="O",this.dataForm.STATUS="2"),"1001"===this.dataForm.INFTY&&(this.getAllOptions(),this.dataForm.SCLAS===this.PAOption&&(this.dataForm.INPUTLABELS[3]="工號"))}},deep:!0}},methods:{getT777uOptions:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=!1,(Object(d["a"])(t.dataForm.BEGDA)||Object(d["a"])(t.dataForm.ENDDA))&&(t.filteredT777uOptions=[],a=!0),!1!==t.dialogVisible&&!a&&"view"!==t.dialogStatus&&"delete"!==t.dialogStatus){e.next=4;break}return e.abrupt("return");case 4:return i=[],s="S",e.next=8,Object(c["n"])(s,t.dataForm.INFTY).then((function(e){if(200===e.status)i=Object(d["h"])(e.data,t.dataForm.BEGDA,t.dataForm.ENDDA,"subty");else{var a="取得物件資料失敗";Object(r["Message"])(Object(d["f"])(a,"error"))}})).catch((function(t){console.log(t)}));case 8:t.filteredT777uOptions=i;case 9:case"end":return e.stop()}}),e)})))()},getAllOptions:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getT777uOptions(),e.next=3,k().then((function(e){if(200===e.status)t.sclasOptions=e.data;else{var a="取得下拉清單失敗";Object(r["Message"])(Object(d["f"])(a,"error"))}})).catch((function(t){console.log(t)}));case 3:a=Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.OMOptions[i],e.next=3,Object(c["h"])("1000",a).then((function(e){if(200===e.status)t.AllOMs[a]=e.data,a===t.dataForm.SCLAS&&t.setOMsFilter();else{var i="取得物件資料失敗";Object(r["Message"])(Object(d["f"])(i,"error"))}})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)})),i=0;case 5:if(!(i<t.OMOptions.length)){e.next=10;break}return e.delegateYield(a(),"t0",7);case 7:i++,e.next=5;break;case 10:!0===t.dataForm.DIALOG_INIT&&(t.dataForm.DIALOG_INIT=!1),t.dataForm.SCLAS===t.PAOption&&t.updateObjInfo(!0);case 12:case"end":return e.stop()}}),e)})))()},setOMsFilter:function(){if(this.OMOptions.includes(this.dataForm.SCLAS)){if(Object(d["a"])(this.dataForm.BEGDA)||Object(d["a"])(this.dataForm.ENDDA))return void(this.fillterOMs=[]);var t=this.AllOMs[this.dataForm.SCLAS];void 0!==t&&(this.fillterOMs=Object(d["h"])(t,this.dataForm.BEGDA,this.dataForm.ENDDA,"objid"))}!1===Object(d["a"])(this.dataForm.SCLAS)&&this.updateObjInfo(!0)},updateObjInfo:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){var i,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=!1,!e.OMOptions.includes(e.dataForm.SCLAS)){a.next=6;break}s=e.fillterOMs.filter((function(t){return String(t["objid"]).toLowerCase()===String(e.dataForm.SOBID).toLowerCase()})),s.length>0&&(e.dataForm.SOBNAME=s[0].stext,e.dataForm.SOBSHORT=s[0].short,i=!0),a.next=9;break;case 6:if(!t||e.dataForm.SCLAS!==e.PAOption){a.next=9;break}return a.next=9,Object(_["l"])("0002","Pernr",e.dataForm.SOBID).then((function(t){if(200===t.status){var a=Object(d["h"])(t.data,e.dataForm.BEGDA,e.dataForm.ENDDA,"pernr");a.length>=0&&"19055688"===e.dataForm.SOBID&&(e.dataForm.SOBNAME=a[0].nachn+a[0].vorna,e.dataForm.SOBSHORT=a[0].nachn,i=!0)}else Object(r["Message"])(Object(d["f"])("取得人事資料失敗","error"))})).catch((function(t){console.log(t)}));case 9:!1===i&&(e.dataForm.SOBNAME="",e.dataForm.SOBSHORT="");case 10:case"end":return a.stop()}}),a)})))()},omFilter:function(t,e){if(this.OMOptions.includes(this.dataForm.SCLAS)){var a=[];""!==t&&this.fillterOMs.length>0&&this.fillterOMs.forEach((function(e){if(String(e["objid"]).toLowerCase().startsWith(String(t).toLowerCase())){var i={value:"",label:""};i.value=e.objid,i.label=e.objid,a.push(i)}})),e(a)}},submitDialog:function(){var t=this;if("view"!==this.dialogStatus){if("delete"!==this.dialogStatus){var e=Object(f["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null!=e)return void Object(r["Message"])(e);if("1001"===this.dataForm.INFTY&&(this.OMOptions.includes(this.dataForm.SCLAS)||this.dataForm.SCLAS===this.PAOption)&&""===this.dataForm.SOBNAME)return void Object(r["Message"])(Object(d["f"])("輸入之相關物件或人員工號不存在:"+this.dataForm.SOBID,"error"))}var a={};a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(d["b"])(new Date),"delete"!==this.dialogStatus&&this.$refs["dataForm"].validate((function(e){if(e){a.begda=Object(d["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(d["c"])(new Date(t.dataForm.ENDDA)),a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.objid=t.dataForm.OBJID;for(var i=0;i<t.dataForm.FIELDKEYS.length;i++){var s=t.dataForm.FIELDKEYS[i].toUpperCase();!1===Object(d["a"])(t.dataForm[s])&&(a[t.dataForm.FIELDKEYS[i]]=t.dataForm[s])}}})),this.excuteSubmit(a),this.closeDialog()}else this.closeDialog()},excuteSubmit:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["a"])(e.dialogStatus,e.dataForm.INFTY,t.id,t,"S").then((function(t){Object(r["Message"])(Object(d["e"])(e.dialogStatus,t)),e.$emit("getList")}));case 2:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm=Object(d["g"])(this.dataForm,["ACTIVE"],["number"]),this.AllOMs={},this.OMs=[],this.T777uOptions=[],this.filteredT777uOptions=[],this.fillterOMs=[]},forceUpdate:function(){this.$forceUpdate()}}},I=N,M=Object(y["a"])(I,x,j,!1,null,"2304a4ce",null),B=M.exports,R={name:"Om10017List",components:{Om10017Detail:B},props:{switchEdit:{type:Boolean,default:!1},pernr:{type:String,default:""},begda:{type:String,default:""},endda:{type:String,default:""},titleData:{type:Object,default:function(){return{}}},bodyData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogStatus:"",parentObj:{title:this.titleData,body:{}}}},methods:{handleAdd:function(){this.dialogStatus="add",this.dialogVisible=!0},handleEdit:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="edit",this.dialogVisible=!0},handleView:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="view",this.dialogVisible=!0},handleCopy:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="copy",this.dialogVisible=!0},handleDelete:function(t){this.parentObj.body=Object.assign({},t),this.dialogStatus="delete",this.dialogVisible=!0},rowFormat:function(t,e){var a=e["property"];return"status"===a&&"1007"===t["infty"]?"0"===t[a]?"開啟":"職缺已補":t[a]},closeDialog:function(){this.parentObj.body={},this.dialogVisible=!1},getList:function(){this.$emit("getList")}}},L=R,P=Object(y["a"])(L,w,T,!1,null,null,null),V=P.exports,$={name:"SHrp1000",components:{Om1000List:A,Om1000Detail:O,Om10017List:V,Om10017Detail:B},data:function(){return{formOrg:{OBJID:null,SHORT:"",STEXT:""},begda:"",endda:"",switchEdit:!1,dialogVisible:!1,dialogStatus:"",listView:"",detailView:"",subtype:!1,titleData:{},bodyData:[],parentObj:{},loadKey:"",switchKey:"_1",infoSel:void 0,subSel:void 0,options:[{otype:"S",infty:"1000",itext:"物件"},{otype:"S",infty:"1001",itext:"關係"},{otype:"S",infty:"1007",itext:"職缺"}],subOptions:[],filteredOptions:[],filteredSubOptions:[],category:"S",typeinfoFromDate:new Date(1799,12,1),typeinfoToDate:new Date(9999,11,31),pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.filteredOptions=Object(n["a"])(this.options)},mounted:function(){this.$refs.objInput.focus()},beforeDestroy:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.formOrg.OBJID,!0!==t.switchEdit){e.next=12;break}return i={},i.objid=a,i.mdfyflg="0",i.mdfyusr=t.$store.getters.name,i.mdfydtm=Object(d["b"])(new Date),i.pageguid=t.$store.getters.uuid,console.log("force editLock unLock: "+JSON.stringify(i)),e.next=11,Object(c["g"])(i,t.category).then((function(t){var e=t.success;!0===e||Object(r["Message"])({message:"檢視切換失敗:物件ID(".concat(a,")編輯解鎖失效"),type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 11:t.switchEdit=!1;case 12:case"end":return e.stop()}}),e)})))()},methods:{btnControlEditView:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.titleData.objid&&t.titleData.infty){e.next=4;break}return t.switchEdit=!1,Object(r["Message"])({message:"請輸入職位物件ID及選擇Infotype !",type:"error",duration:3e3}),e.abrupt("return");case 4:a=t.titleData.objid,i={},i.objid=a,!0===t.switchEdit?(i.mdfyflg="1",i.pageguid=t.$store.getters.uuid):(i.mdfyflg="0",i.pageguid=t.$store.getters.uuid),i.mdfyusr=t.$store.getters.name,i.mdfydtm=Object(d["b"])(new Date),console.log("editLock: "+JSON.stringify(i)),Object(c["g"])(i,t.category).then((function(e){if(console.log("editLock pageguid: "+i.pageguid),200!==e.status||!0!==e.success)return Object(r["Message"])({message:"檢視/編輯切換失敗:物件ID(".concat(a,")編輯解鎖失效(").concat(e.message,")"),type:"error",duration:3e3}),void(t.switchEdit=!1);Object(r["Message"])({message:"檢視/編輯切換成功:物件ID(".concat(a,"))"),type:"success",duration:3e3})})).catch((function(e){Object(r["Message"])({message:"檢視/編輯切換失敗:物件ID(".concat(a,")編輯解鎖失效(").concat(e,")"),type:"error",duration:3e3}),t.switchEdit=!1,console.log(e)}));case 12:case"end":return e.stop()}}),e)})))()},view:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formOrg.OBJID&&null!=t.infoSel){e.next=3;break}return Object(r["Message"])({message:"請輸入物件ID及選擇InfoType !",type:"error",duration:3e3}),e.abrupt("return");case 3:return e.next=5,t.getOrgInfo();case 5:t.parentObj={title:t.titleData,body:t.bodyData[0]},t.dialogStatus="view",t.dialogVisible=!0;case 8:case"end":return e.stop()}}),e)})))()},search:function(){this.formOrg.OBJID?(this.resetForm(),this.getOrgInfo()):Object(r["Message"])({message:"請輸入物件ID !",type:"error",duration:3e3})},closeDialog:function(){this.dialogVisible=!1},getOrgInfo:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var a,i,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.typeinfoFromDate&&null!==e.typeinfoToDate){t.next=3;break}return Object(r["Message"])({message:"請輸入開始日期及結束日期 !",type:"error",duration:3e3}),t.abrupt("return");case 3:if("1799-12-01"===e.typeinfoFromDate&&"9999-11-31"===e.typeinfoToDate){t.next=13;break}if(!(e.typeinfoToDate<e.typeinfoFromDate)){t.next=9;break}return Object(r["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}),t.abrupt("return");case 9:e.begda=Object(d["c"])(e.typeinfoFromDate),e.endda=Object(d["c"])(e.typeinfoToDate);case 11:t.next=15;break;case 13:e.begda="1799-12-01",e.endda="9999-11-31";case 15:return t.next=17,Object(c["m"])(e.formOrg.OBJID,e.begda,e.endda,e.category).then((function(t){var a=t.data;if(200===t.status){if(a.length>0){var i=Object.assign({},a[0]);if(e.formOrg.OBJID=i.objid,i.begda=e.begda,i.endda=e.endda,e.infoSel>-1){var s=e.options.findIndex((function(t){return t.infty===e.infoSel}));i.infty=e.options[s].infty,i.subty=e.subSel}e.titleData=i,console.log("titleData",e.titleData)}}else Object(r["Message"])({message:"無此職位與相關資料",type:"error",duration:3e3})})).catch((function(t){console.log(t)}));case 17:if(!(e.infoSel>-1)){t.next=24;break}return t.next=20,e.getListInfo();case 20:a=e.options.findIndex((function(t){return t.infty===e.infoSel})),e.loadKey="key_"+e.options[a].infty,i=["key_1001","key_1007"],i.includes(e.loadKey)?(s={key_1001:{headLabel:"關係",inputFields:[{label:"關係",key:"subty"},{label:"關係內文",key:"sutxt"},{label:"物件類型",key:"sclas"},{label:"物件 ID",key:"sobid"}]},key_1007:{headLabel:"職缺",inputFields:[{label:"職缺狀態",key:"status"}]}},e.titleData.inftyInfo=s[e.loadKey],"_1"===e.switchKey?e.switchKey="_0":e.switchKey="_1",e.loadKey=e.loadKey+e.switchKey,e.listView="Om10017-list",e.detailView="Om10017-detail"):(e.listView="Om".concat(e.options[a].infty,"-list"),e.detailView="Om".concat(e.options[a].infty,"-detail"));case 24:case"end":return t.stop()}}),t)})))()},getListInfo:function(){var t=this,e=this.options.findIndex((function(e){return e.infty===t.infoSel}));return Object(c["i"])(this.options[e].infty,this.formOrg.OBJID,this.begda,this.endda,this.category).then((function(e){t.bodyData=e.data,console.log(t.bodyData),t.subSel&&(t.bodyData=t.bodyData.filter((function(e){return e.subty===t.subSel})))})).catch((function(t){console.log(t)}))},getSubType:function(){var t=this;this.subSel=void 0,this.subtype=!1;var e=this.options.findIndex((function(e){return e.infty===t.infoSel}));Object(c["n"])(this.options[e].otype,this.options[e].infty).then((function(e){var a=e.data;t.subOptions=a,t.filteredSubOptions=a,400!==e.status||(t.subtype=!0)})).catch((function(t){console.log(t)}))},OptionFilter:function(t){this.filteredOptions=t?this.options.filter((function(e){return e.infty.indexOf(t)>-1||e.itext.indexOf(t)>-1})):this.options},T777UOptionFilter:function(t){this.filteredSubOptions=t?this.subOptions.filter((function(e){return e.subty.indexOf(t)>-1||e.sutxt.indexOf(t)>-1})):this.subOptions},forceUpdate:function(){this.filteredOptions=this.options,this.filteredSubOptions=this.subOptions,this.$forceUpdate()},resetForm:function(){this.titleData={objid:"",short:"",stext:""},this.loadKey=""}}},G=$,z=Object(y["a"])(G,i,s,!1,null,"3a7e4dba",null);e["default"]=z.exports},e534:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-theme",use:"icon-theme-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-theme"><path d="M125.5 36.984L95.336 2.83C93.735 1.018 91.565 0 89.3 0c-2.263 0-4.433 1.018-6.033 2.83l-3.786 4.286c-1.6 1.812-3.77 2.83-6.032 2.831H54.553c-2.263 0-4.434-1.018-6.033-2.83L44.734 2.83C43.134 1.018 40.964 0 38.701 0c-2.263 0-4.434 1.018-6.034 2.83L2.5 36.984C.9 38.796 0 41.254 0 43.815c0 2.562.899 5.02 2.5 6.831L14.565 64.31c2.178 2.468 5.367 3.403 8.33 2.444 1.35-.435 2.709.592 2.709 2.18v49.407c0 5.313 3.84 9.66 8.532 9.66h59.726c4.693 0 8.532-4.347 8.532-9.66V68.934c0-1.59 1.36-2.616 2.71-2.181 2.962.96 6.15.024 8.329-2.444L125.5 50.646c1.6-1.811 2.499-4.269 2.499-6.83 0-2.563-.899-5.02-2.5-6.832z" /></symbol>'});l.a.add(n);e["default"]=n},e619:function(t,e,a){t.exports=a.p+"static/img/CUXSG在職logo.3b2bb46a.jpg"},e663:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("部門異動")])]),e("el-form",[e("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("批次上傳檔案 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 適用300筆以下資料 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"addFileName",ref:"addFileName",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"批次集體部門異動檔案"},model:{value:t.addFileName,callback:function(e){t.addFileName=e},expression:"addFileName"}})],1)],1)]),e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"info",icon:"el-icon-download",size:"small"}},[e("span",{staticClass:"addBtn"},[t._v("範本")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("upload-excel-component",{ref:"addExcelComponent",attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload},on:{fileName:t.getAddFileName}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.excelTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.excelSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("Interface執行 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 台灣端招募系統適用 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticClass:"dpmChange-bar"},[e("div",{staticClass:"employ-bar"},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用開始日期",format:"yyyy-MM-dd"},model:{value:t.interFace.begda,callback:function(e){t.$set(t.interFace,"begda",e)},expression:"interFace.begda"}})],1)],1),e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用結束日期",format:"yyyy-MM-dd"},model:{value:t.interFace.endda,callback:function(e){t.$set(t.interFace,"endda",e)},expression:"interFace.endda"}})],1)],1)]),e("div",{staticClass:"employ-bar1"},[e("div",{staticStyle:{display:"flex",width:"100%"}},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-input",{key:"pernr",ref:"pernr",attrs:{maxlength:"8","show-word-limit":"",placeholder:"員工工號"},model:{value:t.interFace.pernr,callback:function(e){t.$set(t.interFace,"pernr",e)},expression:"interFace.pernr"}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:t.pernrChoice}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("1db5")}})])],1)],1)]),e("div",{staticClass:"dpmChange"},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-input",{key:"u_site",ref:"u_site",attrs:{maxlength:"5","show-word-limit":"",placeholder:"資料來源廠區"},model:{value:t.interFace.u_site,callback:function(e){t.$set(t.interFace,"u_site",e)},expression:"interFace.u_site"}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:t.u_siteChoice}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("1db5")}})])],1)],1)])]),e("div",{staticClass:"dtChangeBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.interfaceTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.interfaceSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])])],2)],1)],1)],1),t.formatList?e("format-msg-list",{attrs:{"employ-data":t.employData}}):t._e(),t.dbList?e("db-msg-list",{attrs:{"db-data":t.dbData}}):t._e(),t.dialogVisible?e("multiple-choice",{ref:"multipleChoice",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible},on:{close:t.closeDialog,submit:t.submitDialog}}):t._e()],1)},s=[],o=(a("d81d"),a("ac1f"),a("00b4"),a("5319"),a("5c96")),l=a("0c47"),n=a("3796"),r=a("9af8"),c=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.employData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"posno",label:"記錄流水號"}}),e("el-table-column",{attrs:{prop:"begda",label:"CMI聘僱日"}}),e("el-table-column",{attrs:{prop:"orgeh",label:"部門物件ID"}}),e("el-table-column",{attrs:{prop:"stell",label:"職稱物件ID"}}),e("el-table-column",{attrs:{prop:"pernr",label:"員工工號"}}),e("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nachn)+t._s(e.row.vorna)+" ")]}}])}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"process_message",label:"處理訊息"}})],1)],1)])],1)},d=[],u={name:"PAEmployFormatMsgList",props:{employData:{type:Array,default:function(){return[]}}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<6){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},p=u,m=a("2877"),b=Object(m["a"])(p,c,d,!1,null,null,null),h=b.exports,f=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dbData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"posno",label:"記錄流水號"}}),e("el-table-column",{attrs:{prop:"begda",label:"CMI聘僱日"}}),e("el-table-column",{attrs:{prop:"orgeh",label:"部門物件ID"}}),e("el-table-column",{attrs:{prop:"stell",label:"職稱物件ID"}}),e("el-table-column",{attrs:{prop:"plans",label:"職位物件ID"}}),e("el-table-column",{attrs:{prop:"pernr",label:"員工工號"}}),e("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nachn)+t._s(e.row.vorna)+" ")]}}])}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"process_message",label:"處理訊息"}}),e("el-table-column",{attrs:{prop:"process_status",label:"處理狀態"}})],1)],1)])],1)},g=[],D={name:"PAEmployDbMsgList",props:{dbData:{type:Array,default:function(){return[]}}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<7){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},y=D,v=Object(m["a"])(y,f,g,!1,null,null,null),O=v.exports,F=a("1563"),S=1048576,E={name:"PADepartmentChange",components:{UploadExcelComponent:n["a"],FormatMsgList:h,DbMsgList:O,MultipleChoice:F["a"]},data:function(){return{interFace:{begda:"1800-01-01",endda:new Date,pernr:"",u_site:""},activeNames:["1"],addFileName:"",editFileName:"",tableData:[],data:{},employData:[],dbData:[],excelData:[],check_only:"",formatList:!1,dbList:!1,dialogVisible:!1,dialogStatus:"",singleData:[],rangeData:[]}},methods:{pernrChoice:function(){this.dialogVisible=!0,this.dialogStatus="pernr"},u_siteChoice:function(){this.dialogVisible=!0,this.dialogStatus="u_site"},closeDialog:function(){this.dialogVisible=!1},submitDialog:function(){this.singleData=this.$refs.multipleChoice.singleData,this.rangeData=this.$refs.multipleChoice.rangeData,""!==this.singleData[0].singleValue?this.interFace[this.dialogStatus]=this.singleData[0].singleValue:this.interFace[this.dialogStatus]=this.rangeData[0].begValue,this.dialogVisible=!1},getAddFileName:function(){this.addFileName=this.$refs.addExcelComponent.fileName},beforeUpload:function(t){var e=t.size<S;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results;this.tableData=e,console.log("results",e)},excelTest:function(){this.check_only="test",this.excelBatchCreate()},excelSubmit:function(){this.check_only="submit",this.excelBatchCreate()},interfaceTest:function(){this.check_only="test",this.interfaceBatchCreate()},interfaceSubmit:function(){this.check_only="submit",this.interfaceBatchCreate()},excelBatchCreate:function(){var t=this;if(this.addFileName){this.data={},this.employData=[];for(var e=0;e<this.tableData.length;e++)this.data.pernr=this.tableData[e].員工工號,this.data.begda=this.tableData[e].員工職位物件ID,this.data.massg=this.tableData[e].生效日期,this.data.plans=this.tableData[e].異動前部門物件ID,this.data.Oorgeh=this.tableData[e].異動後部門物件ID,this.data.Norgeh=this.tableData[e].部門異動原因,this.excelData[e]=Object.assign({},this.data),this.excelData[e].batch_item=e,this.checkFormat();if(0===this.employData.length){this.formatList=!1,this.dbList=!0,this.dbData=[];var a={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===this.check_only&&(a.check_only=!0),"submit"===this.check_only&&(a.check_only=!1),a.source_type="EXCEL",a.data=[];for(var i=function(e){a.data[e]=t.excelData[e],Object(r["b"])(a).then((function(a){var i=a.data,s=[];s=i[e].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)t.dbData.push(s[o]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},s=0;s<this.excelData.length;s++)i(s)}0!==this.employData.length&&(this.dbList=!1,this.formatList=!0),console.log(this.employData.map((function(t){return t.posno}))),console.log("this.employData",this.employData)}else Object(o["Message"])({message:"請上傳檔案 !",type:"error",duration:3e3})},interfaceBatchCreate:function(){var t=this;if(this.interFace.begda&&this.interFace.endda&&this.interFace.u_site){var e={};this.data={},this.employData=[],this.interFace.endda<this.interFace.begda?Object(o["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}):(e.begda=Object(l["c"])(this.interFace.begda),e.endda=Object(l["c"])(this.interFace.endda),e.u_site=this.interFace.u_site,e.aedtm="",e.uname="",e.pageguid="",Object(r["o"])(e).then((function(e){for(var a=0;a<e.data.data.length;a++)t.data=e.data.data[a],t.excelData[a]=Object.assign({},t.data),t.excelData[a].batch_item=a,t.checkFormat();0===t.employData.length&&function(){t.formatList=!1,t.dbList=!0,t.dbData=[];var e={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===t.check_only&&(e.check_only=!0),"submit"===t.check_only&&(e.check_only=!1),e.source_type="RMS_TW_DB",e.data=[];for(var a=function(a){e.data[a]=t.excelData[a],Object(r["b"])(e).then((function(i){console.log("body",e);var s=i.data,o=[];o=s[a].result,o[0].rowspan=o.length;for(var l=0;l<o.length;l++)t.dbData.push(o[l]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},i=0;i<t.excelData.length;i++)a(i)}(),0!==t.employData.length&&(t.dbList=!1,t.formatList=!0),console.log(t.employData.map((function(t){return t.posno}))),console.log("this.employData",t.employData)})).catch((function(t){console.log(t)})))}else Object(o["Message"])({message:"請輸入完整查詢條件 !",type:"error",duration:3e3})},checkFormat:function(){var t,e=this,a=0,i=function(i,s){var o=Object.assign({},e.data);void 0===t&&(t=o),o.process_name=i,o.process_message=s,e.employData.push(o),a++};if(void 0===this.data.pernr&&i("員工工號","不可為空"),void 0===this.data.begda&&i("生效日期","不可為空"),void 0!==this.data.begda){var s=/^(\d{4})[/](\d{2})[/](\d{2})$/;s.test(this.data.begda)?this.data.begda=this.data.begda.replace(s,"$1-$2-$3"):i("生效日期","需為日期格式")}void 0===this.data.massg&&i("部門異動原因","不可為空"),void 0===this.data.plans&&i("員工職位物件ID","不可為空"),void 0===this.data.oorgeh&&i("異動前部門物件ID","不可為空"),void 0===this.data.norgeh&&i("異動後部門物件ID","不可為空"),void 0!==t&&(t.rowspan=a)}}},A=E,w=Object(m["a"])(A,i,s,!1,null,"63324376",null);e["default"]=w.exports},e7c8:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-tree-table",use:"icon-tree-table-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-tree-table"><path d="M44.8 0h79.543C126.78 0 128 1.422 128 4.267v23.466c0 2.845-1.219 4.267-3.657 4.267H44.8c-2.438 0-3.657-1.422-3.657-4.267V4.267C41.143 1.422 42.362 0 44.8 0zm22.857 48h56.686c2.438 0 3.657 1.422 3.657 4.267v23.466c0 2.845-1.219 4.267-3.657 4.267H67.657C65.22 80 64 78.578 64 75.733V52.267C64 49.422 65.219 48 67.657 48zm0 48h56.686c2.438 0 3.657 1.422 3.657 4.267v23.466c0 2.845-1.219 4.267-3.657 4.267H67.657C65.22 128 64 126.578 64 123.733v-23.466C64 97.422 65.219 96 67.657 96zM50.286 68.267c2.02 0 3.657-1.91 3.657-4.267 0-2.356-1.638-4.267-3.657-4.267H17.37V32h6.4c2.02 0 3.658-1.91 3.658-4.267V4.267C27.429 1.91 25.79 0 23.77 0H3.657C1.637 0 0 1.91 0 4.267v23.466C0 30.09 1.637 32 3.657 32h6.4v80c0 2.356 1.638 4.267 3.657 4.267h36.572c2.02 0 3.657-1.91 3.657-4.267 0-2.356-1.638-4.267-3.657-4.267H17.37V68.267h32.915z" /></symbol>'});l.a.add(n);e["default"]=n},eb1b:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-form",use:"icon-form-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-form"><path d="M84.068 23.784c-1.02 0-1.877-.32-2.572-.96a8.588 8.588 0 0 1-1.738-2.237 11.524 11.524 0 0 1-1.042-2.621c-.232-.895-.348-1.641-.348-2.238V0h.278c.834 0 1.622.085 2.363.256.742.17 1.645.575 2.711 1.214 1.066.64 2.363 1.535 3.892 2.686 1.53 1.15 3.453 2.664 5.77 4.54 2.502 2.045 4.494 3.771 5.977 5.178 1.483 1.406 2.618 2.6 3.406 3.58.787.98 1.274 1.812 1.46 2.494.185.682.277 1.278.277 1.79v2.046H84.068zM127.3 84.01c.278.682.464 1.535.556 2.558.093 1.023-.37 2.003-1.39 2.94-.463.427-.88.832-1.25 1.215-.372.384-.696.704-.974.96a6.69 6.69 0 0 1-.973.767l-11.816-10.741a44.331 44.331 0 0 0 1.877-1.535 31.028 31.028 0 0 1 1.737-1.406c1.112-.938 2.317-1.343 3.615-1.215 1.297.128 2.363.405 3.197.83.927.427 1.923 1.173 2.989 2.239 1.065 1.065 1.876 2.195 2.432 3.388zM78.23 95.902c2.038 0 3.752-.511 5.143-1.534l-26.969 25.83H18.037c-1.761 0-3.684-.47-5.77-1.407a24.549 24.549 0 0 1-5.838-3.709 21.373 21.373 0 0 1-4.518-5.306c-1.204-2.003-1.807-4.07-1.807-6.202V16.495c0-1.79.44-3.665 1.32-5.626A18.41 18.41 0 0 1 5.04 5.562a21.798 21.798 0 0 1 5.213-3.964C12.198.533 14.237 0 16.37 0h53.24v15.984c0 1.62.278 3.367.834 5.242a16.704 16.704 0 0 0 2.572 5.179c1.159 1.577 2.665 2.898 4.518 3.964 1.853 1.066 4.078 1.598 6.673 1.598h20.295v42.325L85.458 92.45c1.02-1.364 1.529-2.856 1.529-4.476 0-2.216-.857-4.113-2.572-5.69-1.714-1.577-3.776-2.366-6.186-2.366H26.1c-2.409 0-4.448.789-6.116 2.366-1.668 1.577-2.502 3.474-2.502 5.69 0 2.217.834 4.092 2.502 5.626 1.668 1.535 3.707 2.302 6.117 2.302h52.13zM26.1 47.951c-2.41 0-4.449.789-6.117 2.366-1.668 1.577-2.502 3.473-2.502 5.69 0 2.216.834 4.092 2.502 5.626 1.668 1.534 3.707 2.302 6.117 2.302h52.13c2.409 0 4.47-.768 6.185-2.302 1.715-1.534 2.572-3.41 2.572-5.626 0-2.217-.857-4.113-2.572-5.69-1.714-1.577-3.776-2.366-6.186-2.366H26.1zm52.407 64.063l1.807-1.663 3.476-3.196a479.75 479.75 0 0 0 4.587-4.284 500.757 500.757 0 0 1 5.004-4.667c3.985-3.666 8.48-7.758 13.485-12.276l11.677 10.741-13.485 12.404-5.004 4.603-4.587 4.22a179.46 179.46 0 0 0-3.267 3.068c-.88.853-1.367 1.322-1.46 1.407-.463.341-.973.703-1.529 1.087-.556.383-1.112.703-1.668.959-.556.256-1.413.575-2.572.959a83.5 83.5 0 0 1-3.545 1.087 72.2 72.2 0 0 1-3.475.895c-1.112.256-1.946.426-2.502.511-1.112.17-1.854.043-2.224-.383-.371-.426-.464-1.151-.278-2.174.092-.511.278-1.279.556-2.302.278-1.023.602-2.067.973-3.132l1.042-3.005c.325-.938.58-1.577.765-1.918a10.157 10.157 0 0 1 2.224-2.941z" /></symbol>'});l.a.add(n);e["default"]=n},ec61:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return c}));var i=a("53ca");a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("2c3e"),a("25f0"),a("d3b7"),a("4d90"),a("a15b"),a("d81d"),a("b64b"),a("1276"),a("159b"),a("fb6a"),a("a630"),a("3ca3"),a("6062"),a("ddb0"),a("466d");function s(t,e){if(0===arguments.length||!t)return null;var a,s=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(i["a"])(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var o={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},l=s.replace(/{([ymdhisa])+}/g,(function(t,e){var a=o[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return l}function o(t,e){t=10===(""+t).length?1e3*parseInt(t):+t;var a=new Date(t),i=Date.now(),o=(i-a)/1e3;return o<30?"刚刚":o<3600?Math.ceil(o/60)+"分钟前":o<86400?Math.ceil(o/3600)+"小时前":o<172800?"1天前":e?s(t,e):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"}function l(t,e,a){var i,s,o,l,n,r=function r(){var c=+new Date-l;c<e&&c>0?i=setTimeout(r,e-c):(i=null,a||(n=t.apply(o,s),i||(o=s=null)))};return function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];o=this,l=+new Date;var u=a&&!i;return i||(i=setTimeout(r,e)),u&&(n=t.apply(o,c),o=c=null),n}}function n(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function r(t,e){n(t,e)||(t.className+=" "+e)}function c(t,e){if(n(t,e)){var a=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(a," ")}}},ef3c:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("5319");var i,s,o={created:function(){var t=this.$route,e=t.params,a=t.query,i=e.path;this.$router.replace({path:"/"+i,query:a})},render:function(t){return t()}},l=o,n=a("2877"),r=Object(n["a"])(l,i,s,!1,null,null,null);e["default"]=r.exports},f01e:function(t,e,a){},f15b:function(t,e,a){"use strict";a("28e8")},f327:function(t,e,a){"use strict";a("531d")},f4c8:function(t,e,a){},f4d8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("批次新增/異動職稱")])]),e("el-form",[e("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("批次上傳檔案 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 適用300筆以下資料 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"fileName",ref:"fileName",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"批次建立職稱檔案"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1)]),e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"info",icon:"el-icon-download",size:"small"}},[e("span",{staticClass:"addBtn"},[t._v("範本")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("upload-excel-component",{ref:"uploadExcelComponent",attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload},on:{fileName:t.getFileName}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.excelTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.excelSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("Interface執行 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 台灣端招募系統適用 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticClass:"employ-bar"},[e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"開始日期",format:"yyyy-MM-dd"},model:{value:t.interFace.begda,callback:function(e){t.$set(t.interFace,"begda",e)},expression:"interFace.begda"}})],1)],1),e("div",{staticClass:"employ-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"結束日期",format:"yyyy-MM-dd"},model:{value:t.interFace.endda,callback:function(e){t.$set(t.interFace,"endda",e)},expression:"interFace.endda"}})],1)],1),e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"u_site",ref:"u_site",staticStyle:{width:"100%"},attrs:{placeholder:"資料歸屬場區"},model:{value:t.interFace.u_site,callback:function(e){t.$set(t.interFace,"u_site",e)},expression:"interFace.u_site"}})],1)],1)]),e("div",{},[e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.interfaceTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.interfaceSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])])],2)],1)],1)],1),e("div",[t.formatList?e("format-msg-list",{attrs:{"to-be-correct-data":t.toBeCorrectData}}):t._e()],1),e("div",[t.dbList?e("db-msg-list",{attrs:{"db-data":t.dbData}}):t._e()],1)],1)},s=[],o=a("5530"),l=(a("b0c0"),a("d81d"),a("ac1f"),a("00b4"),a("5319"),a("5c96")),n=a("0c47"),r=a("3796"),c=a("daa7"),d=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.toBeCorrectData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"BEGDA",label:"職務(Job)開始日"}}),e("el-table-column",{attrs:{prop:"OBJID",label:"職務(Job)物件ID"}}),e("el-table-column",{attrs:{prop:"SHORT",label:"職務(Job)=職稱代碼"}}),e("el-table-column",{attrs:{prop:"STEXT",label:"職務(Job)長名=職稱"}}),e("el-table-column",{attrs:{prop:"TLINE",label:"職務(Job)英文名"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}})],1)],1)])],1)},u=[],p={name:"OMOFormatMsgList",props:{toBeCorrectData:{type:Array,default:function(){return[]}}},data:function(){return{colspan:5}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.colspan){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},m=p,b=a("2877"),h=Object(b["a"])(m,d,u,!1,null,null,null),f=h.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dbData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"BEGDA",label:"職務(Job)開始日"}}),e("el-table-column",{attrs:{prop:"OBJID",label:"職務(Job)物件ID"}}),e("el-table-column",{attrs:{prop:"SHORT",label:"職務(Job)=職稱代碼"}}),e("el-table-column",{attrs:{prop:"STEXT",label:"職務(Job)長名=職稱"}}),e("el-table-column",{attrs:{prop:"TLINE",label:"職務(Job)英文名"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}})],1)],1)])],1)},D=[],y={name:"OMOrgDbMsgList",props:{dbData:{type:Array,default:function(){return[]}}},data:function(){return{colspan:5}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.colspan){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}},v=y,O=Object(b["a"])(v,g,D,!1,null,null,null),F=O.exports,S=1048576,E={name:"OMOBatch",components:{UploadExcelComponent:r["a"],FormatMsgList:f,DbMsgList:F},data:function(){return{endda:new Date(9999,12,31),interFace:{begda:new Date,endda:Object(o["a"])({},this.endda),u_site:""},activeNames:["1"],fileName:"",tableData:[],data:{},toBeCorrectData:[],dbData:[],excelData:[],check_only:"",formatList:!1,dbList:!1}},methods:{getFileName:function(){this.fileName=this.$refs.uploadExcelComponent.fileName,console.log("rawFile.name",this.$refs.uploadExcelComponent.fileName)},beforeUpload:function(t){var e=t.size<S;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results;this.tableData=e,console.log("results",e)},excelTest:function(){this.check_only="test",this.excelBatchCreate()},excelSubmit:function(){this.check_only="submit",this.excelBatchCreate()},interfaceTest:function(){this.check_only="test",this.interfaceBatchCreate()},interfaceSubmit:function(){this.check_only="submit",this.interfaceBatchCreate()},excelBatchCreate:function(){var t=this;if(this.fileName){this.data={},this.toBeCorrectData=[];for(var e=0;e<this.tableData.length;e++)this.data["BEGDA"]=this.tableData[e]["職務(Job)開始日"],this.data["OBJID"]=this.tableData[e]["職務(Job)物件ID"],this.data["SHORT"]=this.tableData[e]["職務(Job)=職稱代碼"],this.data["STEXT"]=this.tableData[e]["職務(Job)長名=職稱"],this.data["TLINE"]=this.tableData[e]["職務(Job)英文名"],this.data["ENDDA"]=Object(n["c"])(this.endda),this.data["UNAME"]=this.$store.getters.name,this.data["AEDTM"]=Object(n["c"])(new Date),this.data["SUBTY"]="0006",this.excelData[e]=Object(o["a"])(Object(o["a"])({},this.data),{},{batch_item:e}),this.checkFormat(this.data);if(0===this.toBeCorrectData.length){this.formatList=!1,this.dbList=!0,this.dbData=[];var a={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===this.check_only&&(a.check_only=!0),"submit"===this.check_only&&(a.check_only=!1),a.type="excel",a.data=[];for(var i=function(e){a.data[e]=t.excelData[e],Object(c["b"])(a).then((function(a){var i=a.data,s=[];s=i[e].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)t.dbData.push(s[o]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},s=0;s<this.excelData.length;s++)i(s)}0!==this.toBeCorrectData.length&&(this.dbList=!1,this.formatList=!0),console.log(this.toBeCorrectData.map((function(t){return t.OBJID}))),console.log("this.toBeCorrectData",this.toBeCorrectData)}else Object(l["Message"])({message:"請上傳檔案 !",type:"error",duration:3e3})},interfaceBatchCreate:function(){var t=this;if(this.interFace.begda&&this.interFace.endda&&this.interFace.u_site){var e={};this.data={},this.toBeCorrectData=[],this.interFace.endda<this.interFace.begda?Object(l["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}):(e.begda=Object(n["c"])(this.interFace.begda),e.endda=Object(n["c"])(this.interFace.endda),e.u_site=this.interFace.u_site,e.aedtm="",e.uname="",e.pageguid="",Object(c["d"])(e).then((function(e){for(var a=0;a<e.data.data.length;a++)t.data=e.data.data[a],t.excelData[a]=Object(o["a"])({},t.data),t.excelData[a].batch_item=a,t.checkFormat(t.data);0===t.toBeCorrectData.length&&function(){t.formatList=!1,t.dbList=!0,t.dbData=[];var e={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===t.check_only&&(e.check_only=!0),"submit"===t.check_only&&(e.check_only=!1),e.type="rms_tw_db",e.data=[];for(var a=function(a){e.data[a]=t.excelData[a],Object(c["e"])(e).then((function(i){console.log("body",e);var s=i.data,o=[];o=s[a].result,o[0].rowspan=o.length;for(var l=0;l<o.length;l++)t.dbData.push(o[l]),console.log("dbData",t.dbData)})).catch((function(t){console.log(t)}))},i=0;i<t.excelData.length;i++)a(i)}(),0!==t.toBeCorrectData.length&&(t.dbList=!1,t.formatList=!0),console.log(t.toBeCorrectData.map((function(t){return t.posno}))),console.log("this.toBeCorrectData",t.toBeCorrectData)})).catch((function(t){console.log(t)})))}else Object(l["Message"])({message:"請輸入完整查詢條件 !",type:"error",duration:3e3})},checkFormat:function(t){var e,a=this,i=0,s=function(s,l){var n=Object(o["a"])({},t);void 0===e&&(e=n),n.process_name=s,n.message=l,a.toBeCorrectData.push(n),i++};if(void 0!==t["OBJID"]){if(void 0===t["BEGDA"]){var l=/\d{4}[/\-]\d{2}[/\-]\d{2}/;l.test(t["BEGDA"])?t["BEGDA"]=t["BEGDA"].replace(l,"$1-$2-$3"):s("生效日","不可為空")}void 0===this.data["OBJID"]&&s("職務(Job)物件ID","不可為空"),void 0===this.data["SHORT"]&&s("職務(Job)=職稱代碼","不可為空"),void 0===this.data["STEXT"]&&s("職務(Job)長名=職稱","不可為空"),void 0===this.data["TLINE"]&&s("職務(Job)英文名","不可為空"),void 0!==e&&(e.rowspan=i)}}}},A=E,w=Object(b["a"])(A,i,s,!1,null,"d74e5160",null);e["default"]=w.exports},f752:function(t,e,a){"use strict";a("9b8b")},f767:function(t,e,a){"use strict";a("f4c8")},f782:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-dashboard",use:"icon-dashboard-usage",viewBox:"0 0 128 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 100" id="icon-dashboard"><path d="M27.429 63.638c0-2.508-.893-4.65-2.679-6.424-1.786-1.775-3.94-2.662-6.464-2.662-2.524 0-4.679.887-6.465 2.662-1.785 1.774-2.678 3.916-2.678 6.424 0 2.508.893 4.65 2.678 6.424 1.786 1.775 3.94 2.662 6.465 2.662 2.524 0 4.678-.887 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zm13.714-31.801c0-2.508-.893-4.65-2.679-6.424-1.785-1.775-3.94-2.662-6.464-2.662-2.524 0-4.679.887-6.464 2.662-1.786 1.774-2.679 3.916-2.679 6.424 0 2.508.893 4.65 2.679 6.424 1.785 1.774 3.94 2.662 6.464 2.662 2.524 0 4.679-.888 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zM71.714 65.98l7.215-27.116c.285-1.23.107-2.378-.536-3.443-.643-1.064-1.56-1.762-2.75-2.094-1.19-.33-2.333-.177-3.429.462-1.095.639-1.81 1.573-2.143 2.804l-7.214 27.116c-2.857.237-5.405 1.266-7.643 3.088-2.238 1.822-3.738 4.152-4.5 6.992-.952 3.644-.476 7.098 1.429 10.364 1.905 3.265 4.69 5.37 8.357 6.317 3.667.947 7.143.474 10.429-1.42 3.285-1.892 5.404-4.66 6.357-8.305.762-2.84.619-5.607-.429-8.305-1.047-2.697-2.762-4.85-5.143-6.46zm47.143-2.342c0-2.508-.893-4.65-2.678-6.424-1.786-1.775-3.94-2.662-6.465-2.662-2.524 0-4.678.887-6.464 2.662-1.786 1.774-2.679 3.916-2.679 6.424 0 2.508.893 4.65 2.679 6.424 1.786 1.775 3.94 2.662 6.464 2.662 2.524 0 4.679-.887 6.465-2.662 1.785-1.775 2.678-3.916 2.678-6.424zm-45.714-45.43c0-2.509-.893-4.65-2.679-6.425C68.68 10.01 66.524 9.122 64 9.122c-2.524 0-4.679.887-6.464 2.661-1.786 1.775-2.679 3.916-2.679 6.425 0 2.508.893 4.65 2.679 6.424 1.785 1.774 3.94 2.662 6.464 2.662 2.524 0 4.679-.888 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zm32 13.629c0-2.508-.893-4.65-2.679-6.424-1.785-1.775-3.94-2.662-6.464-2.662-2.524 0-4.679.887-6.464 2.662-1.786 1.774-2.679 3.916-2.679 6.424 0 2.508.893 4.65 2.679 6.424 1.785 1.774 3.94 2.662 6.464 2.662 2.524 0 4.679-.888 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zM128 63.638c0 12.351-3.357 23.78-10.071 34.286-.905 1.372-2.19 2.058-3.858 2.058H13.93c-1.667 0-2.953-.686-3.858-2.058C3.357 87.465 0 76.037 0 63.638c0-8.613 1.69-16.847 5.071-24.703C8.452 31.08 13 24.312 18.714 18.634c5.715-5.68 12.524-10.199 20.429-13.559C47.048 1.715 55.333.035 64 .035c8.667 0 16.952 1.68 24.857 5.04 7.905 3.36 14.714 7.88 20.429 13.559 5.714 5.678 10.262 12.446 13.643 20.301 3.38 7.856 5.071 16.09 5.071 24.703z" /></symbol>'});l.a.add(n);e["default"]=n},f933:function(t,e,a){"use strict";a.r(e);var i=a("5530"),s={dataForm:{}},o={UPDATE_FORM:function(t,e){t.dataForm=Object(i["a"])({},e)},CLEAR_FORM:function(t){t.dataForm={}}},l={updateForm:function(t,e){var a=t.commit;a("UPDATE_FORM",e)},clearForm:function(t){var e=t.commit;e("CLEAR_FORM")}};e["default"]={namespaced:!0,state:s,mutations:o,actions:l}},f96c:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"120px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"begda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.begda},model:{value:t.dataForm.begda,callback:function(e){t.$set(t.dataForm,"begda",e)},expression:"dataForm.begda"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"endda"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31","picker-options":t.pickerOptions,disabled:t.DisableFlag.endda},model:{value:t.dataForm.endda,callback:function(e){t.$set(t.dataForm,"endda",e)},expression:"dataForm.endda"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"aedtm"}},[e("el-input",{attrs:{name:"aedtm",disabled:t.DisableFlag.aedtm},model:{value:t.dataForm.aedtm,callback:function(e){t.$set(t.dataForm,"aedtm",e)},expression:"dataForm.aedtm"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"uname"}},[e("el-input",{attrs:{name:"uname",disabled:t.DisableFlag.uname},model:{value:t.dataForm.uname,callback:function(e){t.$set(t.dataForm,"uname",e)},expression:"dataForm.uname"}})],1)],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("企業結構")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"公司代碼",prop:"bukrs"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.bukrs,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.bukrs,callback:function(e){t.$set(t.dataForm,"bukrs",e)},expression:"dataForm.bukrs"}},t._l(t.optionsBUKRS,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"人事範圍",prop:"persa"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.persa,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.persa,callback:function(e){t.$set(t.dataForm,"persa",e)},expression:"dataForm.persa"}},t._l(t.optionsPERSA,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"人事子範圍",prop:"btrtl"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.btrtl,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.btrtl,callback:function(e){t.$set(t.dataForm,"btrtl",e)},expression:"dataForm.btrtl"}},t._l(t.optionsBTRTL,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"成本中心",prop:"kostl"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.kostl,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.kostl,callback:function(e){t.$set(t.dataForm,"kostl",e)},expression:"dataForm.kostl"}},t._l(t.optionsKOSTL,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"業務範圍",prop:"gsber"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.gsber,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.gsber,callback:function(e){t.$set(t.dataForm,"gsber",e)},expression:"dataForm.gsber"}},t._l(t.optionsGSBER,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1)],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("人事結構")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"員工群組",prop:"persg"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.persg,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.persg,callback:function(e){t.$set(t.dataForm,"persg",e)},expression:"dataForm.persg"}},t._l(t.optionsPERSG,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"員工子群組",prop:"persk"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.persk,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.persk,callback:function(e){t.$set(t.dataForm,"persk",e)},expression:"dataForm.persk"}},t._l(t.optionsPERSK,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"薪資範圍",prop:"abkrs"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.abkrs,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.abkrs,callback:function(e){t.$set(t.dataForm,"abkrs",e)},expression:"dataForm.abkrs"}},t._l(t.optionsABKRS,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"工作契約",prop:"ansvh"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.ansvh,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.ansvh,callback:function(e){t.$set(t.dataForm,"ansvh",e)},expression:"dataForm.ansvh"}},t._l(t.optionsANSVH,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1)],1)],1),e("div",{staticClass:"subDialog-header"},[t._v("組織計劃")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"職位",prop:"plans"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.plans,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.plans,callback:function(e){t.$set(t.dataForm,"plans",e)},expression:"dataForm.plans"}},t._l(t.optionsPLANS,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"組織碼",prop:"vdsk1"}},[e("el-input",{attrs:{name:"vdsk1",disabled:t.DisableFlag.vdsk1},model:{value:t.dataForm.vdsk1,callback:function(e){t.$set(t.dataForm,"vdsk1",e)},expression:"dataForm.vdsk1"}})],1)],1)],1),e("el-row",[e("el-form-item",{attrs:{label:"組織單位"}},[e("div",{staticClass:"three-col"},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.o_p1000_short,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.o_p1000_short,callback:function(e){t.$set(t.dataForm,"o_p1000_short",e)},expression:"dataForm.o_p1000_short"}},t._l(t.optionsSHORT,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.orgeh,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.orgeh,callback:function(e){t.$set(t.dataForm,"orgeh",e)},expression:"dataForm.orgeh"}},t._l(t.optionsORGEH,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{staticStyle:{width:"100%"}},[e("el-input",{attrs:{disabled:t.DisableFlag.o_p1000_stext},model:{value:t.dataForm.o_p1000_stext,callback:function(e){t.$set(t.dataForm,"o_p1000_stext",e)},expression:"dataForm.o_p1000_stext"}})],1)],1)])],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("div",{staticClass:"subDialog-header"},[t._v("職稱/職務/職程/職等")]),e("div",{staticClass:"subDialog-body"},[e("el-row",[e("el-form-item",{attrs:{label:"職稱代碼",prop:"zcobjid"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.zcobjid,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.zcobjid,callback:function(e){t.$set(t.dataForm,"zcobjid",e)},expression:"dataForm.zcobjid"}},t._l(t.optionsZCOBJID,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"職務",prop:"zjobcode1"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.zjobcode1,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.zjobcode1,callback:function(e){t.$set(t.dataForm,"zjobcode1",e)},expression:"dataForm.zjobcode1"}},t._l(t.optionsZJOBCODE1,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"職等",prop:"zgrade1"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.zgrade1,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.zgrade1,callback:function(e){t.$set(t.dataForm,"zgrade1",e)},expression:"dataForm.zgrade1"}},t._l(t.optionsZGRADE1,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"職程",prop:"zjobcode2"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.zjobcode2,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.zjobcode2,callback:function(e){t.$set(t.dataForm,"zjobcode2",e)},expression:"dataForm.zjobcode2"}},t._l(t.optionsZJOBCODE2,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1)],1)]),e("el-col",{attrs:{xs:24,md:12}},[e("div",{staticClass:"subDialog-header"},[t._v("系統/職系/職類")]),e("div",{staticClass:"subDialog-body"},[e("el-row",[e("el-form-item",{attrs:{label:"系統",prop:"zjobcode3"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.zjobcode3,clearable:"",filterable:"",placeholder:"請選擇"},on:{change:t.clearableZJOBCODE3},model:{value:t.dataForm.zjobcode3,callback:function(e){t.$set(t.dataForm,"zjobcode3",e)},expression:"dataForm.zjobcode3"}},t._l(t.optionsZJOBCODE3,(function(a){return e("el-option",{key:a.value,attrs:{label:a.value+" "+a.label,value:a.value},nativeOn:{click:function(e){return t.getZJOBCODE4.apply(null,arguments)}}})})),1)],1),e("el-form-item",{attrs:{label:"職系",prop:"zjobcode4"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:null==t.dataForm.zjobcode3||""===t.dataForm.zjobcode3||t.DisableFlag.zjobcode4,clearable:"",filterable:"",placeholder:"請選擇"},on:{change:t.clearableZJOBCODE4},model:{value:t.dataForm.zjobcode4,callback:function(e){t.$set(t.dataForm,"zjobcode4",e)},expression:"dataForm.zjobcode4"}},t._l(t.optionsZJOBCODE4,(function(a){return e("el-option",{key:a.value,attrs:{label:a.value+" "+a.label,value:a.value},nativeOn:{click:function(e){return t.getZJOBCODE5.apply(null,arguments)}}})})),1)],1),e("el-form-item",{attrs:{label:"職類",prop:"zjobcode5"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:null==t.dataForm.zjobcode3||""===t.dataForm.zjobcode3||null==t.dataForm.zjobcode4||""===t.dataForm.zjobcode4||t.DisableFlag.zjobcode5,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.zjobcode5,callback:function(e){t.$set(t.dataForm,"zjobcode5",e)},expression:"dataForm.zjobcode5"}},t._l(t.optionsZJOBCODE5,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1)],1)])],1),e("div",{staticClass:"subDialog-header"},[t._v("其他")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"法人",prop:"zjuper"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.zjuper,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.zjuper,callback:function(e){t.$set(t.dataForm,"zjuper",e)},expression:"dataForm.zjuper"}},t._l(t.optionsZJUPER,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"廠商/關係企業",prop:"zlbsup"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{disabled:t.DisableFlag.zlbsup,clearable:"",filterable:"",placeholder:"請選擇"},model:{value:t.dataForm.zlbsup,callback:function(e){t.$set(t.dataForm,"zlbsup",e)},expression:"dataForm.zlbsup"}},t._l(t.optionsZLBSUP,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.label,value:t.value}})})),1)],1)],1)],1)],1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"!=t.dialogStatus&&"edit"!=t.dialogStatus&&"copy"!=t.dialogStatus&&t.next?t._e():e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e(),t.next?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("下一步")]):t._e()],1)],1)],1)},s=[],o=(a("e9c4"),a("b0c0"),a("a9e3"),a("d3b7"),a("159b"),a("498a"),a("4de4"),a("7db0"),a("5c96")),l=a("9af8"),n=a("0c47"),r=a("61f7"),c={name:"Pa0001Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},pa0000Body:{type:Object,default:function(){return{}}},next:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{pernr:"13000003",ename:"陳小名",persg:"",t501t_ptext:"",persk:"",t503t_ptext:"",werks:"",t500p_pbtxt:"",kostl:"",hrca_costc_name:"",actions:""},body:{id:"",pernr:"",begda:"",endda:"",aedtm:"",uname:"",active:"",bukrs:"",persa:"",btrtl:"",persg:"",persk:"",vdsk1:"",gsber:"",abkrs:"",ansvh:"",kostl:"",orgeh:null,plans:null,sname:"",ename:"",zgrade1:"",zcobjid:null,zjobcode1:"",zjobcode2:"",zjobcode3:"",zjobcode4:"",zjobcode5:"",zjuper:"",zlbsup:"",csksz_ktext:"",o_p1000_short:"",o_p1000_stext:""}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除",change:"組織指派 複製"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{id:"",pernr:"",begda:new Date,endda:new Date(9999,11,31),aedtm:"",uname:"",active:"",bukrs:"",persa:"",btrtl:"",persg:"",persk:"",vdsk1:"",gsber:"",abkrs:"",ansvh:"",kostl:"",orgeh:null,plans:null,sname:"",ename:"",zgrade1:"",zcobjid:null,zjobcode1:"",zjobcode2:"",zjobcode3:"",zjobcode4:"",zjobcode5:"",zjuper:"",zlbsup:"",csksz_ktext:"",o_p1000_short:"",o_p1000_stext:"",t001p_btrtx:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",t549t_abktx:""},tmpZJOBCODE4:[],tmpZJOBCODE5:[],rules:{begda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],endda:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],btrtl:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],gsber:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],abkrs:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],zjuper:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],zcobjid:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],zgrade1:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},optionsBUKRS:[],optionsBTRTL:[],optionsPERSA:[],optionsGSBER:[],optionsPERSG:[],optionsPERSK:[],optionsABKRS:[],optionsANSVH:[],optionsKOSTL:[],optionsZJUPER:[],optionsZLBSUP:[],optionsZCOBJID:[],optionsZGRADE1:[],optionsZJOBCODE1:[],optionsZJOBCODE2:[],optionsZJOBCODE3:[],optionsZJOBCODE4:[],optionsZJOBCODE5:[],optionsPLANS:[],optionsORGEH:[],optionsSHORT:[],body:{},tmp:{}}},computed:{subDlgVisible:function(){return!0},DisableFlag:function(){var t=["add","edit","copy","change"],e={id:!0,pernr:!0,begda:!0,endda:!0,aedtm:!0,uname:!0,active:!0,bukrs:!0,persa:!0,btrtl:!0,persg:!0,persk:!0,vdsk1:!0,gsber:!0,abkrs:!0,ansvh:!0,kostl:!0,orgeh:!0,plans:!0,sname:!0,ename:!0,zgrade1:!0,zcobjid:!0,zjobcode1:!0,zjobcode2:!0,zjobcode3:!0,zjobcode4:!0,zjobcode5:!0,zjuper:!0,zlbsup:!0,csksz_ktext:!0,o_p1000_short:!0,o_p1000_stext:!0,t880_name1:!0,t500p_pbtxt:!0,t001p_btrtx:!0,tgsb_gtext:!0,t501t_ptext:!0,t503t_ptext:!0,t513s_stltx:!0,t549t_abktx:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.begda=!1,e.endda=!1,e.btrtl=!1,e.gsber=!1,e.abkrs=!1,e.ansvh=!1,e.zjuper=!1,e.zlbsup=!1,e.zcobjid=!1,e.zjobcode1=!1,e.zjobcode2=!1,e.zgrade1=!1,e.zjobcode3=!1,e.zjobcode4=!1,e.zjobcode5=!1,3===a&&(e.begda=!0,e.endda=!0)),e},computedVDSK1:function(){return this.dataForm.gsber+this.dataForm.persa+this.dataForm.btrtl}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&(this.getZHRTOM006(),this.getZGRADE1(),this.getT513S(),this.getZHR_LBSUPPLIER(),this.getZHRTOM007(),this.getT549T(),this.getT503T(),this.getT501T(),this.getTGSB(),this.getT500P(),this.getT880(),this.getT001P(),this.getCSKSZ(),this.getT542A())}},"dataForm.ENDDA":{handler:function(t){this.getZHRTOM006(),this.getZGRADE1(),this.getT513S(),this.getZHR_LBSUPPLIER(),this.getZHRTOM007(),this.getT549T(),this.getT503T(),this.getT501T(),this.getTGSB(),this.getT500P(),this.getT880(),this.getT001P(),this.getCSKSZ(),this.getT542A()}},dialogVisible:{immediate:!0,handler:function(t){if(!0===t){var e=["view","edit","copy","delete","change"],a=e.indexOf(this.dialogStatus);if(a>-1&&a<4){var i=JSON.stringify(this.parentObj.body);console.log("PA0001 View Body: "+i),this.dataForm=JSON.parse(i),this.dataForm.zcobjid=String(this.dataForm.zcobjid),this.dataForm.begda=""===this.parentObj.title.actions?this.parentObj.body.begda:this.parentObj.title.begda,this.dataForm.plans="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.plans:this.parentObj.body.begda,this.dataForm.persa="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.persa:this.parentObj.body.begda,this.dataForm.persg="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.persg:this.parentObj.body.begda,this.dataForm.persk="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.persk:this.parentObj.body.begda}else if(4===a){var s=JSON.stringify(this.parentObj.body);console.log("PA0001 View Body: "+s),this.dataForm=JSON.parse(s),this.dataForm.zcobjid=String(this.dataForm.zcobjid),this.dataForm.begda=""===this.parentObj.title.actions?this.parentObj.body.begda:this.parentObj.title.begda,this.dataForm.plans="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.plans:this.parentObj.body.begda,this.dataForm.persa="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.persa:this.parentObj.body.begda,this.dataForm.persg="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.persg:this.parentObj.body.begda,this.dataForm.persk="3"===this.parentObj.title.actions||"4"===this.parentObj.title.actions?this.pa0000Body.persk:this.parentObj.body.begda,this.getZHRTOM006(),this.getZGRADE1(),this.getT513S(),this.getZHR_LBSUPPLIER(),this.getZHRTOM007(),this.getT549T(),this.getT503T(),this.getT501T(),this.getTGSB(),this.getT500P(),this.getT880(),this.getT001P(),this.getCSKSZ(),this.getT542A()}else this.dataForm.bukrs="A001",this.dataForm.pernr=this.parentObj.title.pernr,this.dataForm.aedtm=Object(n["c"])(new Date),this.dataForm.uname=this.$store.getters.name,this.dataForm.active="1",this.getZHRTOM006(),this.getZGRADE1(),this.getT513S(),this.getZHR_LBSUPPLIER(),this.getZHRTOM007(),this.getT549T(),this.getT503T(),this.getT501T(),this.getTGSB(),this.getT500P(),this.getT880(),this.getT001P(),this.getCSKSZ(),this.getT542A()}},deep:!0},computedVDSK1:{handler:function(t,e){"view"!==this.dialogStatus&&(this.dataForm.vdsk1=t)}}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(r["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e)if(new Date(this.dataForm.begda).getTime()-86399999>new Date(this.dataForm.endda).getTime())Object(o["Message"])({message:"結束時間不能小於開始時間",type:"error",duration:3e3});else{if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.id,a.uname=this.$store.getters.name,a.aedtm=Object(n["c"])(new Date),Object(l["d"])("0001",this.dataForm.id,a).then((function(t){console.log("PA0001 Delete Body: "+JSON.stringify(a)),console.log("PA0001 Delete Reply: "+JSON.stringify(t));var e=t.success;void 0!==e&&!0===e?Object(o["Message"])({message:"資料刪除成功",type:"success",duration:3e3}):Object(o["Message"])({message:t.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})),void this.closeDialog()}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.id,a.pernr=t.dataForm.pernr,a.begda=Object(n["c"])(new Date(t.dataForm.begda)),a.endda=Object(n["c"])(new Date(t.dataForm.endda)),a.aedtm=Object(n["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.active,a.bukrs=t.dataForm.bukrs,a.persa=t.dataForm.persa,a.btrtl=t.dataForm.btrtl,a.persg=t.dataForm.persg,a.persk=t.dataForm.persk,a.vdsk1=t.dataForm.vdsk1,a.gsber=t.dataForm.gsber,a.abkrs=t.dataForm.abkrs,a.ansvh=t.dataForm.ansvh,a.kostl=t.dataForm.kostl,a.orgeh=t.dataForm.orgeh,a.plans=t.dataForm.plans,a.sname=t.dataForm.sname,a.ename=t.dataForm.ename,a.zgrade1=t.dataForm.zgrade1,a.zcobjid=Number(t.dataForm.zcobjid),a.zjobcode1=t.dataForm.zjobcode1,a.zjobcode2=t.dataForm.zjobcode2,a.zjobcode3=t.dataForm.zjobcode3,a.zjobcode4=t.dataForm.zjobcode4,a.zjobcode5=t.dataForm.zjobcode5,a.zjuper=t.dataForm.zjuper,a.zlbsup=t.dataForm.zlbsup,console.log("add or update body: -> "+JSON.stringify(a)),"add"===t.dialogStatus||"copy"===t.dialogStatus?Object(l["c"])("0001",a).then((function(e){console.log("PA0001 Edit Body: "+JSON.stringify(a)),console.log("PA0001 Edit Reply: "+JSON.stringify(e));var i=e.success;void 0!==i&&!0===i?(Object(o["Message"])({message:"新增成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(o["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):"edit"===t.dialogStatus?Object(l["p"])("0001",a).then((function(e){console.log("PA0001 Add Body: "+JSON.stringify(a)),console.log("PA0001 Add Reply: "+JSON.stringify(e));var i=e.success;void 0!==i&&!0===i?(Object(o["Message"])({message:"更新成功",type:"success",duration:3e3}),t.$emit("close"),t.resetForm()):Object(o["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):(t.body=a,t.$emit("pa0001",t.body),t.$refs["dataForm"].clearValidate(),t.resetForm())}}))}else Object(o["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={id:"",pernr:"",begda:new Date,endda:new Date(9999,11,31),aedtm:"",uname:"",active:"",bukrs:"",persa:"",btrtl:"",persg:"",persk:"",vdsk1:"",gsber:"",abkrs:"",ansvh:"",kostl:"",orgeh:null,plans:null,sname:"",ename:"",zgrade1:"",zcobjid:null,zjobcode1:"",zjobcode2:"",zjobcode3:"",zjobcode4:"",zjobcode5:"",zjuper:"",zlbsup:"",csksz_ktext:"",o_p1000_short:"",o_p1000_stext:"",t001p_btrtx:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",t549t_abktx:""}},getT542A:function(){var t=this;Object(l["i"])("T542A").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.ansvh),a.label="".concat(e.atx),t.optionsANSVH.push(a)}))})).catch((function(t){console.log(t)}))},getCSKSZ:function(){var t=this;Object(l["g"])().then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.kostl),a.label="".concat(e.ktext),t.optionsKOSTL.push(a)}))})).catch((function(t){console.log(t)}))},getT001P:function(){var t=this;Object(l["h"])("T001P","Persa",this.dataForm.persa.trim()).then((function(e){if(200===e.status){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.btrtl),a.label="".concat(e.btrtx),t.optionsBTRTL.push(a)}))}})).catch((function(t){console.log(t)}))},getT880:function(){var t=this;Object(l["i"])("T880").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.rcomp),a.label="".concat(e.name1),t.optionsBUKRS.push(a)}))})).catch((function(t){console.log(t)}))},getT500P:function(){var t=this;Object(l["i"])("T500P").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.persa),a.label="".concat(e.pbtxt),t.optionsPERSA.push(a)}))})).catch((function(t){console.log(t)}))},getTGSB:function(){var t=this;Object(l["i"])("TGSB").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.gsber),a.label="".concat(e.gtext),t.optionsGSBER.push(a)}))})).catch((function(t){console.log(t)}))},getT501T:function(){var t=this;Object(l["i"])("T501T").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.persg),a.label="".concat(e.ptext),t.optionsPERSG.push(a)}))})).catch((function(t){console.log(t)}))},getT503T:function(){var t=this;Object(l["i"])("T503T").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.persk),a.label="".concat(e.ptext),t.optionsPERSK.push(a)}))})).catch((function(t){console.log(t)}))},getT549T:function(){var t=this;Object(l["i"])("T549T").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.abkrs),a.label="".concat(e.abktx),t.optionsABKRS.push(a)}))})).catch((function(t){console.log(t)}))},getZHRTOM007:function(){var t=this;Object(l["i"])("ZHRTOM007").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.zjuper),a.label="".concat(e.stext),t.optionsZJUPER.push(a)}))})).catch((function(t){console.log(t)}))},getZHR_LBSUPPLIER:function(){var t=this;Object(l["i"])("ZHR_LBSUPPLIER").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.zlbsup),a.label="".concat(e.ztext),t.optionsZLBSUP.push(a)}))})).catch((function(t){console.log(t)}))},getT513S:function(){var t=this;Object(l["i"])("T513S").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:null,label:""};a.value=e.stell,a.label="".concat(e.stltx),t.optionsZCOBJID.push(a)}))})).catch((function(t){console.log(t)}))},getZGRADE1:function(){var t=this;Object(l["h"])("ZHR_VALUERANGE","domname","ZGRADE1").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a={value:"",label:""};a.value="".concat(e.domvalue),a.label="".concat(e.ddtext),t.optionsZGRADE1.push(a)}))})).catch((function(t){console.log(t)}))},clearableZJOBCODE3:function(){""===this.dataForm.zjobcode3&&(this.dataForm.zjobcode4="",this.dataForm.zjobcode5="")},clearableZJOBCODE4:function(){""===this.dataForm.zjobcode4&&(this.dataForm.zjobcode5="")},getZJOBCODE4:function(){var t=this.dataForm.zjobcode3;this.dataForm.zjobcode4="",this.dataForm.zjobcode5="",this.optionsZJOBCODE4=Object.assign([],this.tmpZJOBCODE4),this.optionsZJOBCODE4=this.optionsZJOBCODE4.filter((function(e){return e.value.substr(0,1)===t.substr(0,1)}))},getZJOBCODE5:function(){var t=this.dataForm.zjobcode4;this.dataForm.zjobcode5="",this.optionsZJOBCODE5=Object.assign([],this.tmpZJOBCODE5),this.optionsZJOBCODE5=this.optionsZJOBCODE5.filter((function(e){return e.value.substr(0,3)===t.substr(0,3)}))},getZHRTOM006:function(){var t=this;Object(l["i"])("ZHRTOM006").then((function(e){var a=e.data;a.length>0&&a.forEach((function(e){var a=e.short.trim(),i={value:a,label:"".concat(e.stext)};switch(e.dtype){case"01":var s=t.optionsZJOBCODE1.find((function(t){return t.value===i.value}));s||t.optionsZJOBCODE1.push(i);break;case"02":var o=t.optionsZJOBCODE2.find((function(t){return t.value===i.value}));o||t.optionsZJOBCODE2.push(i);break;case"03":var l=t.optionsZJOBCODE3.find((function(t){return t.value===i.value}));l||t.optionsZJOBCODE3.push(i);break;case"04":var n=t.optionsZJOBCODE4.find((function(t){return t.value===i.value}));n||(t.optionsZJOBCODE4.push(i),t.tmpZJOBCODE4=Object.assign([],t.optionsZJOBCODE4));break;case"05":var r=t.optionsZJOBCODE5.find((function(t){return t.value===i.value}));r||(t.optionsZJOBCODE5.push(i),t.tmpZJOBCODE5=Object.assign([],t.optionsZJOBCODE5));break;default:break}}))})).catch((function(t){console.log(t)}))}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,s,!1,null,"3b2c631c",null);e["a"]=p.exports},f9a1:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),o=a("21a1"),l=a.n(o),n=new s.a({id:"icon-pdf",use:"icon-pdf-usage",viewBox:"0 0 1024 1024",content:'<symbol viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-pdf"><path d="M869.073 277.307H657.111V65.344l211.962 211.963zm-238.232 26.27V65.344l-476.498-.054v416.957h714.73v-178.67H630.841zm-335.836 360.57c-5.07-3.064-10.944-5.133-17.61-6.201-6.67-1.064-13.603-1.6-20.81-1.6h-48.821v85.641h48.822c7.206 0 14.14-.532 20.81-1.6 6.665-1.065 12.54-3.133 17.609-6.202 5.064-3.063 9.134-7.406 12.208-13.007 3.065-5.602 4.6-12.937 4.6-22.011 0-9.07-1.535-16.408-4.6-22.01-3.074-5.603-7.144-9.94-12.208-13.01zM35.82 541.805v416.904h952.358V541.805H35.821zm331.421 191.179c-3.6 11.071-9.343 20.879-17.209 29.413-7.874 8.542-18.078 15.408-30.617 20.61-12.544 5.206-27.747 7.807-45.621 7.807h-66.036v102.45h-62.831V607.517h128.867c17.874 0 33.077 2.6 45.62 7.802 12.541 5.207 22.745 12.076 30.618 20.615 7.866 8.538 13.604 18.277 17.21 29.212 3.6 10.943 5.401 22.278 5.401 34.018 0 11.477-1.8 22.752-5.402 33.819zM644.9 806.417c-5.343 17.61-13.408 32.818-24.212 45.627-10.807 12.803-24.283 22.879-40.423 30.213-16.146 7.343-35.155 11.007-57.03 11.007h-123.26V607.518h123.26c18.41 0 35.552 2.941 51.428 8.808 15.873 5.869 29.618 14.671 41.22 26.412 11.608 11.744 20.674 26.411 27.217 44.02 6.535 17.61 9.803 38.288 9.803 62.035 0 20.81-2.67 40.02-8.003 57.624zm245.362-146.07h-138.07v66.03h119.66v48.829h-119.66v118.058h-62.83V607.518h200.9v52.829h-.001zm-318.2 25.611c-6.402-8.266-14.877-14.604-25.412-19.01-10.544-4.402-23.551-6.602-39.019-6.602h-44.825v180.088h56.029c9.07 0 17.872-1.463 26.415-4.401 8.535-2.932 16.14-7.802 22.812-14.609 6.665-6.8 12.007-15.667 16.007-26.61 4.003-10.94 6.003-24.275 6.003-40.021 0-14.408-1.4-27.416-4.202-39.019-2.8-11.607-7.406-21.542-13.808-29.816zm0 0" /></symbol>'});l.a.add(n);e["default"]=n},f9ce:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogVisible,"before-close":t.closeDialog,"close-on-click-modal":!1,width:"950px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.dataForm,"label-position":"left","label-width":"110px"}},[e("div",{staticClass:"dialog"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"開始日期",prop:"BEGDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",format:"yyyy-MM-dd",placeholder:"1800-1-1","picker-options":t.pickerOptions,disabled:t.DisableFlag.BEGDA},model:{value:t.dataForm.BEGDA,callback:function(e){t.$set(t.dataForm,"BEGDA",e)},expression:"dataForm.BEGDA"}})],1),e("el-form-item",{attrs:{label:"結束日期",prop:"ENDDA"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"9999-12-31",disabled:t.DisableFlag.ENDDA},model:{value:t.dataForm.ENDDA,callback:function(e){t.$set(t.dataForm,"ENDDA",e)},expression:"dataForm.ENDDA"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"更改日期",prop:"AEDTM"}},[e("el-input",{attrs:{name:"AEDTM",disabled:t.DisableFlag.AEDTM},model:{value:t.dataForm.AEDTM,callback:function(e){t.$set(t.dataForm,"AEDTM",e)},expression:"dataForm.AEDTM"}})],1),e("el-form-item",{attrs:{label:"更改者",prop:"UNAME"}},[e("el-input",{attrs:{name:"UNAME",disabled:t.DisableFlag.UNAME},model:{value:t.dataForm.UNAME,callback:function(e){t.$set(t.dataForm,"UNAME",e)},expression:"dataForm.UNAME"}})],1)],1)],1),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("計畫工作時間")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{staticStyle:{"margin-right":"10px",width:"100%"},attrs:{label:"工作排程規則",prop:"SCHKZ"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.SCHKZ,clearable:"",filterable:""},on:{change:t.selectSCHKZ},model:{value:t.dataForm.SCHKZ,callback:function(e){t.$set(t.dataForm,"SCHKZ",e)},expression:"dataForm.SCHKZ"}},t._l(t.schkzOptions,(function(t,a){return e("el-option",{key:a,attrs:{label:t.schkz+" "+t.rtext,value:t.schkz}})})),1)],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"時間管理狀態",prop:"ZTERF"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"請選擇",disabled:t.DisableFlag.ZTERF,clearable:"",filterable:""},model:{value:t.dataForm.ZTERF,callback:function(e){t.$set(t.dataForm,"ZTERF",e)},expression:"dataForm.ZTERF"}},t._l(t.zterfOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value+" "+t.zterf,value:t.value}})})),1)],1)],1)],1)],1)]),e("div",[e("div",{staticClass:"subDialog-header"},[t._v("工作時間")]),e("div",{staticClass:"subDialog-body"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"雇用百分比",prop:"EMPCT"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"EMPCT",disabled:t.DisableFlag.EMPCT,precision:2,step:.01,max:100},model:{value:t.dataForm.EMPCT,callback:function(e){t.$set(t.dataForm,"EMPCT",e)},expression:"dataForm.EMPCT"}})],1),e("el-form-item",{attrs:{label:"每日工作時數",prop:"ARBST"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"ARBST",disabled:t.DisableFlag.ARBST,precision:2,step:.01},model:{value:t.dataForm.ARBST,callback:function(e){t.$set(t.dataForm,"ARBST",e)},expression:"dataForm.ARBST"}})],1),e("el-form-item",{attrs:{label:"每週工作時數",prop:"WOSTD"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"WOSTD",disabled:t.DisableFlag.WOSTD,precision:2,step:.01},model:{value:t.dataForm.WOSTD,callback:function(e){t.$set(t.dataForm,"WOSTD",e)},expression:"dataForm.WOSTD"}})],1)],1),e("el-col",{attrs:{xs:24,md:12}},[e("el-form-item",{attrs:{label:"每月工時",prop:"MOSTD"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"MOSTD",disabled:t.DisableFlag.MOSTD,precision:2,step:.01},model:{value:t.dataForm.MOSTD,callback:function(e){t.$set(t.dataForm,"MOSTD",e)},expression:"dataForm.MOSTD"}})],1),e("el-form-item",{attrs:{label:"年度工時",prop:"JRSTD"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"JRSTD",disabled:t.DisableFlag.JRSTD,precision:2,step:.01},model:{value:t.dataForm.JRSTD,callback:function(e){t.$set(t.dataForm,"JRSTD",e)},expression:"dataForm.JRSTD"}})],1),e("el-form-item",{attrs:{label:"每週工作天數",prop:"WKWDY"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{name:"WKWDY",disabled:t.DisableFlag.WKWDY,precision:2,step:.01},model:{value:t.dataForm.WKWDY,callback:function(e){t.$set(t.dataForm,"WKWDY",e)},expression:"dataForm.WKWDY"}})],1)],1)],1)],1)])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.dialogStatus||"edit"==t.dialogStatus||"copy"==t.dialogStatus||"change"==t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("儲 存")]):t._e(),"delete"===t.dialogStatus?e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("刪 除")]):t._e()],1)],1)],1)},s=[],o=(a("e9c4"),a("b0c0"),a("5c96")),l=a("9af8"),n=a("0c47"),r=a("61f7"),c={name:"Pa0007Detail",props:{dialogStatus:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},parentObj:{type:Object,default:function(t){return{title:{begda:"",ename:"",endda:"",hrca_costc_name:"",infty:"",kostl:"",pernr:"",persa:"",persg:"",persk:"",subty:"",t500p_pbtxt:"",t501t_ptext:"",t503t_ptext:"",o_p1000_short:"",o_p1000_stext:""},body:{id:"",pernr:"",begda:"",endda:"",aedtm:"",uname:"",active:"",infty:"",subty:"",schkz:"",zterf:"",empct:null,arbst:null,wostd:null,mostd:null,jrstd:null,wkwdy:null}}}}},data:function(){return{textMap:{add:"新增",edit:"編輯",view:"檢視",copy:"複製",delete:"刪除",change:"計畫工作時間 新增"},pickerOptions:{disabledDate:function(t){return!1},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataForm:{DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",SCHKZ:"",RTEXT:"",ZTERF:"",EMPCT:100,ARBST:null,WOSTD:null,MOSTD:null,JRSTD:null,WKWDY:null},rules:{BEGDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ENDDA:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],ZTERF:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}],EMPCT:[{required:!0,message:"此欄為必填欄位",trigger:"blur"}]},schkzOptions:[],zterfOptions:[{value:"0",zterf:"沒有時間評估"},{value:"1",zterf:"時間評估實際次數"},{value:"2",zterf:"PDC時間評估"},{value:"7",zterf:"時間評估沒有薪資整合"},{value:"8",zterf:"外部服務"},{value:"9",zterf:"計劃時間之時間評估"}],T508ASchkz:[]}},computed:{DisableFlag:function(){var t=["add","edit","copy","change"],e={BEGDA:!0,ENDDA:!0,AEDTM:!0,UNAME:!0,SCHKZ:!0,RTEXT:!0,ZTERF:!0,EMPCT:!0,ARBST:!0,WOSTD:!0,MOSTD:!0,JRSTD:!0,WKWDY:!0},a=t.indexOf(this.dialogStatus);return a>-1&&(e.SCHKZ=!1,e.ZTERF=!1,e.EMPCT=!1,0!==a&&2!==a||(e.BEGDA=!1,e.ENDDA=!1)),e}},watch:{"dataForm.BEGDA":{handler:function(t){!1===this.dataForm.DIALOG_INIT&&this.getT508A()}},"dataForm.ENDDA":{handler:function(t){this.getT508A()}},dialogVisible:{immediate:!0,handler:function(t,e){if(!0===t){console.log("dialogStatus:"+this.dialogStatus),console.log("watch: parentObj value-> "+JSON.stringify(this.parentObj));var a=["view","edit","copy","delete","change"],i=a.indexOf(this.dialogStatus);this.dataForm.DIALOG_INIT=!0,i>-1&&i<4?(this.dataForm.ID=this.parentObj.body.id,this.dataForm.PERNR=this.parentObj.body.pernr,this.dataForm.BEGDA=this.parentObj.body.begda,this.dataForm.ENDDA=this.parentObj.body.endda,this.dataForm.AEDTM=this.parentObj.body.aedtm,this.dataForm.UNAME=this.parentObj.body.uname,this.dataForm.ACTIVE=this.parentObj.body.active,this.dataForm.INFTY=this.parentObj.body.infty,this.dataForm.SUBTY=this.parentObj.body.subty,this.dataForm.SCHKZ=this.parentObj.body.schkz,this.dataForm.ZTERF=this.parentObj.body.zterf,this.dataForm.EMPCT=this.parentObj.body.empct,this.dataForm.ARBST=this.parentObj.body.arbst,this.dataForm.WOSTD=this.parentObj.body.wostd,this.dataForm.MOSTD=this.parentObj.body.mostd,this.dataForm.JRSTD=this.parentObj.body.jrstd,this.dataForm.WKWDY=this.parentObj.body.wkwdy):4===i?(this.dataForm.BEGDA=""===this.parentObj.title.actions?this.parentObj.body.begda:this.parentObj.title.begda,this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0007",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(n["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getT508A()):(this.dataForm.PERNR=this.parentObj.title.pernr,this.dataForm.INFTY="0007",this.dataForm.ACTIVE="1",this.dataForm.AEDTM=Object(n["c"])(new Date),this.dataForm.UNAME=this.$store.getters.name,console.log("watch: add value-> "+this.dataForm.INFTY),this.getT508A())}},deep:!0}},methods:{submitDialog:function(){var t=this;if("view"!==this.dialogStatus){var e=Object(r["a"])(this.dataForm.BEGDA,this.dataForm.ENDDA);if(null==e){if("delete"===this.dialogStatus){var a={};return a.id=this.dataForm.ID,a.uname=this.$store.getters.name,a.aedtm=Object(n["c"])(new Date),void Object(l["d"])(this.dataForm.INFTY,this.dataForm.ID,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(o["Message"])({message:"資料刪除成功",type:"success",duration:3e3}),t.closeDialog()):(console.log("deleteObjInfo Reply is null or false"),Object(o["Message"])({message:e.message,type:"error",duration:3e3}))})).catch((function(t){console.log(t)}))}this.$refs["dataForm"].validate((function(e){if(e){var a={};a.id="edit"!==t.dialogStatus?"":t.dataForm.ID,a.pernr=t.dataForm.PERNR,a.begda=Object(n["c"])(new Date(t.dataForm.BEGDA)),a.endda=Object(n["c"])(new Date(t.dataForm.ENDDA)),a.aedtm=Object(n["c"])(new Date),a.uname=t.$store.getters.name,a.active="add"===t.dialogStatus?"1":t.dataForm.ACTIVE,a.infty=t.dataForm.INFTY,a.subty="add"===t.dialogStatus?t.dataForm.USRTY:t.dataForm.SUBTY,a.schkz=t.dataForm.SCHKZ,a.rtext=t.dataForm.RTEXT,a.zterf=parseInt(t.dataForm.ZTERF),a.empct=t.dataForm.EMPCT,a.arbst=t.dataForm.ARBST,a.wostd=t.dataForm.WOSTD,a.mostd=t.dataForm.MOSTD,a.jrstd=t.dataForm.JRSTD,a.wkwdy=t.dataForm.WKWDY,console.log("add or update body: -> "+JSON.stringify(a)),"add"===t.dialogStatus||"copy"===t.dialogStatus?Object(l["c"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(o["Message"])({message:"新增成功",type:"success",duration:3e3}),t.closeDialog()):Object(o["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):"edit"===t.dialogStatus?Object(l["p"])(t.dataForm.INFTY,a).then((function(e){var a=e.success;void 0!==a&&!0===a?(Object(o["Message"])({message:"更新成功",type:"success",duration:3e3}),t.closeDialog()):Object(o["Message"])({message:e.message,type:"error",duration:3e3})})).catch((function(t){console.log(t)})):(t.body=a,t.$emit("pa0007",t.body),t.$refs["dataForm"].clearValidate(),t.resetForm())}}))}else Object(o["Message"])(e)}else this.closeDialog()},closeDialog:function(){this.$emit("close"),this.$refs["dataForm"].clearValidate(),this.resetForm()},resetForm:function(){this.dataForm={DIALOG_INIT:!0,ID:"",PERNR:"",BEGDA:new Date,ENDDA:new Date(9999,11,31),AEDTM:"",UNAME:"",ACTIVE:"",INFTY:"",SUBTY:"",SCHKZ:"",RTEXT:"",ZTERF:"",EMPCT:100,ARBST:null,WOSTD:null,MOSTD:null,JRSTD:null,WKWDY:null}},getT508A:function(){var t=this;!0===this.dataForm.DIALOG_INIT&&(this.dataForm.DIALOG_INIT=!1);var e=!1;(Object(n["a"])(this.dataForm.BEGDA)||Object(n["a"])(this.dataForm.ENDDA))&&(this.schkzOptions=[],e=!0),!1===this.dialogVisible||e||"view"===this.dialogStatus||"delete"===this.dialogStatus||Object(l["m"])(this.dataForm.PERNR,"1800-1-1","9999-12-31").then((function(e){t.schkzOptions=e.data,console.log("response.data",e.data),200===e.status||Object(o["Message"])({message:"取得工作排程規則失敗",type:"error",duration:3e3})})).catch((function(t){console.log(t)}))},selectSCHKZ:function(t){this.dataForm.ARBST=""===t?"":this.dataForm.ARBST=this.schkzOptions[0].tgstd,this.dataForm.WOSTD=""===t?"":this.dataForm.WOSTD=this.schkzOptions[0].wostd,this.dataForm.MOSTD=""===t?"":this.dataForm.MOSTD=this.schkzOptions[0].m1std,this.dataForm.JRSTD=""===t?"":this.dataForm.JRSTD=this.schkzOptions[0].jrstd,this.dataForm.WKWDY=""===t?"":this.dataForm.WKWDY=this.schkzOptions[0].wkwdy}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,s,!1,null,"aa34d2c4",null);e["a"]=p.exports},fc1d:function(t,e,a){},fc5ef:function(t,e,a){"use strict";a("07a1")},fe01:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"card card-1280"},[e("div",[e("p",{staticClass:"page-title"},[t._v("一般異動")])]),e("el-form",[e("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("批次上傳檔案 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 適用300筆以下資料 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"search-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-input",{key:"fileName",ref:"fileName",staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"批次雇用人員檔案"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1)],1)]),e("div",{staticClass:"employBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("a",{attrs:{href:"@/../download/batch/common_change_sample.xlsx",download:""}},[e("el-button",{attrs:{type:"info",icon:"el-icon-download",size:"small"}},[e("span",{staticClass:"addBtn"},[t._v("範本")])])],1)])],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("upload-excel-component",{ref:"uploadExcelComponent",attrs:{"on-success":t.handleSuccess,"before-upload":t.beforeUpload},on:{fileName:t.getFileName}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.excelTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.excelSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])],2),e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"title-before"}),e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v("Interface執行 "),e("span",{staticStyle:{color:"#909399","font-size":"14px"}},[t._v("( 台灣端招募系統適用 )")])])]),e("el-form",[e("div",{staticClass:"employ-bg"},[e("div",{staticClass:"dpmChange-bar"},[e("div",{staticClass:"employ-bar"},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用開始日期",format:"yyyy-MM-dd"},model:{value:t.interFace.begda,callback:function(e){t.$set(t.interFace,"begda",e)},expression:"interFace.begda"}})],1)],1),e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticClass:"spaceBetween"},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"雇用結束日期",format:"yyyy-MM-dd"},model:{value:t.interFace.endda,callback:function(e){t.$set(t.interFace,"endda",e)},expression:"interFace.endda"}})],1)],1)]),e("div",{staticClass:"employ-bar1"},[e("div",{staticStyle:{display:"flex",width:"100%"}},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-input",{key:"pernr",ref:"pernr",attrs:{maxlength:"8","show-word-limit":"",placeholder:"員工工號"},model:{value:t.interFace.pernr,callback:function(e){t.$set(t.interFace,"pernr",e)},expression:"interFace.pernr"}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.dataChoice("pernr")}}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("1db5")}})])],1)],1)]),e("div",{staticClass:"dpmChange"},[e("div",{staticClass:"dpmChange-item"},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-input",{key:"u_site",ref:"u_site",attrs:{maxlength:"5","show-word-limit":"",placeholder:"資料來源廠區"},model:{value:t.interFace.u_site,callback:function(e){t.$set(t.interFace,"u_site",e)},expression:"interFace.u_site"}})],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.dataChoice("u_site")}}},[e("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("1db5")}})])],1)],1)])]),e("div",{staticClass:"dtChangeBtn"},[e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.interfaceTest}},[e("span",{staticClass:"addBtn"},[t._v("測試")])])],1)],1),e("div",{staticStyle:{"margin-top":"-20px"}},[e("el-form-item",[e("el-button",{attrs:{type:"warning",icon:"el-icon-s-promotion",size:"small"},on:{click:t.interfaceSubmit}},[e("span",{staticClass:"addBtn"},[t._v("送出")])])],1)],1)])])])])],2)],1)],1)],1),e("format-msg-list",{attrs:{"result-data":t.resultData,"from-database":t.fromDatabase,"column-length":t.columnLength}}),t.dialogVisible?e("multiple-choice",{ref:"multipleChoice",attrs:{"dialog-status":t.dialogStatus,"dialog-visible":t.dialogVisible},on:{close:t.closeDialog,submit:t.submitDialog}}):t._e()],1)},s=[],o=(a("d81d"),a("b64b"),a("caad"),a("2ca0"),a("5c96")),l=a("0c47"),n=a("3796"),r=a("9af8"),c=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticStyle:{"margin-top":"20px"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-weight":"600"}},[t._v("處理結果")])]),e("div",{staticClass:"card card-1280"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resultData,"span-method":t.spanFunc,"header-cell-style":{background:"#EDEFF3"},border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"p0000_pernr",label:"員工工號"}}),e("el-table-column",{attrs:{prop:"p0000_begda",label:"生效日期"}}),e("el-table-column",{attrs:{prop:"pspar_plans",label:"員工職位物件ID"}}),e("el-table-column",{attrs:{prop:"massgz7",label:"職系異動原因"}}),e("el-table-column",{attrs:{prop:"p0001_orgeh_o",label:"異動前部門物件ID"}}),e("el-table-column",{attrs:{prop:"p0001_orgeh_n",label:"異動後部門物件ID"}}),e("el-table-column",{attrs:{prop:"massgzd",label:"職稱異動原因"}}),e("el-table-column",{attrs:{prop:"p0001_zcobjid_o",label:"異動前職稱物件ID"}}),e("el-table-column",{attrs:{prop:"p0001_zcobjid_n",label:"異動後職稱物件ID"}}),e("el-table-column",{attrs:{prop:"massgzc",label:"職系異動原因"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode3_o",label:"異動前系統"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode3_n",label:"異動後系統"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode4_o",label:"異動前職系"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode4_n",label:"異動後職系"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode5_o",label:"異動前職類"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode5_n",label:"異動後職類"}}),e("el-table-column",{attrs:{prop:"massgzg",label:"員工身份異動原因"}}),e("el-table-column",{attrs:{prop:"p0001_persg_o",label:"異動前EG"}}),e("el-table-column",{attrs:{prop:"p0001_persg_n",label:"異動後EG"}}),e("el-table-column",{attrs:{prop:"p0001_persk_o",label:"異動前ESG"}}),e("el-table-column",{attrs:{prop:"p0001_persk_n",label:"異動後ESG"}}),e("el-table-column",{attrs:{prop:"massgz6",label:"職等異動原因"}}),e("el-table-column",{attrs:{prop:"p0001_zgrade1_o",label:"異動前職等"}}),e("el-table-column",{attrs:{prop:"p0001_zgrade1_n",label:"異動後職等"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode1_o",label:"異動前職務"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode1_n",label:"異動後職務"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode2_o",label:"異動前職程"}}),e("el-table-column",{attrs:{prop:"p0001_zjobcode2_n",label:"異動後職程"}}),e("el-table-column",{attrs:{prop:"massgzf",label:"薪資範圍異動原因"}}),e("el-table-column",{attrs:{prop:"p0001_abkrs_o",label:"異動前薪資範圍"}}),e("el-table-column",{attrs:{prop:"p0001_abkrs_n",label:"異動後薪資範圍"}}),e("el-table-column",{attrs:{prop:"process_name",label:"處理程序"}}),e("el-table-column",{attrs:{prop:"message",label:"處理訊息"}}),t.fromDatabase?e("el-table-column",{attrs:{prop:"process_status",label:"處理狀態"}}):t._e()],1)],1)])],1)},d=[],u=(a("a9e3"),{name:"PACommonChangeFormatMsgList",props:{resultData:{type:Array,default:function(){return[]}},columnLength:{type:Number,default:31},fromDatabase:{type:Boolean,default:!1}},methods:{spanFunc:function(t){var e=t.row,a=t.columnIndex;if(a<this.columnLength){var i=e.rowspan;return void 0!==i?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}}}}}),p=u,m=a("2877"),b=Object(m["a"])(p,c,d,!1,null,null,null),h=b.exports,f=a("1563"),g=1048576,D={name:"PACommonChange",components:{UploadExcelComponent:n["a"],FormatMsgList:h,MultipleChoice:f["a"]},data:function(){return{interFace:{begda:"1800-01-01",endda:new Date,pernr:"",u_site:""},activeNames:["1"],fileName:"",columnLength:31,tableData:[],data:{},fromDatabase:!1,dataTemplate:{userInfo:[{colDesc:"員工工號",colName:"pernr",apiColName:"p0000_pernr"},{colDesc:"生效日期",colName:"begda",apiColName:"p0000_begda"},{colDesc:"員工職位物件ID",colName:"plans",apiColName:"pspar_plans"}],massgz7Template:[{colDesc:"部門異動原因",colName:"massgz7",apiColName:"massgz7"},{colDesc:"異動前部門物件ID",colName:"ostell",apiColName:"p0001_orgeh_o"},{colDesc:"異動後部門物件ID",colName:"nstell",apiColName:"p0001_orgeh_n"}],massgzdTemplate:[{colDesc:"職稱異動原因",colName:"massgzd",apiColName:"massgzd"},{colDesc:"異動前職稱物件ID",colName:"oobjid",apiColName:"p0001_zcobjid_o"},{colDesc:"異動後職稱物件ID",colName:"nobjid",apiColName:"p0001_zcobjid_n"}],massgzcTemplate:[{colDesc:"系統/職系/職類異動原因",colName:"massgzc",apiColName:"massgzc"},{colDesc:"異動前系統",colName:"ojobcode3",apiColName:"p0001_zjobcode3_o"},{colDesc:"異動後系統",colName:"njobcode3",apiColName:"p0001_zjobcode3_n"},{colDesc:"異動前職系",colName:"ojobcode4",apiColName:"p0001_zjobcode4_o"},{colDesc:"異動後職系",colName:"njobcode4",apiColName:"p0001_zjobcode4_n"},{colDesc:"異動前職類",colName:"ojobcode5",apiColName:"p0001_zjobcode5_o"},{colDesc:"異動後職類",colName:"njobcode5",apiColName:"p0001_zjobcode5_n"}],massgzgTemplate:[{colDesc:"員工身份異動原因",colName:"massgzg",apiColName:"massgzg"},{colDesc:"異動前EG",colName:"opersg",apiColName:"p0001_persg_o"},{colDesc:"異動後EG",colName:"npersg",apiColName:"p0001_persg_n"},{colDesc:"異動前ESG",colName:"opersk",apiColName:"p0001_persk_o"},{colDesc:"異動後ESG",colName:"npersk",apiColName:"p0001_persk_n"}],massgz6Template:[{colDesc:"職等異動原因",colName:"massgz6",apiColName:"massgz6"},{colDesc:"異動前職等",colName:"ozgrade",apiColName:"p0001_zgrade1_o"},{colDesc:"異動後職等",colName:"nzgrade",apiColName:"p0001_zgrade1_n"},{colDesc:"異動前職務",colName:"ojobcode1",apiColName:"p0001_zjobcode1_o"},{colDesc:"異動後職務",colName:"njobcode1",apiColName:"p0001_zjobcode1_n"},{colDesc:"異動前職程",colName:"ojobcode2",apiColName:"p0001_zjobcode2_o"},{colDesc:"異動後職程",colName:"njobcode2",apiColName:"p0001_zjobcode2_n"}],massgzfTemplate:[{colDesc:"薪資範圍異動原因",colName:"massgzf",apiColName:"massgzf"},{colDesc:"異動前薪資範圍",colName:"oabkrs",apiColName:"p0001_abkrs_o"},{colDesc:"異動後薪資範圍",colName:"nabkrs",apiColName:"p0001_abkrs_n"}]},resultData:[],excelData:[],check_only:"",formatList:!1,dbList:!1,singleData:[],dialogVisible:!1,rangeData:[]}},methods:{dataChoice:function(t){this.dialogVisible=!0,this.dialogStatus=t},closeDialog:function(){this.dialogVisible=!1},getFileName:function(){this.fileName=this.$refs.uploadExcelComponent.fileName},beforeUpload:function(t){var e=t.size<g;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleSuccess:function(t){var e=t.results;this.tableData=e},excelTest:function(){this.check_only="test",this.excelBatchCreate()},submitDialog:function(){this.singleData=this.$refs.multipleChoice.singleData,this.rangeData=this.$refs.multipleChoice.rangeData,""!==this.singleData[0].singleValue?this.interFace[this.dialogStatus]=this.singleData[0].singleValue:this.interFace[this.dialogStatus]=this.rangeData[0].begValue,this.dialogVisible=!1},excelSubmit:function(){this.check_only="submit",this.excelBatchCreate()},interfaceTest:function(){this.check_only="test",this.interfaceBatchCreate()},interfaceSubmit:function(){this.check_only="submit",this.interfaceBatchCreate()},excelBatchCreate:function(){this.fileName?(this.resultData=[],this.format2APIData(this.tableData),0===this.resultData.length&&(this.fromDatabase=!0,this.submit2API("EXCEL"))):Object(o["Message"])({message:"請上傳檔案 !",type:"error",duration:3e3})},interfaceBatchCreate:function(){var t=this;if(this.interFace.begda&&this.interFace.endda&&this.interFace.u_site){var e={};this.data={},this.resultData=[],this.interFace.endda<this.interFace.begda?Object(o["Message"])({message:"結束時間不能比開始時間早 !",type:"error",duration:3e3}):(e.begda=Object(l["c"])(this.interFace.begda),e.endda=Object(l["c"])(this.interFace.endda),e.u_site=this.interFace.u_site,e.aedtm="",e.uname="",e.pageguid="",Object(r["o"])(e).then((function(e){t.format2APIData(e.data.data),0===t.resultData.length&&(t.fromDatabase=!0,t.submit2API("RMS_TW_DB"))})).catch((function(t){console.log(t)})))}else Object(o["Message"])({message:"請輸入完整查詢條件 !",type:"error",duration:3e3})},submit2API:function(t){for(var e=this,a=function(a){var i={batch_id:"",aedtm:"",uname:"",pageguid:"",allow_wait:!1};"test"===e.check_only&&(i.check_only=!0),"submit"===e.check_only&&(i.check_only=!1),i.source_type=t,i.data=[],i.data.push(e.excelData[a]),Object(r["a"])(i).then((function(t){var i=t.data,s=[];s=i[a].result,s[0].rowspan=s.length;for(var o=0;o<s.length;o++)e.resultData.push(s[o])})).catch((function(t){console.log(t)}))},i=0;i<this.excelData.length;i++)a(i)},format2APIData:function(t){var e=this;this.resultData=[];for(var a=function(a){var i=[],s={};Object.keys(e.dataTemplate).map((function(o){for(var l=e.dataTemplate[o],n=0;n<l.length;n++){var r={},c=l[n];r["colDesc"]=c.colDesc,r["colName"]=c.colName,r["colValue"]=t[a][c.colDesc],r["apiColName"]=l[n]["apiColName"],s[c.apiColName]=r["colValue"],i.push(r)}})),e.excelData[a]=Object.assign({},s),e.excelData[a].batch_item=a,e.checkFormat(i,s)},i=0;i<t.length;i++)a(i)},checkFormat:function(t,e){for(var a,i=this,s=0,o=function(t,o){var l=Object.assign({},e);void 0===a&&(a=l),l.process_name=t,l.message=o,i.resultData.push(l),s++},l=null,n=!1,r=["pernr","begda","plans"],c=0;c<t.length;c++){var d=t[c];if(r.includes(d["colName"]))void 0===d["colValue"]&&o(d["colDesc"],"不可為空");else{if(d["colName"].startsWith("mass")){n=void 0!==d["colValue"];continue}if(n&&void 0===d["colValue"]&&o(d["colDesc"],"不可為空"),n&&d["colName"].startsWith("n")){var u=l["colName"].substring(1,l["colName"].length);"n"+u===d["colName"]&&d["colValue"]===l["colValue"]&&o(d["colDesc"],"新舊內容不可相同")}l=d}}void 0!==a&&(a.rowspan=s)}}},y=D,v=Object(m["a"])(y,i,s,!1,null,"1c39b8b8",null);e["default"]=v.exports}},[[1,"runtime","chunk-elementUI","chunk-libs"]]]);